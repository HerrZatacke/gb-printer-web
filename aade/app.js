(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var a=n(17),r=Object(a.b)((function(e){return{imageCount:e.images.length,selectedCount:e.imageSelection.length}}),(function(){return{}})),o=n(0),i=n.n(o),l=n(23),c=n.n(l),s=n(58),u=n(57),p=Object(a.b)((function(e){return{importQueueSize:e.importQueueSize}}),(function(){return{}})),f=function(e){return i.a.createElement("nav",{className:"navigation"},i.a.createElement("ul",{className:"navigation__list"},i.a.createElement("li",{className:"navigation__entry"},i.a.createElement(s.b,{to:"/",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0},"Home")),i.a.createElement("li",{className:"navigation__entry"},i.a.createElement(s.b,{to:"/gallery",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0},"Gallery")),i.a.createElement("li",{className:"navigation__entry"},i.a.createElement(s.b,{to:"/palettes",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0},"Palettes")),i.a.createElement("li",{className:"navigation__entry"},i.a.createElement(s.b,{to:"/settings",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0},"Settings")),i.a.createElement("li",{className:"navigation__entry"},i.a.createElement(s.b,{to:"/dump",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0},"Dump")),e.importQueueSize>0?i.a.createElement("li",{className:"navigation__entry navigation__entry--queuesize"},e.importQueueSize):null))};f.propTypes={importQueueSize:c.a.number.isRequired},f.defaultProps={};var m=f,h=(n(78),p(m)),d=Object(a.b)((function(e){return{message:e.confirmation.message||null}}),(function(e){return{confirm:function(){e({type:"CONFIRM_CONFIRMATION"})},deny:function(){e({type:"DENY_CONFIRMATION"})}}})),y=Object(a.b)((function(){return{}}),(function(){return{}})),b=function(e){return i.a.createElement("div",{className:"buttons"},i.a.createElement("button",{className:"buttons__button buttons__button--deny",type:"button",onClick:e.deny},"Cancel"),i.a.createElement("button",{className:"buttons__button buttons__button--confirm",type:"button",onClick:e.confirm,autoFocus:!0},"Ok"))};b.propTypes={confirm:c.a.func.isRequired,deny:c.a.func.isRequired},b.defaultProps={};var g=b,v=(n(79),y(g)),_=function(e){return e.message?i.a.createElement("div",{className:"confirmation"},i.a.createElement("button",{type:"button",className:"confirmation__backdrop",onClick:e.deny}),i.a.createElement("div",{className:"confirmation__box"},i.a.createElement("div",{className:"confirmation__message"},e.message),i.a.createElement(v,{confirm:e.confirm,deny:e.deny}))):null};_.propTypes={message:c.a.string,confirm:c.a.func.isRequired,deny:c.a.func.isRequired},_.defaultProps={message:null};var E=_,S=(n(80),d(E)),N=Object(a.b)((function(e){return e.editImage?(t=e.editImage.hashes?e.editImage.palette:e.palettes.find((function(t){return t.shortName===e.editImage.palette})),{hash:e.editImage.hash,title:e.editImage.title,hashes:e.editImage.hashes,palette:t}):{};var t}),(function(e){return{updateTitle:function(t){e({type:"UPDATE_EDIT_IMAGE",payload:{title:t}})},updatePalette:function(t){e({type:"UPDATE_EDIT_IMAGE",payload:{palette:t}})},save:function(){e({type:"SAVE_EDIT_IMAGE"})},cancel:function(){e({type:"CANCEL_EDIT_IMAGE"})}}})),R=Object(a.b)((function(){return{}}),(function(){return{}})),k=n(11),O=n(12);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=x(e);if(t){var r=x(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(o,e);var t,n,a,r=j(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).canvasRef=null,t}return t=o,(n=[{key:"componentDidUpdate",value:function(){this.updateCanvasContent()}},{key:"updateCanvasContent",value:function(){try{this.props.palette.palette?(new k.a).update(this.canvasRef,this.props.tiles,this.props.palette.palette):(new O.a).update(this.canvasRef,this.props.tiles,this.props.palette)}catch(e){console.error("error in GameBoyImage: ".concat(e.message))}}},{key:"render",value:function(){var e=this;return i.a.createElement("canvas",{className:"gameboy-image",width:160,ref:function(t){e.canvasRef=t,t&&e.updateCanvasContent()}})}}])&&P(t.prototype,n),a&&P(t,a),o}(o.Component);I.propTypes={tiles:c.a.oneOfType([c.a.arrayOf(c.a.string),c.a.arrayOf(c.a.object)]).isRequired,palette:c.a.object.isRequired},I.defaultProps={};var q=I,z=(n(81),R(q)),D=Object(a.b)((function(e){return{palettes:e.palettes}}),(function(){return{}})),M=n(41),A=n.n(M);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=H(e);if(t){var r=H(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(o,e);var t,n,a,r=L(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={initiallySelected:e.value},t}return t=o,(n=[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("select",{className:"palette-select",value:this.props.value,onChange:function(t){e.props.onChange(t.target.value),e.setState({initiallySelected:t.target.value})}},this.props.palettes.map((function(e){var t=e.shortName,n=e.name;return i.a.createElement("option",{key:t,value:t},n)}))),i.a.createElement("ul",{className:"fancy-palette-select"},this.props.palettes.map((function(t){var n=t.shortName,a=t.name,r=t.palette;return i.a.createElement("li",{key:n,className:A()("fancy-palette-select__entry",{"fancy-palette-select__entry--active":e.state.initiallySelected===n})},i.a.createElement("button",{type:"button",className:"fancy-palette-select__button",title:a,onClick:function(){e.props.onChange(n),e.setState({initiallySelected:n})},onMouseEnter:function(){e.props.onChange(n)},onMouseLeave:function(){e.props.onChange(e.state.initiallySelected)}},i.a.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:r[0]}}),i.a.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:r[1]}}),i.a.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:r[2]}}),i.a.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:r[3]}})))}))))}}])&&B(t.prototype,n),a&&B(t,a),o}(i.a.Component);F.propTypes={palettes:c.a.array.isRequired,value:c.a.string.isRequired,onChange:c.a.func.isRequired},F.defaultProps={};var K=F,W=(n(82),D(K)),X=Object(a.b)((function(){return{}}),(function(){return{}})),Z=n(83),Q=Object(a.b)((function(){return{}}),(function(){return{}})),Y=n(197),J=function(e){var t=e.domain,n=e.handle,a=(0,e.getHandleProps)(n.id),r=a.onKeyDown,o=a.onMouseDown,l=a.onTouchStart;return i.a.createElement("button",{role:"slider",type:"button","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":n.value,className:"color-slider__handle",style:{left:"".concat(n.percent,"%")},onKeyDown:r,onMouseDown:o,onTouchStart:l})};J.propTypes={domain:c.a.array.isRequired,handle:c.a.shape({id:c.a.string.isRequired,value:c.a.number.isRequired,percent:c.a.number.isRequired}).isRequired,getHandleProps:c.a.func.isRequired},J.defaultProps={};var $=J,ee=function(e){var t=(0,e.getRailProps)(),n=t.onMouseDown,a=t.onTouchStart;return i.a.createElement("button",{type:"button",className:"color-slider__rail",onMouseDown:n,onTouchStart:a,tabIndex:"-1"},i.a.createElement("div",{className:"color-slider__rail-inner"}))};ee.propTypes={getRailProps:c.a.func.isRequired};var te=ee,ne=(n(84),function(e){switch(e.name){case"download":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 20 20"},i.a.createElement("path",{d:"M8 3v7H5s5 6 5 6c0 0 5-6 5-6h-3V3z"}),i.a.createElement("path",{d:"M5 15v2l10 0V15z"}));case"delete":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 20 20"},i.a.createElement("path",{d:"M13 5v10h-1V5zM7 5v10H6V5zm4 0v10h-1V5zM9 5v10H8V5zM4 3v2h1v12h9V5h1V3h-4V2H8v1z"}));case"edit":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 20 20"},i.a.createElement("path",{d:"M4 14.978v1.978L16 17v-2.022zM13.5 3l-8 8-1 3.5 3.5-1 8-8L13.5 3zm0 .8l.85.85-9.1 9.1L6 11.5l7.5-7.7z"}));case"reset":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 20 20"},i.a.createElement("path",{d:"M6 10a4 4 0 104-4v2L4 5l6-3v2a6 6 0 11-6 6"}));case"checkmark":return i.a.createElement("svg",{className:"svg checked",viewBox:"0 0 20 20"},i.a.createElement("path",{d:"M15 5v10H5V5zM3 3v14h14V3z"}),i.a.createElement("path",{className:"tick",d:"M5.5 11l3 3 6-6.5L13 6l-4.5 5L7 9.5z"}));case"circle":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 20 20"},i.a.createElement("circle",{r:"8",cx:"10",cy:"10"}));case"save":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 20 20"},i.a.createElement("path",{d:"M12 4v3h-2V4zM5 15v-4h10v4zm8-7H6l.01-4H4v12h12V6l-2-2h-1z"}));case"list":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 40 40"},i.a.createElement("path",{d:"M6 6v4h28V6zm0 8v4h28v-4zm0 8v4h28v-4zm0 8v4h28V30z"}));case"1x":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 40 40"},i.a.createElement("path",{d:"M5 5v6h6V5zm8 0v6h6V5zm8 0v6h6V5zm8 0v6h6V5zM5 13v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zM5 21v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zM5 29v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6z"}));case"2x":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 40 40"},i.a.createElement("path",{d:"M22 6v12h12V6zm0 16v12h12V22zM6 6v12h12V6zm0 16v12h12V22z"}));case"3x":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 40 40"},i.a.createElement("path",{d:"M30 30V10H10v20"}));case"4x":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 40 40"},i.a.createElement("path",{d:"M34 34V6H6v28z"}));case"close":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 40 40"},i.a.createElement("path",{d:"M7 3l12 17L7 37h2l11-15.584L31 37h2L21 20 33 3h-2L20 18.584 9 3H7z"}));case"fullscreen":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 40 40"},i.a.createElement("path",{d:"M37 13h-2V9h-5V7h7zM3 13h2V9h5V7H3zm34 14h-2v4h-5v2h7zM3 27h2v4h5v2H3z"}));case"right":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 40 40"},i.a.createElement("path",{d:"M17 3l12 17-12 17h-2l12-17L15 3z"}));case"left":return i.a.createElement("svg",{className:"svg",viewBox:"0 0 40 40"},i.a.createElement("path",{d:"M23 3L11 20l12 17h2L13 20 25 3z"}));default:return null}});ne.propTypes={name:c.a.string.isRequired},ne.defaultProps={};var ae=ne,re=[0,255],oe=function(e){return i.a.createElement("div",{className:"color-slider","data-color":e.color},i.a.createElement("button",{className:"color-slider__button color-slider__button--reset",type:"button",onClick:function(){e.onChange([0,85,170,255])}},i.a.createElement(ae,{name:"reset"})),i.a.createElement(Y.c,{className:"color-slider__root",mode:2,step:4,domain:re,onUpdate:e.onChange,onChange:e.onChange,values:e.values},i.a.createElement(Y.b,null,(function(e){var t=e.getRailProps;return i.a.createElement(te,{getRailProps:t})})),i.a.createElement(Y.a,null,(function(e){var t=e.handles,n=e.getHandleProps;return i.a.createElement("div",{className:"slider-handles"},t.map((function(e){return i.a.createElement($,{key:e.id,handle:e,domain:re,getHandleProps:n})})))}))))};oe.propTypes={color:c.a.oneOf(["r","g","b","n"]).isRequired,onChange:c.a.func.isRequired,values:c.a.array.isRequired};var ie=oe,le=(n(85),Q(ie));function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=me(e);if(t){var r=me(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return fe(this,n)}}function fe(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(o,e);var t,n,a,r=pe(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state=e.values,t.sendUpdate=Object(Z.debounce)(t.sendUpdate,150,!1),t}return t=o,(n=[{key:"change",value:function(e,t){var n,a,r;this.setState((r=t,(a=e)in(n={})?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,n),this.sendUpdate)}},{key:"sendUpdate",value:function(){this.props.onChange(this.state)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"grey-select"},["r","g","b","n"].map((function(t){return i.a.createElement(le,{key:"slider-".concat(t),color:t,values:e.state[t],onChange:function(n){e.change(t,n)}})})))}}])&&se(t.prototype,n),a&&se(t,a),o}(i.a.Component);he.propTypes={values:c.a.object.isRequired,onChange:c.a.func.isRequired},he.defaultProps={};var de=he,ye=(n(86),X(de)),be=n(4);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Ne(e);if(t){var r=Ne(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Se(this,n)}}function Se(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(o,e);var t,n,a,r=Ee(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={tiles:null,loaded:!1,hash:e.hash},t}return t=o,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.hash===t.hash?t:{tiles:null,loaded:!1,hash:e.hash}}}],(n=[{key:"componentDidUpdate",value:function(e){var t=this;e.hash!==this.props.hash&&this.props.hash&&(this.props.hashes?Promise.all([Object(be.b)(this.props.hashes.r),Object(be.b)(this.props.hashes.g),Object(be.b)(this.props.hashes.b),Object(be.b)(this.props.hashes.n)]).then((function(e){t.setState({tiles:O.a.rgbnTiles(e),loaded:!0})})):Object(be.b)(this.props.hash).then((function(e){t.setState({tiles:e,loaded:!0})})))}},{key:"render",value:function(){var e=this,t=this.props.palette?this.props.palette.palette:null;return this.state.loaded?i.a.createElement("div",{className:"edit-image"},i.a.createElement("div",{className:"edit-image__backdrop"}),i.a.createElement("div",{className:"edit-image__box",style:{backgroundImage:t?"linear-gradient(to bottom, ".concat(t[0]," 500px, #ffffff 600px)"):null}},i.a.createElement("label",{className:"edit-image__header",style:{color:t?t[3]:null}},i.a.createElement("input",{className:"edit-image__header-edit",placeholder:"Add a title",value:this.props.title,onChange:function(t){e.props.updateTitle(t.target.value)}})),i.a.createElement(z,{tiles:this.state.tiles,palette:this.props.palette}),this.props.hashes?i.a.createElement(ye,{values:this.props.palette,onChange:this.props.updatePalette}):i.a.createElement(W,{value:this.props.palette.shortName,onChange:this.props.updatePalette}),i.a.createElement(v,{confirm:this.props.save,deny:this.props.cancel}))):null}}])&&ve(t.prototype,n),a&&ve(t,a),o}(i.a.Component);Re.propTypes={cancel:c.a.func.isRequired,hash:c.a.string,hashes:c.a.object,palette:c.a.object,save:c.a.func.isRequired,title:c.a.string,updatePalette:c.a.func.isRequired,updateTitle:c.a.func.isRequired},Re.defaultProps={title:null,hash:null,hashes:null,palette:null};var ke=Re,Oe=(n(87),N(ke)),we=Object(a.b)((function(e){return{tiles:e.lineBuffer,palette:e.palettes.find((function(t){return t.shortName===e.activePalette}))}}),(function(){return{}})),Pe=function(e){return i.a.createElement("div",{className:A()("live-image",{"live-image--receiving":e.tiles.length})},i.a.createElement(z,{palette:e.palette,tiles:e.tiles}))};Pe.propTypes={tiles:c.a.arrayOf(c.a.string).isRequired,palette:c.a.object.isRequired},Pe.defaultProps={};var Ce=Pe,je=(n(88),we(Ce)),Te=Object(a.b)((function(e){var t,n=e.images.find((function(t,n){return n===e.lightboxImage}));return n?(t=n.hashes?n.palette:e.palettes.find((function(e){return e.shortName===n.palette})),{hash:n.hash,title:n.title,created:n.created,hashes:n.hashes,isFullscreen:e.isFullscreen,palette:t}):{isFullscreen:e.isFullscreen}}),(function(e){return{close:function(){e({type:"SET_LIGHTBOX_IMAGE_INDEX",payload:null})},prev:function(){e({type:"LIGHTBOX_PREV"})},next:function(){e({type:"LIGHTBOX_NEXT"})},fullscreen:function(){e({type:"LIGHTBOX_FULLSCREEN"})}}})),xe=n(7),Ie=n.n(xe),qe=n(3);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Be(e);if(t){var r=Be(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){return!t||"object"!==ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(o,e);var t,n,a,r=Ae(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={tiles:null,loaded:!1,hash:e.hash},t}return t=o,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.hash===t.hash?t:{tiles:null,loaded:!1,hash:e.hash}}}],(n=[{key:"componentDidUpdate",value:function(e){var t=this;e.hash!==this.props.hash&&this.props.hash&&(this.props.hashes?Promise.all([Object(be.b)(this.props.hashes.r),Object(be.b)(this.props.hashes.g),Object(be.b)(this.props.hashes.b),Object(be.b)(this.props.hashes.n)]).then((function(e){t.setState({tiles:O.a.rgbnTiles(e),loaded:!0})})):Object(be.b)(this.props.hash).then((function(e){t.setState({tiles:e,loaded:!0})})))}},{key:"render",value:function(){return this.state.loaded?i.a.createElement("div",{className:"lightbox-image"},i.a.createElement("div",{className:"lightbox-image__backdrop"}),i.a.createElement("div",{className:"lightbox-image__box"},i.a.createElement("label",{className:"lightbox-image__title"},this.props.title),this.props.isFullscreen?null:i.a.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--fullscreen",onClick:this.props.fullscreen},i.a.createElement(ae,{name:"fullscreen"})),i.a.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--close",onClick:this.props.close},i.a.createElement(ae,{name:"close"})),i.a.createElement(z,{tiles:this.state.tiles,palette:this.props.palette}),i.a.createElement("div",{className:"lightbox-image__navigation"},i.a.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--left",onClick:this.props.prev},i.a.createElement(ae,{name:"left"})),i.a.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--right",onClick:this.props.next},i.a.createElement(ae,{name:"right"}))),i.a.createElement("div",{className:"lightbox-image__created"},Ie()(this.props.created,qe.a).format(qe.c)))):null}}])&&De(t.prototype,n),a&&De(t,a),o}(i.a.Component);Ve.propTypes={created:c.a.string,hash:c.a.string,hashes:c.a.object,palette:c.a.object,title:c.a.string,close:c.a.func.isRequired,prev:c.a.func.isRequired,next:c.a.func.isRequired,fullscreen:c.a.func.isRequired,isFullscreen:c.a.bool.isRequired},Ve.defaultProps={created:null,hash:null,hashes:null,palette:null,title:null};var Le=Ve,Ue=(n(89),Te(Le)),He=Object(a.b)((function(e){return{tilesR:e.rgbnImages.r,tilesG:e.rgbnImages.g,tilesB:e.rgbnImages.b,tilesN:e.rgbnImages.n}}),(function(){return{}})),Fe=Object(a.b)((function(e,t){var n=t.hash;return{isSelected:e.imageSelection.includes(n)}}),(function(e,t){var n=t.hash,a=t.buttons;return{startDownload:a.includes("download")?function(){e({type:"START_DOWNLOAD",payload:n})}:null,deleteImage:a.includes("delete")?function(){e({type:"DELETE_IMAGE",payload:n})}:null,editImage:a.includes("edit")?function(){e({type:"EDIT_IMAGE",payload:n})}:null,saveRGBNImage:a.includes("saveRGBNImage")?function(){e({type:"SAVE_RGBN_IMAGE",payload:n})}:null,updateImageToSelection:a.includes("select")?function(t){e("add"===t?{type:"IMAGE_SELECTION_ADD",payload:n}:{type:"IMAGE_SELECTION_REMOVE",payload:n})}:null}})),Ke=n(19),We=n.n(Ke);Ie.a.extend(We.a);var Xe=function(e){return i.a.createElement("div",{className:"gallery-image-buttons",onClick:function(e){e.stopPropagation()},role:"presentation"},e.updateImageToSelection?i.a.createElement("button",{type:"button",className:A()("gallery-image-buttons__button",{"gallery-image-buttons__button--unchecked":!e.isSelected,"gallery-image-buttons__button--checked":e.isSelected}),onClick:function(){return e.updateImageToSelection(e.isSelected?"remove":"add")}},i.a.createElement(ae,{name:"checkmark"})):null,e.startDownload?i.a.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.startDownload},i.a.createElement(ae,{name:"download"})):null,e.deleteImage?i.a.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.deleteImage},i.a.createElement(ae,{name:"delete"})):null,e.editImage?i.a.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.editImage},i.a.createElement(ae,{name:"edit"})):null,e.saveRGBNImage?i.a.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.saveRGBNImage},i.a.createElement(ae,{name:"save"})):null)};Xe.propTypes={deleteImage:c.a.func,editImage:c.a.func,isSelected:c.a.bool.isRequired,startDownload:c.a.func,saveRGBNImage:c.a.func,updateImageToSelection:c.a.func},Xe.defaultProps={deleteImage:null,editImage:null,startDownload:null,saveRGBNImage:null,updateImageToSelection:null};var Ze=Xe,Qe=(n(90),Fe(Ze));function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=nt(e);if(t){var r=nt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return tt(this,n)}}function tt(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(o,e);var t,n,a,r=et(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).canvasRef=null,t.rgbnDecoder=new O.a,t}return t=o,(n=[{key:"componentDidUpdate",value:function(){this.updateCanvasContent()}},{key:"updateCanvasContent",value:function(){var e=this;Promise.all([Object(be.b)(this.props.tilesR),Object(be.b)(this.props.tilesG),Object(be.b)(this.props.tilesB),Object(be.b)(this.props.tilesN)]).then((function(t){if(e.canvasRef){var n=O.a.rgbnTiles(t);e.rgbnDecoder.update(e.canvasRef,n,qe.d)}}))}},{key:"render",value:function(){var e=this,t=this.props.tilesR||this.props.tilesG||this.props.tilesB||this.props.tilesN;return i.a.createElement("div",{className:A()("rgbn-image",{"rgbn-image--has-tiles":t})},t?i.a.createElement("canvas",{width:160,ref:function(t){e.canvasRef=t,t&&e.updateCanvasContent()}}):null,i.a.createElement(Qe,{hash:"newRGBN",buttons:["saveRGBNImage"]}))}}])&&Je(t.prototype,n),a&&Je(t,a),o}(o.Component);at.propTypes={tilesR:c.a.string,tilesG:c.a.string,tilesB:c.a.string,tilesN:c.a.string},at.defaultProps={tilesR:null,tilesG:null,tilesB:null,tilesN:null};var rt=at,ot=(n(91),He(rt)),it=Object(a.b)((function(e){return{socketUrl:e.socketUrl,exportScaleFactors:e.exportScaleFactors,pageSize:e.pageSize}}),(function(e){return{updateSocketUrl:function(t){e({type:"SET_SOCKET_URL",payload:t})},startMock:function(){e({type:"START_MOCK"})},setPageSize:function(t){e({type:"SET_PAGESIZE",payload:t})},exportSettings:function(t){e({type:"SETTINGS_EXPORT",payload:t})},changeExportScaleFactors:function(t,n){e({type:"UPDATE_EXPORT_SCALE_FACTORS",payload:{factor:t,checked:n}})}}})),lt=Object(a.b)((function(e){return{socketState:e.socketState}}),(function(){return{}})),ct=function(e){return i.a.createElement("div",{className:A()("socketstate-indicator",{"socketstate-indicator--closed":e.socketState===WebSocket.CLOSED,"socketstate-indicator--closing":e.socketState===WebSocket.CLOSING,"socketstate-indicator--open":e.socketState===WebSocket.OPEN,"socketstate-indicator--connecting":e.socketState===WebSocket.CONNECTING})})};ct.propTypes={socketState:c.a.number.isRequired},ct.defaultProps={};var st=ct,ut=(n(92),lt(st));function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=yt(e);if(t){var r=yt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return dt(this,n)}}function dt(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(o,e);var t,n,a,r=ht(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={sync:!0,socketUrl:e.socketUrl,pageSize:e.pageSize},t}return t=o,a=[{key:"getDerivedStateFromProps",value:function(e,t){return{url:t.sync?e.socketUrl:t.socketUrl,sync:t.sync,pageSize:t.sync?e.pageSize:t.pageSize}}}],(n=[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"settings"},i.a.createElement("div",{className:"settings__inputgroup"},i.a.createElement("div",{className:"settings__label"},"Page size",i.a.createElement("span",{className:A()("settings__note",{"settings__note--warn":!this.props.pageSize})},"(set to 0 to disable pagination - might cause performance issues on large sets of images)")),i.a.createElement("input",{id:"settings-url",className:"settings__input",type:"number",min:"0",value:this.state.pageSize,onChange:function(t){var n=t.target;e.setState({sync:!1,pageSize:n.value})},onBlur:function(){e.props.setPageSize(parseInt(e.state.pageSize,10)||0),e.setState({sync:!0})}})),i.a.createElement("div",{className:"settings__inputgroup"},i.a.createElement("div",{className:"settings__label"},"Image export dimensions"),[1,2,3,4,6,8,10].map((function(t){return i.a.createElement("label",{key:t,className:A()("settings__label-check",{"settings__label-check--selected":e.props.exportScaleFactors.includes(t)}),title:"".concat(160*t,"×").concat(144*t)},"".concat(t,"×"),i.a.createElement("input",{type:"checkbox",checked:e.props.exportScaleFactors.includes(t),onChange:function(n){var a=n.target;e.props.changeExportScaleFactors(t,a.checked)}}))}))),"https:"===window.location.protocol?i.a.createElement("div",{className:"settings__inputgroup"},i.a.createElement("div",{className:"settings__label"},"SSL WebSockets are currently not supported by the"," ",i.a.createElement("a",{href:"https://github.com/gilmaimon/ArduinoWebsockets/issues/59"},"ArduinoWebsockets library"))):i.a.createElement("div",{className:"settings__inputgroup"},i.a.createElement("label",{htmlFor:"settings-url",className:"settings__label"},"Remote Socket URL",i.a.createElement(ut,null)),i.a.createElement("input",{id:"settings-url",className:"settings__input",value:this.state.socketUrl,onChange:function(t){var n=t.target;e.setState({sync:!1,socketUrl:n.value})},onKeyUp:function(t){switch(t.key){case"Enter":e.props.updateSocketUrl(e.state.socketUrl);break;case"Escape":e.setState({socketUrl:e.props.socketUrl,sync:!0})}}}),i.a.createElement("button",{type:"button",className:"settings__button",onClick:function(){e.setState({sync:!0}),e.props.updateSocketUrl(e.state.socketUrl)}},"Connect")),null,i.a.createElement("div",{className:"settings__inputgroup settings__buttongroup"},i.a.createElement("button",{type:"button",className:"settings__button",onClick:function(){return e.props.exportSettings("debug")}},"Export debug settings"),i.a.createElement("button",{type:"button",className:"settings__button",onClick:function(){return e.props.exportSettings("settings")}},"Export settings"),i.a.createElement("button",{type:"button",className:"settings__button",onClick:function(){return e.props.exportSettings("full")}},"Export everything (including images)")))}}])&&ft(t.prototype,n),a&&ft(t,a),o}(i.a.Component);bt.propTypes={changeExportScaleFactors:c.a.func.isRequired,exportScaleFactors:c.a.array.isRequired,socketUrl:c.a.string.isRequired,startMock:c.a.func.isRequired,updateSocketUrl:c.a.func.isRequired,pageSize:c.a.number.isRequired,setPageSize:c.a.func.isRequired,exportSettings:c.a.func.isRequired},bt.defaultProps={};var gt=bt,vt=(n(93),it(gt)),_t=Object(a.b)((function(e){return{palettes:e.palettes}}),(function(){return{}})),Et=Object(a.b)((function(e,t){var n=t.shortName;return{isActive:e.activePalette===n}}),(function(e,t){var n=t.shortName;return{setActive:function(){e({type:"PALETTE_SET_ACTIVE",payload:n})}}})),St=function(e){return i.a.createElement("li",{className:A()("palette",{"palette--active":e.isActive}),style:{backgroundImage:"linear-gradient(to right, ".concat(e.palette[0]).concat("36"," 0%, ").concat(e.palette[1]).concat("36"," 33.3%, ").concat(e.palette[2]).concat("36"," 66.6%, ").concat(e.palette[3]).concat("36"," 100%)")}},i.a.createElement("button",{onClick:function(){e.setActive()},className:"palette__button",type:"button"},i.a.createElement("div",{className:"palette__name"},e.name,i.a.createElement("span",{className:"palette__shortname"},e.shortName)),i.a.createElement("div",{className:"palette__colors"},i.a.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[0]},title:e.palette[0]}," "),i.a.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[1]},title:e.palette[1]}," "),i.a.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[2]},title:e.palette[2]}," "),i.a.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[3]},title:e.palette[3]}," "))))};St.propTypes={shortName:c.a.string.isRequired,name:c.a.string.isRequired,isActive:c.a.bool.isRequired,setActive:c.a.func.isRequired,palette:c.a.arrayOf(c.a.string).isRequired},St.defaultProps={};var Nt=St,Rt=(n(94),Et(Nt)),kt=function(e){return i.a.createElement("ul",{className:"palettes"},e.palettes.map((function(e){return i.a.createElement(Rt,{key:e.shortName,name:e.name,shortName:e.shortName,palette:e.palette})})))};kt.propTypes={palettes:c.a.array.isRequired},kt.defaultProps={};var Ot=kt,wt=(n(95),_t(Ot)),Pt=Object(a.b)((function(){return{}}),(function(e){return{dumpPlainText:function(t){e({type:"IMPORT_PLAIN_TEXT",payload:t})}}}));function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=qt(e);if(t){var r=qt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return It(this,n)}}function It(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tt(e,t)}(l,e);var t,a,r,o=xt(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={text:""},t}return t=l,(a=[{key:"componentDidMount",value:function(){var e=this;n.e(1).then(n.bind(null,201)).then((function(t){var n=t.default;e.setState({text:n.join("\n")})}))}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"dump"},i.a.createElement("textarea",{className:"dump__data",value:this.state.text,onChange:function(t){var n=t.target;e.setState({text:n.value})}})),i.a.createElement("button",{className:"dump__submit",type:"button",onClick:function(){e.props.dumpPlainText(e.state.text)}},"Import"))}}])&&jt(t.prototype,a),r&&jt(t,r),l}(i.a.Component);zt.propTypes={dumpPlainText:c.a.func.isRequired},zt.defaultProps={};var Dt=zt,Mt=(n(96),Pt(Dt)),At=n(18),Gt=Object(a.b)((function(e){var t=e.currentPage*e.pageSize;return{images:Object(At.a)(e).splice(t,e.pageSize),indexOffset:t,currentView:e.galleryView}}),(function(){return{}})),Bt=Object(a.b)((function(e,t){var n,a=t.hash,r=e.images.find((function(e){return e.hash===a}));return n=r.hashes?r.palette:e.palettes.find((function(e){return e.shortName===r.palette})),{title:r.title,created:r.created,index:r.index,hashes:r.hashes,isSelected:e.imageSelection.includes(a),palette:n}}),(function(e,t){var n=t.index,a=t.hash;return{setLightboxImageIndex:function(){e({type:"SET_LIGHTBOX_IMAGE_INDEX",payload:n})},updateImageSelection:function(t,n){e(n?{type:"IMAGE_SELECTION_SHIFTCLICK",payload:a}:"add"===t?{type:"IMAGE_SELECTION_ADD",payload:a}:{type:"IMAGE_SELECTION_REMOVE",payload:a})}}}));var Vt=Object(a.b)((function(e,t){var n=t.hash;return{isR:e.rgbnImages.r===n,isG:e.rgbnImages.g===n,isB:e.rgbnImages.b===n,isN:e.rgbnImages.n===n}}),(function(e,t){return{updateRGBN:function(n,a){var r,o,i;e({type:"UPDATE_RGBN_PART",payload:(r={},o=n,i=a?t.hash:"",o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)})}}})),Lt=[{propKey:"isR",cssModifier:"red",updateKey:"r"},{propKey:"isG",cssModifier:"green",updateKey:"g"},{propKey:"isB",cssModifier:"blue",updateKey:"b"},{propKey:"isN",cssModifier:"normal",updateKey:"n"}],Ut=function(e){return i.a.createElement("div",{className:"rgbn-select",onClick:function(e){e.stopPropagation()},role:"presentation"},Lt.map((function(t){var n=t.propKey,a=t.cssModifier,r=t.updateKey;return i.a.createElement("button",{type:"button",key:n,className:A()("rgbn-select__button rgbn-select__button--".concat(a),{"rgbn-select__button--selected":e[n]}),onClick:function(){e.updateRGBN(r,!e[n])}},i.a.createElement(ae,{name:"circle"}))})))};Ut.propTypes={isR:c.a.bool.isRequired,isG:c.a.bool.isRequired,isB:c.a.bool.isRequired,isN:c.a.bool.isRequired,updateRGBN:c.a.func.isRequired},Ut.defaultProps={};var Ht=Ut,Ft=(n(97),Vt(Ht));function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Jt(e);if(t){var r=Jt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Qt(this,n)}}function Qt(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?Yt(e):t}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ie.a.extend(We.a);var $t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(o,e);var t,n,a,r=Zt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={tiles:null},t.handleCellClick=t.handleCellClick.bind(Yt(t)),t}return t=o,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.hashes?Promise.all([Object(be.b)(this.props.hashes.r),Object(be.b)(this.props.hashes.g),Object(be.b)(this.props.hashes.b),Object(be.b)(this.props.hashes.n)]).then((function(t){e.setState({tiles:O.a.rgbnTiles(t)})})):Object(be.b)(this.props.hash).then((function(t){e.setState({tiles:t})}))}},{key:"getDateText",value:function(){return this.props.created?Ie()(this.props.created,qe.a).format(qe.c):null}},{key:"handleCellClick",value:function(e){e.ctrlKey||e.shiftKey?(e.preventDefault(),this.props.updateImageSelection(this.props.isSelected?"remove":"add",e.shiftKey)):this.props.setLightboxImageIndex()}},{key:"renderDefault",value:function(){return i.a.createElement("li",{className:A()("gallery-image",{"gallery-image--selected":this.props.isSelected}),onClick:this.handleCellClick,role:"presentation"},i.a.createElement("div",{className:"gallery-image__image"},this.state.tiles?i.a.createElement(z,{tiles:this.state.tiles,palette:this.props.palette}):null),this.props.title?i.a.createElement("span",{className:"gallery-image__title"},this.props.title):null,i.a.createElement("span",{className:"gallery-image__created"},this.getDateText()),i.a.createElement(Qe,{hash:this.props.hash,buttons:["select","download","delete","edit"]}))}},{key:"renderList",value:function(){return i.a.createElement("tr",{className:A()("gallery-list-image",{"gallery-list-image--selected":this.props.isSelected}),onClick:this.handleCellClick,role:"presentation"},i.a.createElement("td",{className:"gallery-list-image__cell-image"},i.a.createElement("div",{className:"gallery-list-image__image"},this.state.tiles?i.a.createElement(z,{tiles:this.state.tiles,palette:this.props.palette}):null)),i.a.createElement("td",{className:"gallery-list-image__cell-index"},i.a.createElement("div",{className:"gallery-list-image__index"},this.props.index)),i.a.createElement("td",{className:"gallery-list-image__cell-description"},i.a.createElement("div",{className:"gallery-list-image__description"},i.a.createElement("span",{className:"gallery-list-image__title"},this.props.title),i.a.createElement("span",{className:"gallery-list-image__created"},this.getDateText()))),i.a.createElement("td",{className:"gallery-list-image__cell-rgbn"},this.props.hashes?null:i.a.createElement(Ft,{hash:this.props.hash})),i.a.createElement("td",{className:"gallery-list-image__cell-buttons"},i.a.createElement(Qe,{hash:this.props.hash,buttons:["select","download","delete","edit"]})))}},{key:"render",value:function(){return"default"===this.props.type?this.renderDefault():this.renderList()}}])&&Wt(t.prototype,n),a&&Wt(t,a),o}(i.a.Component);$t.propTypes={created:c.a.string,hash:c.a.string.isRequired,hashes:c.a.object,palette:c.a.object.isRequired,title:c.a.string.isRequired,setLightboxImageIndex:c.a.func.isRequired,type:c.a.oneOf(["list","default"]).isRequired,index:c.a.number.isRequired,isSelected:c.a.bool.isRequired,updateImageSelection:c.a.func.isRequired},$t.defaultProps={created:null,hashes:null};var en=$t,tn=(n(98),Bt(en)),nn=Object(a.b)((function(){return{}}),(function(){return{}})),an=Object(a.b)((function(e){return{currentView:e.galleryView}}),(function(e){return{updateView:function(t){e({type:"SET_CURRENT_GALLERY_VIEW",payload:t})}}})),rn=["list","1x","2x","3x","4x"],on=function(e){return i.a.createElement("ul",{className:"gallery-view-select"},rn.map((function(t){return i.a.createElement("li",{key:t,className:A()("gallery-view-select__view",{"gallery-view-select__view--selected":e.currentView===t})},i.a.createElement("button",{type:"button",onClick:function(){e.updateView(t)}},i.a.createElement(ae,{name:t})))})))};on.propTypes={currentView:c.a.string.isRequired,updateView:c.a.func.isRequired},on.defaultProps={};var ln=on,cn=(n(99),an(ln)),sn=Object(a.b)((function(e){return{totalPages:e.pageSize?Math.ceil(e.images.length/e.pageSize):0,currentPage:e.currentPage}}),(function(e){return{setCurrentPage:function(t){e({type:"SET_CURRENTPAGE",payload:t})}}})),un=Object(a.b)((function(){return{}}),(function(){return{}})),pn=function(e){return i.a.createElement("li",{className:e.className},i.a.createElement("button",{type:"button",disabled:e.disabled,onClick:e.disabled?null:e.action,title:e.title},e.children))};pn.propTypes={className:c.a.string,children:c.a.node.isRequired,action:c.a.func.isRequired,disabled:c.a.bool,title:c.a.string.isRequired},pn.defaultProps={className:null,disabled:!1};var fn=pn,mn=(n(100),un(fn));function hn(e){return function(e){if(Array.isArray(e))return dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var yn=function(e){if(e.totalPages<2)return null;var t=hn(new Array(e.totalPages)).map((function(e,t){return t})),n=e.setCurrentPage,a=e.currentPage,r=t.map((function(e){switch(e){case 0:case a-1:case a:case a+1:case t.length-1:return i.a.createElement(mn,{key:e,page:e,className:A()("pagination__list-item pagination__list-item--page",{"pagination__list-item--page--active":e===a}),title:"To page ".concat(e+1),disabled:e===a,action:function(){n(e)}},e+1);case a-2:case a+2:return i.a.createElement("li",{key:e,className:"pagination__list-item pagination__list-item--ellipsis"});default:return null}}));return a>0&&r.unshift(i.a.createElement(mn,{key:"back",className:"pagination__list-item pagination__list-item--prevnext pagination__list-item--prevnext-prev",title:"To previous page",disabled:a<1,action:function(){n(a-1)}},i.a.createElement(ae,{name:"left"}))),a<t.length-1&&r.push(i.a.createElement(mn,{key:"next",className:"pagination__list-item pagination__list-item--prevnext",title:"To next page",disabled:a>=t.length-1,action:function(){n(a+1)}},i.a.createElement(ae,{name:"right"}))),i.a.createElement("ul",{className:"pagination"},r.filter(Boolean))};yn.propTypes={totalPages:c.a.number.isRequired,currentPage:c.a.number.isRequired,setCurrentPage:c.a.func.isRequired};var bn=yn,gn=(n(101),sn(bn)),vn=Object(a.b)((function(e){var t=e.currentPage*e.pageSize,n=!!Object(At.a)(e).splice(t,e.pageSize).find((function(t){var n=t.hash;return!e.imageSelection.includes(n)}));return{enabled:e.imageSelection.length>0,hasUnselected:n}}),(function(e){return{batchTask:function(t){e({type:"BATCH_TASK",payload:t})}}})),_n=["download","delete"],En=function(e){return i.a.createElement("ul",{className:"batch-buttons"},i.a.createElement("li",{className:A()("batch-buttons__action batch-buttons__action--enabled",{"batch-buttons__action--has-unselected":e.hasUnselected})},i.a.createElement("button",{type:"button",onClick:function(){return e.batchTask(e.hasUnselected?"checkall":"uncheckall")}},i.a.createElement(ae,{name:"checkmark"}))),_n.map((function(t){return i.a.createElement("li",{key:t,className:A()("batch-buttons__action",{"batch-buttons__action--disabled":!e.enabled,"batch-buttons__action--enabled":e.enabled})},i.a.createElement("button",{disabled:!e.enabled,type:"button",onClick:function(){return e.batchTask(t)}},i.a.createElement(ae,{name:t})))})))};En.propTypes={batchTask:c.a.func.isRequired,enabled:c.a.bool.isRequired,hasUnselected:c.a.bool.isRequired},En.defaultProps={};var Sn=En,Nn=(n(102),vn(Sn)),Rn=function(){return i.a.createElement("div",{className:"gallery-header"},i.a.createElement(cn,null),i.a.createElement(gn,null),i.a.createElement(Nn,null))},kn=(n(103),nn(Rn));var On=function(e){var t,n,a,r=e.images.map((function(t,n){return i.a.createElement(tn,{type:"list"===e.currentView?"list":"default",key:t.hash,hash:t.hash,index:n+e.indexOffset})}));return"list"!==e.currentView&&r.push(i.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy1"}),i.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy2"}),i.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy3"}),i.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy4"}),i.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy5"})),i.a.createElement(i.a.Fragment,null,i.a.createElement(kn,null),"list"===e.currentView?i.a.createElement("table",{className:"gallery gallery--list"},i.a.createElement("tbody",null,r)):i.a.createElement("ul",{className:A()("gallery",(t={},n="gallery--".concat(e.currentView),a=!0,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))},r),e.images.length<3?null:i.a.createElement(kn,null))};On.propTypes={images:c.a.array.isRequired,indexOffset:c.a.number.isRequired,currentView:c.a.string.isRequired},On.defaultProps={};var wn=On,Pn=(n(104),Gt(wn)),Cn=Object(a.b)((function(){return{}}),(function(){return{}}));function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=zn(e);if(t){var r=zn(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return qn(this,n)}}function qn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dn=null,Mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(l,e);var t,a,r,o=In(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=o.call(this,e)).state={mdComponentReady:!1},t}return t=l,(a=[{key:"componentDidMount",value:function(){var e=this;n.e(8).then(n.t.bind(null,202,7)).then((function(t){var n=t.default;Dn=n,e.setState({mdComponentReady:!0})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"home"},this.state.mdComponentReady?i.a.createElement(Dn,{className:"markdown-body",source:'# Game Boy Printer Web\r\n\r\n## Basic usage\r\n* choose a [color palette](#/palettes)\r\n* [paste your exports](#/dump) into a textfield (or simply drag and drop your dump(s) into this window)\r\n* check your images [in the gallery](#/gallery)\r\n* You can also try to drag/drop your cartridge dump into this window  \r\n\r\n## Supported formats\r\n* This Project is mainly built around the serial output of the original [GBP Emulator](https://github.com/mofosyne/arduino-gameboy-printer-emulator)\r\n* Cart .SAV files are also supported experimentally  \r\nCurrently I assume the size is exactly `131072 bytes`, as this is the only sample of a cartridge dump I have.  \r\nIf it does not work, [please open an issue](https://github.com/HerrZatacke/gb-printer-web/issues) and attach your file.  \r\n\r\n\r\n## ToDos\r\n* Add filters/tags\r\n* Export without frame / with different frame\r\n* Select multiple palettes to download the gallery in. (add checkbox to images, maybe allow download from galleries-page)\r\n* allow some gesture navigation on touch devices\r\n* Edit palettes\r\n* Export settings data\r\n* Allow rendering animated Gifs\r\n* Other blendmodes than multiply for RGB-Images\r\n* Reset button for sliders when editing RGB-Images\r\n\r\n## Local Setup\r\nYou can run this app locally to directly use the gbp-emulator on your serial port \r\n* Install [node.js](https://nodejs.org/) if you haven\'t already.\r\n* Check out/clone/download [this repository](https://github.com/HerrZatacke/gb-printer-web)\r\n* Run `npm i` in the root directory via your commandline\r\n* Add a `ports.config.json` in the root dir (see below)\r\n* Run `npm start` via your commandline\r\n* Open [localhost:3000](http://localhost:3000)\r\n* Go to the \'Settings\' page and change the \'Remote Socket URL\' to `localhost:3001`\r\n* Print something\r\n\r\n\r\n## Serial Config with `ports.config.json`\r\nCreate a file `ports.config.json` in the root dir and configure it like the following example (multiple ports are supported):\r\n``` json\r\n[\r\n  {\r\n    "path": "COM19",\r\n    "baudRate": 115200,\r\n    "dataBits": 8,\r\n    "stopBits": 1,\r\n    "parity": "none",\r\n    "retry": false\r\n  },\r\n  ...\r\n]\r\n```\r\nyou can set `retry` to a number of milliseconds after which a retry will be attempted to open the port.\r\n\r\n## Future Plans\r\nThis tool is meant to be integrated into the [Websocket GBP Emulator](https://github.com/HerrZatacke/websocket-gbp-emulator)\r\n\r\n## Links and research\r\n* The source to this project is [available on GitHub](https://github.com/HerrZatacke/gb-printer-web)\r\n* A basic version of this tool is avaliable [on GitHub-pages](https://herrzatacke.github.io/gb-printer-web/#/)  \r\n* This project is meant to replace my [GB printer direct serial to gif converter](https://github.com/HerrZatacke/direct-serial-to-gif-converter)\r\n\r\n### Research\r\n* [Websockets on an ESP8266](https://tttapa.github.io/ESP8266/Chap14%20-%20WebSocket.html)\r\n* [Programming a standalone ESP8266](https://www.instructables.com/id/3-Simple-Ways-of-Programming-an-ESP8266-12X-Module/)\r\n* [Deploying your JS App to Github Pages the easy way (or not)](https://medium.com/linagora-engineering/1ef8c48424b7)\r\n* [SSL WebSockets for the Arduino currently not supported](https://github.com/gilmaimon/ArduinoWebsockets/issues/59) \r\n'}):null)}}])&&Tn(t.prototype,a),r&&Tn(t,r),l}(i.a.Component);Mn.propTypes={},Mn.defaultProps={};var An=Mn,Gn=(n(105),Cn(An)),Bn=Object(a.b)((function(e){return{dragover:e.dragover}}),(function(){return{}})),Vn=function(e){return e.dragover?i.a.createElement("div",{className:"drag-over"}):null};Vn.propTypes={dragover:c.a.bool.isRequired},Vn.defaultProps={};var Ln=Vn,Un=(n(106),Bn(Ln)),Hn=function(e){return i.a.createElement(s.a,null,i.a.createElement(h,null),i.a.createElement("div",{className:"app__content"},i.a.createElement(u.c,null,i.a.createElement(u.a,{path:"/gallery"},i.a.createElement("h1",{className:"app__content-headline"},"Gallery",i.a.createElement("span",{className:"app__counter"},e.selectedCount?"(".concat(e.selectedCount," of ").concat(e.imageCount," images selected)"):"(".concat(e.imageCount," images)"))),i.a.createElement("p",{className:"app__content-hint"},"These images are stored in the localStorage of your browser. That's why you (currently) cannot share a link to one of them.",i.a.createElement("br",null),"Also if you clear your browser's cookies, the images will be gone too."),i.a.createElement(Pn,null)),i.a.createElement(u.a,{path:"/palettes"},i.a.createElement("h1",{className:"app__content-headline"},"Palettes"),i.a.createElement(wt,null)),i.a.createElement(u.a,{path:"/settings"},i.a.createElement("h1",{className:"app__content-headline"},"Settings"),i.a.createElement(vt,null)),i.a.createElement(u.a,{path:"/dump"},i.a.createElement("h1",{className:"app__content-headline"},"Paste your plaintext"),i.a.createElement(Mt,null)),i.a.createElement(u.a,{path:"/"},i.a.createElement(Gn,null)))),i.a.createElement(S,null),i.a.createElement(Oe,null),i.a.createElement(je,null),i.a.createElement(Ue,null),i.a.createElement(ot,null),i.a.createElement(Un,null))};Hn.propTypes={imageCount:c.a.number.isRequired,selectedCount:c.a.number.isRequired},Hn.defaultProps={};var Fn=Hn;n(107),t.default=r(Fn)},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}}]);