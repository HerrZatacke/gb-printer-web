/*! License information can be found in e448/app.js.l.txt */
(self.webpackChunkgb_printer_web=self.webpackChunkgb_printer_web||[]).push([[143],{84746:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return yi}});var n=r(22115),a=(r(57327),r(79753),r(82526),r(41817),r(41539),r(32165),r(66992),r(78783),r(33948),r(91038),r(47042),r(68309),r(76293));function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=function(e){var t=e.images,r=e.filtersActiveTags,n=e.recentImports;return o(t).filter((0,a.Z)(r,n)).length},c=(0,n.$j)((function(e){return{imageCount:e.images.length,pageSize:e.pageSize,selectedCount:e.imageSelection.length,filteredCount:l(e)}}),(function(){return{}})),u=(r(74916),r(4723),r(67294)),s=r(45697),m=r.n(s),p=r(73727),f=r(5977),d=(0,n.$j)((function(e){return{syncBusy:e.syncBusy,useSync:!!(e.dropboxStorage.use||e.gitStorage.use&&e.gitStorage.owner&&e.gitStorage.repo&&e.gitStorage.branch&&e.gitStorage.throttle&&e.gitStorage.token),useSerials:e.useSerials}}),(function(e){return{selectSync:function(){e({type:"STORAGE_SYNC_SELECT"})}}})),g=r(94184),y=r.n(g),b=function(e){var t=y()("svg","svg--".concat(e.name),e.className);switch(e.name){case"download":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M8 3v7H5s5 6 5 6c0 0 5-6 5-6h-3V3z"}),u.createElement("path",{d:"M5 15v2l10 0V15z"}));case"clone":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M3 2v13h3v3h10V5h-3V2zm1 1h8v2H8.11l.78 1H15v11H7V9.639L6 8.36V14H4zm2.162.996L4.588 5.23l4.314 5.51-1.574 1.233 6.063 2.875-1.338-6.575-1.574 1.235z"}));case"delete":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M13 5v10h-1V5zM7 5v10H6V5zm4 0v10h-1V5zM9 5v10H8V5zM4 3v2h1v12h9V5h1V3h-4V2H8v1z"}));case"loading":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M10 2 4 5l6 3V6c3.15 0 4.911 3.369 3.535 5.89l1.8.881C17.337 8.996 14.7 4 10 4zm-.001 16 6-3-6-3v2c-3.15 0-4.911-3.369-3.535-5.89l-1.8-.881C2.662 11.004 5.299 16 9.999 16z"}));case"warn":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M10.75 16v-1.5h-1.5V16zm0-3V6h-1.5v7zM2 17c.192-.312 8-14 8-14l8 14z"}));case"arrowdown":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"m3 5 7 10 7-10z"}));case"plug":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M12.526 9.533c0-1.932-1.856-3.033-4.21-3.033H6.21v.778H2v.972h4.21v3.5H2.02l-.02.972h4.21v.778h2.106c2.354 0 4.21-1.1 4.21-3.033 2.31-.651 3.02.774 5.474 0v-.934c-2.27.808-2.999-.697-5.474 0z"}));case"share":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M14 3.5A2.5 2.5 0 0011.5 6a2.5 2.5 0 00.025.336l-3.85 1.812A2.5 2.5 0 006 7.5 2.5 2.5 0 003.5 10 2.5 2.5 0 006 12.5a2.5 2.5 0 001.676-.648l3.85 1.812A2.5 2.5 0 0011.5 14a2.5 2.5 0 002.5 2.5 2.5 2.5 0 002.5-2.5 2.5 2.5 0 00-2.5-2.5 2.5 2.5 0 00-1.836.807l-3.728-1.754A2.5 2.5 0 008.5 10a2.5 2.5 0 00-.066-.553l3.73-1.754A2.5 2.5 0 0014 8.5 2.5 2.5 0 0016.5 6 2.5 2.5 0 0014 3.5z"}));case"sync":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M8 8.5v5H5s4.866 6 5 6c.134 0 5-6 5-6h-3v-5zm2-8l-6 3 6 3v-2c3.15 0 4.911 3.369 3.535 5.89l1.8.881C17.337 7.496 14.7 2.5 10 2.5zM4.664 5.729C3.271 8.357 4.2 11.392 6 13h1.5v-1.4c-1.358-.983-2.02-3.185-1.035-4.99z"}));case"edit":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M4 14.978v1.978L16 17v-2.022zM13.5 3l-8 8-1 3.5 3.5-1 8-8L13.5 3zm0 .8l.85.85-9.1 9.1L6 11.5l7.5-7.7z"}));case"view":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M5.506 6.6L1 10l4.504 3.4c1.199.88 2.814 1.372 4.496 1.371 1.682 0 3.296-.492 4.494-1.37L19 10l-4.504-3.4C13.297 5.72 11.711 5.228 10 5.237c-1.711.009-3.318.5-4.494 1.363zm4.152-.502c2.101 0 3.805 1.747 3.805 3.902 0 2.155-1.704 3.902-3.805 3.902-2.1 0-3.804-1.747-3.804-3.902 0-2.155 1.703-3.902 3.804-3.902zm-.894 2.035c-1.006 0-1.821.836-1.82 1.867-.001 1.031.814 1.868 1.82 1.867 1.004 0 1.818-.836 1.818-1.867 0-1.03-.814-1.867-1.818-1.867z"}));case"animate":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M3 4v12h14V4zm.5.5h2v2h-2zm2.75 0h2v2h-2zM9 4.5h2v2H9zm2.75 0h2v2h-2zm2.75 0h2v2h-2zM4 7h12v6H4zm-.5 6.5h2v2h-2zm2.75 0h2v2h-2zm2.75 0h2v2H9zm2.75 0h2v2h-2zm2.75 0h2v2h-2z"}));case"reset":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M6 10a4 4 0 104-4v2L4 5l6-3v2a6 6 0 11-6 6"}));case"checkmark":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M15 5v10H5V5zM3 3v14h14V3z"}),u.createElement("path",{className:"tick",d:"M5.5 11l3 3 6-6.5L13 6l-4.5 5L7 9.5z"}));case"circle":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("circle",{r:"8",cx:"10",cy:"10"}));case"add":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M8 2v6H2v4h6v6h4v-6h6V8h-6V2z"}));case"remove":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M2 8v4h16V8z"}));case"save":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M12 4v3h-2V4zM5 15v-4h10v4zm8-7H6l.01-4H4v12h12V6l-2-2h-1z"}));case"sort":return u.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.createElement("path",{d:"M4.5 8.5L10 3l5.5 5.5zm0 3L10 17l5.5-5.5z"}));case"list":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M6 6v4h28V6zm0 8v4h28v-4zm0 8v4h28v-4zm0 8v4h28V30z"}));case"1x":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M5 5v6h6V5zm8 0v6h6V5zm8 0v6h6V5zm8 0v6h6V5zM5 13v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zM5 21v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zM5 29v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6z"}));case"2x":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M22 6v12h12V6zm0 16v12h12V22zM6 6v12h12V6zm0 16v12h12V22z"}));case"3x":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M30 30V10H10v20"}));case"4x":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M34 34V6H6v28z"}));case"close":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M7 3l12 17L7 37h2l11-15.584L31 37h2L21 20 33 3h-2L20 18.584 9 3H7z"}));case"fullscreen":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M37 13h-2V9h-5V7h7zM3 13h2V9h5V7H3zm34 14h-2v4h-5v2h7zM3 27h2v4h5v2H3z"}));case"right":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M17 3l12 17-12 17h-2l12-17L15 3z"}));case"left":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M23 3L11 20l12 17h2L13 20 25 3z"}));case"burger":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M2 6v4h36V6zm0 12v4h36v-4zm0 12v4h36v-4z"}));case"close-nav":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M5.5 2.5l-3 3L17 20 2.5 34.5l3 3L20 23l14.5 14.5 3-3L23 20 37.5 5.5l-3-3L20 17z"}));case"filter":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M34 10V6H6v4l12 12v12h4V22z"}));case"moon":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M15.715 35.424a16.016 16 0 004.273.576A16.016 16 0 0036 20.004 16.016 16 0 0019.988 4a16.016 16 0 00-4.27.585 16.016 16 0 01.303.084 16.016 16 0 01.331.105 16.016 16 0 01.331.109 16.016 16 0 01.327.12 16.016 16 0 01.323.122 16.016 16 0 01.322.129 16.016 16 0 01.323.14 16.016 16 0 01.315.146 16.016 16 0 01.315.15 16.016 16 0 01.307.16 16.016 16 0 01.306.166 16.016 16 0 01.299.169 16.016 16 0 01.298.181 16.016 16 0 01.299.186 16.016 16 0 01.29.19 16.016 16 0 01.283.197 16.016 16 0 01.283.201 16.016 16 0 01.278.214 16.016 16 0 01.274.214 16.016 16 0 01.267.221 16.016 16 0 01.262.23 16.016 16 0 01.258.23 16.016 16 0 01.25.242 16.016 16 0 01.25.242 16.016 16 0 01.243.25 16.016 16 0 01.238.254 16.016 16 0 01.23.258 16.016 16 0 01.226.266 16.016 16 0 01.218.266 16.016 16 0 01.214.278 16.016 16 0 01.21.278 16.016 16 0 01.201.282 16.016 16 0 01.194.282 16.016 16 0 01.19.295 16.016 16 0 01.181.298 16.016 16 0 01.178.298 16.016 16 0 01.17.303 16.016 16 0 01.16.306 16.016 16 0 01.162.31 16.016 16 0 01.145.315 16.016 16 0 01.146.318 16.016 16 0 01.137.319 16.016 16 0 01.129.322 16.016 16 0 01.12.323 16.016 16 0 01.114.33 16.016 16 0 01.109.33 16.016 16 0 01.1.331 16.016 16 0 01.094.34 16.016 16 0 01.084.334 16.016 16 0 01.081.338 16.016 16 0 01.069.339 16.016 16 0 01.064.343 16.016 16 0 01.057.342 16.016 16 0 01.048.343 16.016 16 0 01.04.347 16.016 16 0 01.037.346 16.016 16 0 01.024.343 16.016 16 0 01.02.35 16.016 16 0 01.012.343 16.016 16 0 010 .351 16.016 16 0 010 .121 16.016 16 0 010 .347 16.016 16 0 01-.016.346 16.016 16 0 01-.024.347 16.016 16 0 01-.028.347 16.016 16 0 01-.04.346 16.016 16 0 01-.041.343 16.016 16 0 01-.053.343 16.016 16 0 01-.056.342 16.016 16 0 01-.069.343 16.016 16 0 01-.072.339 16.016 16 0 01-.08.338 16.016 16 0 01-.09.335 16.016 16 0 01-.097.334 16.016 16 0 01-.1.331 16.016 16 0 01-.11.33 16.016 16 0 01-.12.323 16.016 16 0 01-.122.33 16.016 16 0 01-.133.323 16.016 16 0 01-.137.315 16.016 16 0 01-.145.318 16.016 16 0 01-.154.31 16.016 16 0 01-.16.31 16.016 16 0 01-.162.307 16.016 16 0 01-.174.299 16.016 16 0 01-.177.298 16.016 16 0 01-.186.294 16.016 16 0 01-.19.29 16.016 16 0 01-.201.287 16.016 16 0 01-.202.282 16.016 16 0 01-.21.274 16.016 16 0 01-.214.274 16.016 16 0 01-.226.266 16.016 16 0 01-.226.262 16.016 16 0 01-.23.262 16.016 16 0 01-.242.25 16.016 16 0 01-.242.25 16.016 16 0 01-.25.242 16.016 16 0 01-.255.234 16.016 16 0 01-.258.234 16.016 16 0 01-.266.225 16.016 16 0 01-.27.218 16.016 16 0 01-.275.214 16.016 16 0 01-.282.205 16.016 16 0 01-.279.202 16.016 16 0 01-.286.197 16.016 16 0 01-.295.186 16.016 16 0 01-.294.185 16.016 16 0 01-.3.178 16.016 16 0 01-.302.169 16.016 16 0 01-.306.161 16.016 16 0 01-.311.157 16.016 16 0 01-.315.15 16.016 16 0 01-.319.145 16.016 16 0 01-.318.133 16.016 16 0 01-.323.129 16.016 16 0 01-.323.12 16.016 16 0 01-.331.117 16.016 16 0 01-.33.11 16.016 16 0 01-.336.096 16.016 16 0 01-.19.057z"}));case"usb":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M20 3a2 2 0 0 0-2 2v17.172l-3-3V13a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7a2 2 0 0 0 .586 1.414L18 27.828V35a2 2 0 0 0 2 2 2 2 0 0 0 2-2V23.828l6.414-6.414A2 2 0 0 0 29 16V9a2 2 0 0 0-2-2 2 2 0 0 0-2 2v6.172l-3 3V5a2 2 0 0 0-2-2z"}));case"sun":return u.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.createElement("path",{d:"M19.96.004a1.002 1.002 0 00-.163.02 1.002 1.002 0 00-.083.022 1.002 1.002 0 00-.08.027 1.002 1.002 0 00-.075.037 1.002 1.002 0 00-.325.258 1.002 1.002 0 00-.053.068 1.002 1.002 0 00-.114.223 1.002 1.002 0 00-.045.162 1.002 1.002 0 00-.012.084 1.002 1.002 0 00-.007.087v5a1.002 1.002 0 00.004.086 1.002 1.002 0 00.174.47 1.002 1.002 0 00.049.064 1.002 1.002 0 00.057.064 1.002 1.002 0 00.128.113 1.002 1.002 0 00.14.087 1.002 1.002 0 00.076.03 1.002 1.002 0 00.083.03 1.002 1.002 0 00.08.02 1.002 1.002 0 00.083.015 1.002 1.002 0 00.495-.06 1.002 1.002 0 00.076-.038 1.002 1.002 0 00.329-.258 1.002 1.002 0 00.094-.136 1.002 1.002 0 00.038-.075 1.002 1.002 0 00.038-.076 1.002 1.002 0 00.023-.083 1.002 1.002 0 00.03-.167 1.002 1.002 0 00.004-.083V.988a1.002 1.002 0 000-.087 1.002 1.002 0 00-.038-.167 1.002 1.002 0 00-.023-.075 1.002 1.002 0 00-.068-.155 1.002 1.002 0 00-.045-.072 1.002 1.002 0 00-.11-.129 1.002 1.002 0 00-.06-.056 1.002 1.002 0 00-.209-.14 1.002 1.002 0 00-.238-.084 1.002 1.002 0 00-.083-.015 1.002 1.002 0 00-.166-.007zm-9.43 2.542a1.002 1.002 0 00-.082.004 1.002 1.002 0 00-.167.022 1.002 1.002 0 00-.442.235 1.002 1.002 0 00-.114.12 1.002 1.002 0 00-.049.069 1.002 1.002 0 00-.113.227 1.002 1.002 0 00-.038.163 1.002 1.002 0 00-.012.25 1.002 1.002 0 00.008.082 1.002 1.002 0 00.019.084 1.002 1.002 0 00.026.079 1.002 1.002 0 00.068.151 1.002 1.002 0 000 .004l2.504 4.334a1.002 1.002 0 00.046.068 1.002 1.002 0 00.049.068 1.002 1.002 0 00.057.06 1.002 1.002 0 00.064.058 1.002 1.002 0 00.136.098 1.002 1.002 0 00.151.072 1.002 1.002 0 00.163.045 1.002 1.002 0 00.083.015 1.002 1.002 0 00.416-.045 1.002 1.002 0 00.076-.03 1.002 1.002 0 00.287-.178 1.002 1.002 0 00.114-.121 1.002 1.002 0 00.049-.068 1.002 1.002 0 00.045-.076 1.002 1.002 0 00.068-.151 1.002 1.002 0 00.023-.08 1.002 1.002 0 00.015-.083 1.002 1.002 0 00.015-.083 1.002 1.002 0 000-.087 1.002 1.002 0 00-.015-.163 1.002 1.002 0 00-.113-.321l-2.497-4.33a1.002 1.002 0 00-.11-.14 1.002 1.002 0 00-.056-.06 1.002 1.002 0 00-.06-.058 1.002 1.002 0 00-.212-.136 1.002 1.002 0 00-.076-.034 1.002 1.002 0 00-.166-.041 1.002 1.002 0 00-.167-.023zm18.953 0a1.002 1.002 0 00-.48.14 1.002 1.002 0 00-.068.045 1.002 1.002 0 00-.238.235 1.002 1.002 0 00-.05.072l-2.503 4.326a1.002 1.002 0 00-.038.076 1.002 1.002 0 00-.034.075 1.002 1.002 0 00-.023.084 1.002 1.002 0 00-.019.083 1.002 1.002 0 00-.011.25 1.002 1.002 0 00.007.083 1.002 1.002 0 00.042.162 1.002 1.002 0 00.068.155 1.002 1.002 0 00.095.14 1.002 1.002 0 00.056.065 1.002 1.002 0 00.121.113 1.002 1.002 0 00.072.05 1.002 1.002 0 00.072.037 1.002 1.002 0 00.235.09 1.002 1.002 0 00.416.008 1.002 1.002 0 00.083-.019 1.002 1.002 0 00.159-.056 1.002 1.002 0 00.075-.042 1.002 1.002 0 00.137-.094 1.002 1.002 0 00.12-.118 1.002 1.002 0 00.099-.14l2.5-4.334a1.002 1.002 0 00.072-.151 1.002 1.002 0 00.023-.08 1.002 1.002 0 00.03-.166 1.002 1.002 0 000-.17 1.002 1.002 0 00-.117-.4 1.002 1.002 0 00-.152-.201 1.002 1.002 0 00-.12-.114 1.002 1.002 0 00-.073-.049 1.002 1.002 0 00-.147-.076 1.002 1.002 0 00-.076-.034 1.002 1.002 0 00-.083-.019 1.002 1.002 0 00-.083-.015 1.002 1.002 0 00-.083-.011 1.002 1.002 0 00-.087 0zm-9.478 6.448A11.006 11.005 0 009 20a11.006 11.005 0 0011.006 11.009 11.006 11.005 0 0011.006-11.006A11.006 11.005 0 0020.005 8.998zm-16.452.51a1.002 1.002 0 00-.083 0 1.002 1.002 0 00-.167.027 1.002 1.002 0 00-.076.027 1.002 1.002 0 00-.079.03 1.002 1.002 0 00-.076.038 1.002 1.002 0 00-.075.041 1.002 1.002 0 00-.19.163 1.002 1.002 0 00-.052.064 1.002 1.002 0 00-.05.076 1.002 1.002 0 00-.075.144 1.002 1.002 0 00-.034.08 1.002 1.002 0 00-.02.082 1.002 1.002 0 00-.026.167 1.002 1.002 0 000 .083 1.002 1.002 0 00.016.166 1.002 1.002 0 00.018.083 1.002 1.002 0 00.061.156 1.002 1.002 0 00.136.211 1.002 1.002 0 00.057.065 1.002 1.002 0 00.2.155l4.33 2.503a1.002 1.002 0 00.077.038 1.002 1.002 0 00.242.076 1.002 1.002 0 00.25.011 1.002 1.002 0 00.325-.083 1.002 1.002 0 00.34-.246 1.002 1.002 0 00.053-.064 1.002 1.002 0 00.155-.295 1.002 1.002 0 00.038-.167 1.002 1.002 0 00.011-.083 1.002 1.002 0 00-.004-.166 1.002 1.002 0 00-.06-.246 1.002 1.002 0 00-.117-.223 1.002 1.002 0 00-.106-.129 1.002 1.002 0 00-.129-.11 1.002 1.002 0 00-.072-.045L4.037 9.63a1.002 1.002 0 00-.151-.069 1.002 1.002 0 00-.246-.052 1.002 1.002 0 00-.083-.004zm32.905 0a1.002 1.002 0 00-.087 0 1.002 1.002 0 00-.084.012 1.002 1.002 0 00-.162.045 1.002 1.002 0 00-.076.03 1.002 1.002 0 00-.075.039l-4.339 2.503a1.002 1.002 0 00-.068.046 1.002 1.002 0 00-.068.049 1.002 1.002 0 00-.06.056 1.002 1.002 0 00-.19.277 1.002 1.002 0 00-.083.238 1.002 1.002 0 00-.015.253 1.002 1.002 0 00.023.163 1.002 1.002 0 00.132.31 1.002 1.002 0 00.046.072 1.002 1.002 0 00.053.064 1.002 1.002 0 00.06.06 1.002 1.002 0 00.064.054 1.002 1.002 0 00.069.049 1.002 1.002 0 00.071.045 1.002 1.002 0 00.076.038 1.002 1.002 0 00.076.03 1.002 1.002 0 00.083.023 1.002 1.002 0 00.08.015 1.002 1.002 0 00.086.015 1.002 1.002 0 00.167 0 1.002 1.002 0 00.083-.015 1.002 1.002 0 00.083-.015 1.002 1.002 0 00.235-.095l4.334-2.503a1.002 1.002 0 00.068-.046 1.002 1.002 0 00.068-.053 1.002 1.002 0 00.06-.056 1.002 1.002 0 00.057-.06 1.002 1.002 0 00.099-.137 1.002 1.002 0 00.072-.151 1.002 1.002 0 00.045-.167 1.002 1.002 0 00.011-.08 1.002 1.002 0 00.004-.17 1.002 1.002 0 00-.007-.083 1.002 1.002 0 00-.016-.083 1.002 1.002 0 00-.022-.08 1.002 1.002 0 00-.03-.079 1.002 1.002 0 00-.038-.075 1.002 1.002 0 00-.038-.076 1.002 1.002 0 00-.05-.068 1.002 1.002 0 00-.241-.227 1.002 1.002 0 00-.076-.045 1.002 1.002 0 00-.076-.038 1.002 1.002 0 00-.075-.03 1.002 1.002 0 00-.163-.038 1.002 1.002 0 00-.17-.015zM.988 19.002a1.002 1.002 0 00-.087.004 1.002 1.002 0 00-.166.03 1.002 1.002 0 00-.303.144 1.002 1.002 0 00-.064.05 1.002 1.002 0 00-.064.056 1.002 1.002 0 00-.057.06 1.002 1.002 0 00-.053.068 1.002 1.002 0 00-.049.069 1.002 1.002 0 00-.076.15 1.002 1.002 0 00-.06.243 1.002 1.002 0 00.011.333 1.002 1.002 0 00.344.567 1.002 1.002 0 00.068.05 1.002 1.002 0 00.224.116 1.002 1.002 0 00.075.027 1.002 1.002 0 00.087.019 1.002 1.002 0 00.083.011 1.002 1.002 0 00.087.004h5a1.002 1.002 0 00.17-.015 1.002 1.002 0 00.084-.02 1.002 1.002 0 00.23-.094 1.002 1.002 0 00.072-.045 1.002 1.002 0 00.065-.053 1.002 1.002 0 00.064-.057 1.002 1.002 0 00.057-.06 1.002 1.002 0 00.174-.284 1.002 1.002 0 00.049-.163 1.002 1.002 0 00-.019-.499 1.002 1.002 0 00-.026-.08 1.002 1.002 0 00-.122-.218 1.002 1.002 0 00-.052-.065 1.002 1.002 0 00-.061-.064 1.002 1.002 0 00-.06-.053 1.002 1.002 0 00-.137-.098 1.002 1.002 0 00-.4-.125A1.002 1.002 0 005.987 19H.992zm33.019 0a1.002 1.002 0 00-.167.015 1.002 1.002 0 00-.158.046 1.002 1.002 0 00-.076.034 1.002 1.002 0 00-.216.132 1.002 1.002 0 00-.219.254 1.002 1.002 0 00-.042.075 1.002 1.002 0 00-.098.318 1.002 1.002 0 00-.008.17 1.002 1.002 0 00.008.083 1.002 1.002 0 00.038.163 1.002 1.002 0 00.023.08 1.002 1.002 0 00.037.075 1.002 1.002 0 00.137.212 1.002 1.002 0 00.26.212 1.002 1.002 0 00.076.037 1.002 1.002 0 00.076.038 1.002 1.002 0 00.08.023 1.002 1.002 0 00.082.019 1.002 1.002 0 00.084.011 1.002 1.002 0 00.087.004h5.003a1.002 1.002 0 00.167-.015 1.002 1.002 0 00.083-.02 1.002 1.002 0 00.23-.094 1.002 1.002 0 00.14-.098 1.002 1.002 0 00.175-.182 1.002 1.002 0 00.087-.143 1.002 1.002 0 00.06-.155 1.002 1.002 0 00-.026-.662 1.002 1.002 0 00-.121-.22 1.002 1.002 0 00-.114-.128 1.002 1.002 0 00-.196-.151 1.002 1.002 0 00-.076-.038 1.002 1.002 0 00-.238-.076 1.002 1.002 0 00-.17-.019h-5zm-26.15 7.012a1.002 1.002 0 00-.163.015 1.002 1.002 0 00-.083.019 1.002 1.002 0 00-.238.095l-4.33 2.5a1.002 1.002 0 00-.073.045 1.002 1.002 0 00-.128.113 1.002 1.002 0 00-.106.125 1.002 1.002 0 00-.046.072 1.002 1.002 0 00-.075.151 1.002 1.002 0 00-.023.08 1.002 1.002 0 00-.034.166 1.002 1.002 0 00-.008.083 1.002 1.002 0 00.08.409 1.002 1.002 0 00.076.151 1.002 1.002 0 00.049.068 1.002 1.002 0 00.056.064 1.002 1.002 0 00.057.06 1.002 1.002 0 00.133.107 1.002 1.002 0 00.15.08 1.002 1.002 0 00.076.03 1.002 1.002 0 00.163.041 1.002 1.002 0 00.083.011 1.002 1.002 0 00.25-.011 1.002 1.002 0 00.163-.042 1.002 1.002 0 00.079-.034 1.002 1.002 0 00.076-.037l4.334-2.5a1.002 1.002 0 00.136-.099 1.002 1.002 0 00.06-.056 1.002 1.002 0 00.057-.065 1.002 1.002 0 00.053-.064 1.002 1.002 0 00.144-.303 1.002 1.002 0 00.019-.083 1.002 1.002 0 00.019-.25 1.002 1.002 0 00-.076-.328 1.002 1.002 0 00-.37-.447 1.002 1.002 0 00-.076-.041 1.002 1.002 0 00-.076-.038 1.002 1.002 0 00-.075-.03 1.002 1.002 0 00-.08-.027 1.002 1.002 0 00-.083-.015 1.002 1.002 0 00-.083-.011 1.002 1.002 0 00-.087 0zm24.3 0a1.002 1.002 0 00-.083 0 1.002 1.002 0 00-.083.011 1.002 1.002 0 00-.083.02 1.002 1.002 0 00-.076.022 1.002 1.002 0 00-.083.03 1.002 1.002 0 00-.148.083 1.002 1.002 0 00-.068.05 1.002 1.002 0 00-.125.113 1.002 1.002 0 00-.14.208 1.002 1.002 0 00-.037.076 1.002 1.002 0 00-.053.158 1.002 1.002 0 00-.027.254 1.002 1.002 0 00.02.163 1.002 1.002 0 00.018.083 1.002 1.002 0 00.027.08 1.002 1.002 0 00.034.079 1.002 1.002 0 00.136.211 1.002 1.002 0 00.057.06 1.002 1.002 0 00.124.114 1.002 1.002 0 00.072.046l4.335 2.5a1.002 1.002 0 00.15.071 1.002 1.002 0 00.25.053 1.002 1.002 0 00.167 0 1.002 1.002 0 00.083-.007 1.002 1.002 0 00.163-.042 1.002 1.002 0 00.227-.113 1.002 1.002 0 00.189-.163 1.002 1.002 0 00.056-.064 1.002 1.002 0 00.087-.144 1.002 1.002 0 00.069-.151 1.002 1.002 0 00.045-.25 1.002 1.002 0 000-.087 1.002 1.002 0 000-.083 1.002 1.002 0 00-.06-.242 1.002 1.002 0 00-.03-.08 1.002 1.002 0 00-.088-.143 1.002 1.002 0 00-.11-.129 1.002 1.002 0 00-.06-.06 1.002 1.002 0 00-.064-.05 1.002 1.002 0 00-.076-.049l-4.33-2.5a1.002 1.002 0 00-.152-.071 1.002 1.002 0 00-.08-.023 1.002 1.002 0 00-.166-.03 1.002 1.002 0 00-.087 0zM12.97 31.145a1.002 1.002 0 00-.083.008 1.002 1.002 0 00-.083.011 1.002 1.002 0 00-.083.019 1.002 1.002 0 00-.367.197 1.002 1.002 0 00-.064.056 1.002 1.002 0 00-.11.125 1.002 1.002 0 00-.046.072l-2.503 4.334a1.002 1.002 0 00-.095.235 1.002 1.002 0 00-.03.25 1.002 1.002 0 00.053.328 1.002 1.002 0 00.03.076 1.002 1.002 0 00.129.22 1.002 1.002 0 00.177.177 1.002 1.002 0 00.076.05 1.002 1.002 0 00.223.105 1.002 1.002 0 00.163.038 1.002 1.002 0 00.336-.008 1.002 1.002 0 00.163-.045 1.002 1.002 0 00.288-.17 1.002 1.002 0 00.174-.182 1.002 1.002 0 00.045-.072l2.504-4.334a1.002 1.002 0 00.068-.151 1.002 1.002 0 00.026-.08 1.002 1.002 0 00.015-.087 1.002 1.002 0 00.004-.332 1.002 1.002 0 00-.019-.084 1.002 1.002 0 00-.185-.374 1.002 1.002 0 00-.114-.125 1.002 1.002 0 00-.132-.098 1.002 1.002 0 00-.076-.042 1.002 1.002 0 00-.15-.068 1.002 1.002 0 00-.167-.038 1.002 1.002 0 00-.083-.007 1.002 1.002 0 00-.084 0zm14.07 0a1.002 1.002 0 00-.25.027 1.002 1.002 0 00-.162.052 1.002 1.002 0 00-.076.038 1.002 1.002 0 00-.14.087 1.002 1.002 0 00-.181.178 1.002 1.002 0 00-.2.454 1.002 1.002 0 00-.012.087 1.002 1.002 0 000 .083 1.002 1.002 0 00.011.166 1.002 1.002 0 00.042.163 1.002 1.002 0 00.068.151 1.002 1.002 0 000 .004l2.504 4.334a1.002 1.002 0 00.045.068 1.002 1.002 0 00.238.239 1.002 1.002 0 00.144.083 1.002 1.002 0 00.817.019 1.002 1.002 0 00.151-.076 1.002 1.002 0 00.068-.05 1.002 1.002 0 00.065-.052 1.002 1.002 0 00.06-.06 1.002 1.002 0 00.057-.061 1.002 1.002 0 00.05-.068 1.002 1.002 0 00.113-.227 1.002 1.002 0 00.022-.083 1.002 1.002 0 00.015-.08 1.002 1.002 0 00.016-.17 1.002 1.002 0 00-.016-.166 1.002 1.002 0 00-.041-.163 1.002 1.002 0 00-.034-.076 1.002 1.002 0 00-.038-.075l-2.5-4.338a1.002 1.002 0 00-.045-.068 1.002 1.002 0 00-.239-.238 1.002 1.002 0 00-.072-.046 1.002 1.002 0 00-.075-.038 1.002 1.002 0 00-.155-.056 1.002 1.002 0 00-.167-.038 1.002 1.002 0 00-.083 0zm-7.076 1.88a1.002 1.002 0 00-.48.143 1.002 1.002 0 00-.069.05 1.002 1.002 0 00-.128.11 1.002 1.002 0 00-.053.064 1.002 1.002 0 00-.053.064 1.002 1.002 0 00-.144.302 1.002 1.002 0 00-.034.254v5.003a1.002 1.002 0 00.004.084 1.002 1.002 0 00.011.083 1.002 1.002 0 00.076.238 1.002 1.002 0 00.038.076 1.002 1.002 0 00.098.14 1.002 1.002 0 00.057.064 1.002 1.002 0 00.268.196 1.002 1.002 0 00.076.035 1.002 1.002 0 00.083.026 1.002 1.002 0 00.08.023 1.002 1.002 0 00.253.019 1.002 1.002 0 00.73-.363 1.002 1.002 0 00.094-.137 1.002 1.002 0 00.133-.484v-5.003a1.002 1.002 0 000-.083 1.002 1.002 0 00-.015-.087 1.002 1.002 0 00-.02-.08 1.002 1.002 0 00-.14-.302 1.002 1.002 0 00-.052-.068 1.002 1.002 0 00-.057-.065 1.002 1.002 0 00-.125-.11 1.002 1.002 0 00-.143-.086 1.002 1.002 0 00-.239-.084 1.002 1.002 0 00-.083-.015 1.002 1.002 0 00-.166-.007z"}));default:return null}};b.propTypes={name:m().string.isRequired,className:m().string},b.defaultProps={className:null};var h=b,v=(r(32564),r(92222),r(21249),r(89554),r(54747),r(68304),r(30489),r(12419),r(78011),r(69070),r(17187)),E=r.n(v);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var a=k(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return A(this,r)}}function A(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(o,e);var t,r,n,a=N(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this)).device=e,t.manufacturerName=e.manufacturerName,t.productName=e.productName,t.serialNumber=e.serialNumber,t.interfaceNumber=2,t.endpointIn=5,t.endpointOut=4,t.textDecoder=new TextDecoder,t}return t=o,(r=[{key:"connect",value:function(){var e=this,t=function t(){e.device.transferIn(e.endpointIn,64).then((function(r){e.emit("data",e.textDecoder.decode(r.data)),t()})).catch((function(t){e.emit("error",t)}))};return this.device.open().then((function(){var t,r;return null===(t=e.device)||void 0===t||null===(r=t.selectConfiguration)||void 0===r?void 0:r.call(t,1)})).then((function(){e.device.configuration.interfaces.forEach((function(t){t.alternates.forEach((function(r){255===r.interfaceClass&&(e.interfaceNumber=t.interfaceNumber,r.endpoints.forEach((function(t){"out"===t.direction&&(e.endpointOut=t.endpointNumber),"in"===t.direction&&(e.endpointIn=t.endpointNumber)})))}))}))})).then((function(){return e.device.claimInterface(e.interfaceNumber)})).then((function(){return e.device.selectAlternateInterface(e.interfaceNumber,0)})).then((function(){return e.device.controlTransferOut({requestType:"class",recipient:"interface",request:34,value:1,index:e.interfaceNumber})})).then((function(){t()}))}},{key:"disconnect",value:function(){var e=this;return this.device.controlTransferOut({requestType:"class",recipient:"interface",request:34,value:0,index:this.interfaceNumber}).then((function(){return e.device.close()}))}},{key:"send",value:function(e){return this.device.transferOut(this.endpointOut,e)}}])&&S(t.prototype,r),n&&S(t,n),o}(E()),P=r(25108);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F(e);if(t){var a=F(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return q(this,r)}}function q(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var M=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(o,e);var t,r,n,a=j(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this)).enabled=!!navigator.usb&&!!navigator.usb.getDevices,e.activePorts=[],e.watchPorts(),e}return t=o,(r=[{key:"getPorts",value:function(){return navigator.usb.getDevices().then((function(e){return e.filter((function(e){return!e.opened})).map((function(e){return new R(e)}))}))}},{key:"getActivePorts",value:function(){return this.activePorts}},{key:"watchPorts",value:function(){var e=this;window.setInterval((function(){e.getPorts().then((function(t){t.forEach((function(t){t.addListener("error",(function(r){P.warn(r),e.activePorts=e.activePorts.filter((function(e){return e!==t})),e.emit("activePortsChange",O(e.activePorts))})),t.addListener("data",(function(t){e.emit("data",t)})),t.connect().then((function(){e.activePorts.push(t),e.emit("activePortsChange",O(e.activePorts))}))}))}))}),1e3)}},{key:"requestPort",value:function(){var e=this;navigator.usb.requestDevice({filters:[{vendorId:9025,productId:32822},{vendorId:9025,productId:32823},{vendorId:9025,productId:32845},{vendorId:9025,productId:32846},{vendorId:9025,productId:32847},{vendorId:9025,productId:32848},{vendorId:9025,productId:32850},{vendorId:9025,productId:32851},{vendorId:9025,productId:32852},{vendorId:9025,productId:32853},{vendorId:9025,productId:32854},{vendorId:9025,productId:32855},{vendorId:9114}]}).then((function(e){if(e.opened)throw new Error("device already opened");return new R(e)})).catch((function(){return null})).then((function(t){t&&t.connect().then((function(){e.activePorts.push(t),e.emit("activePortsChange",O(e.activePorts))}))}))}}])&&x(t.prototype,r),n&&x(t,n),o}(E()));function B(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var z=function(){var e=(0,n.I0)();return(0,u.useRef)((function(t){var r;try{r=new File(B(t),"Text input.txt",{type:"text/plain"})}catch(e){r=new Blob(B(t),{type:"text/plain"})}e({type:"IMPORT_FILES",payload:{files:[r]}})})).current};function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=function(){var e=M.enabled,t=z(),r=D((0,u.useState)([]),2),n=r[0],a=r[1],o=D((0,u.useState)(!1),2),i=o[0],l=o[1],c=(0,u.useRef)(""),s=(0,u.useRef)(null);(0,u.useEffect)((function(){var e=function(e){window.clearTimeout(s.current),s.current=window.setTimeout((function(){l(!1),t(c.current),c.current=""}),1e3),l(!0),c.current="".concat(c.current).concat(e)};return a(M.getActivePorts()),M.addListener("activePortsChange",a),M.addListener("data",e),function(){M.removeListener("activePortsChange",a),M.removeListener("data",e)}}),[t]);return{activePorts:n,webUSBEnabled:e,openWebUSBSerial:function(){M.requestPort()},isReceiving:i}};function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=K(e);if(t){var a=K(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Z(this,r)}}function Z(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(o,e);var t,r,n,a=W(o);function o(e){var t,r=e.device,n=e.baudRate;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this)).device=r,t.baudRate=n;var i=r.getInfo(),l=i.usbProductId,c=i.usbVendorId;return t.usbProductId=l,t.usbVendorId=c,t.reader=null,t}return t=o,(r=[{key:"connect",value:function(){var e=this,t=function t(){e.reader.read().then((function(r){var n=r.value;e.emit("data",n),t()})).catch((function(t){e.emit("error",t)}))};return this.device.open({baudRate:this.baudRate}).then((function(){var r=new window.TextDecoderStream;e.device.readable.pipeTo(r.writable),e.reader=r.readable.getReader(),t()}))}}])&&V(t.prototype,r),n&&V(t,n),o}(E()),X=r(25108);function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=oe(e);if(t){var a=oe(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ae(this,r)}}function ae(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(o,e);var t,r,n,a=ne(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=a.call(this)).enabled=!!navigator.serial&&!!window.TextDecoderStream,e.activePorts=[],e.baudRate=115200,e.watchPorts(),e}return t=o,(r=[{key:"getPorts",value:function(){var e=this;return navigator.serial.getPorts().then((function(t){return t.filter((function(e){return!e.readable})).map((function(t){return new J({device:t,baudRate:e.baudRate})}))}))}},{key:"getActivePorts",value:function(){return this.activePorts}},{key:"watchPorts",value:function(){var e=this;window.setInterval((function(){e.getPorts().then((function(t){t.forEach((function(t){t.addListener("error",(function(r){X.warn(r),e.activePorts=e.activePorts.filter((function(e){return e!==t})),e.emit("activePortsChange",Q(e.activePorts))})),t.addListener("data",(function(t){e.emit("data",t)})),t.connect().then((function(){e.activePorts.push(t),e.emit("activePortsChange",Q(e.activePorts))}))}))}))}),1e3)}},{key:"requestPort",value:function(){var e=this;navigator.serial.requestPort().then((function(t){if(t.readable)throw new Error("device already opened");return new J({device:t,baudRate:e.baudRate})})).catch((function(){return null})).then((function(t){t&&t.connect().then((function(){e.activePorts.push(t),e.emit("activePortsChange",Q(e.activePorts))}))}))}}])&&te(t.prototype,r),n&&te(t,n),o}(E()));function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ue=function(){var e=ie.enabled,t=z(),r=le((0,u.useState)([]),2),n=r[0],a=r[1],o=le((0,u.useState)(!1),2),i=o[0],l=o[1],c=(0,u.useRef)(""),s=(0,u.useRef)(null);(0,u.useEffect)((function(){var e=function(e){window.clearTimeout(s.current),s.current=window.setTimeout((function(){l(!1),t(c.current),c.current=""}),1e3),l(!0),c.current="".concat(c.current).concat(e)};return a(ie.getActivePorts()),ie.addListener("activePortsChange",a),ie.addListener("data",e),function(){ie.removeListener("activePortsChange",a),ie.removeListener("data",e)}}),[t]);return{activePorts:n,webSerialEnabled:e,openWebSerial:function(){ie.requestPort(115200)},isReceiving:i}},se=(0,n.$j)((function(e){return{isFullscreen:e.isFullscreen}}),(function(){return{}})),me=(0,n.$j)((function(){return{}}),(function(){return{}})),pe=function(e){var t=e.confirm,r=e.deny,n=e.canConfirm;return u.createElement("div",{className:"buttons"},r?u.createElement("button",{className:"buttons__button buttons__button--deny",type:"button",onClick:r},"Cancel"):null,t?u.createElement("button",{disabled:!n,className:"buttons__button buttons__button--confirm",type:"button",onClick:t},"Ok"):null)};pe.propTypes={confirm:m().func,canConfirm:m().bool,deny:m().func},pe.defaultProps={confirm:null,canConfirm:!0,deny:null};var fe=me(pe),de=function(e){var t=e.confirm,r=void 0===t?null:t,n=e.canConfirm,a=void 0===n?null:n,o=e.deny,i=void 0===o?null:o;(0,u.useEffect)((function(){var e=function(e){"Escape"===e.key&&i&&i(),"Enter"===e.key&&e.ctrlKey&&r&&a&&r()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[r,a,i])},ge=r(51909);function ye(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var he=function(){var e=(0,u.useRef)();return(0,u.useEffect)((function(){var t=document.activeElement,r=ye(e.current.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'));return r.length&&!(0,ge.Z)()&&r[0].focus(),function(){t.focus()}}),[]),e},ve=function(e){de({confirm:e.confirm,canConfirm:e.canConfirm,deny:e.deny});var t=he();return u.createElement("div",{className:y()("lightbox ".concat(e.className),{"lightbox--fullscreen":e.isFullscreen})},u.createElement("button",{type:"button",className:"lightbox__backdrop ".concat(e.className,"__backdrop"),onClick:e.denyOnOverlayClick?e.deny:null}),u.createElement("div",{className:"lightbox__box ".concat(e.className,"__box"),ref:t,style:{height:e.height?"".concat(e.height,"px"):null}},u.createElement("dialog",{className:"lightbox__box-content ".concat(e.className,"__box-content"),"aria-labelledby":"lightbox-header"},e.header?u.createElement("div",{id:"lightbox-header",className:"lightbox__header ".concat(e.className,"__header")},e.header):null,e.children),e.confirm||e.deny?u.createElement(fe,{confirm:e.confirm,canConfirm:e.canConfirm,deny:e.deny}):null))};ve.propTypes={height:m().number,className:m().string,header:m().string,isFullscreen:m().bool,children:m().oneOfType([m().arrayOf(m().node),m().node]),confirm:m().func,deny:m().func,canConfirm:m().bool,denyOnOverlayClick:m().bool},ve.defaultProps={height:null,header:null,isFullscreen:!1,className:"",confirm:null,children:null,deny:null,canConfirm:!0,denyOnOverlayClick:!0};var Ee=ve,_e=se(Ee);function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ne=function(){var e="WebUSB Serial devices",t=Se((0,u.useState)(!1),2),r=t[0],n=t[1],a=G(),o=a.activePorts,i=a.isReceiving,l=a.webUSBEnabled,c=a.openWebUSBSerial,s=ue(),m=s.activePorts,p=s.isReceiving,f=s.webSerialEnabled,d=s.openWebSerial,g=r||i||p;return u.createElement(u.Fragment,null,u.createElement("button",{title:e,type:"button",className:"connect-usb-serial navigation__link",disabled:!l&&!f,onClick:function(){return n(!0)}},u.createElement(h,{name:"usb"}),u.createElement("span",{className:"connect-usb-serial__title"},e)),g?u.createElement(_e,{header:"WebUSB / Serial devices",confirm:function(){return n(!1)},canConfirm:!i&&!p,className:"connect-usb-serial-overlay"},u.createElement("button",{type:"button",className:y()("connect-usb-serial-overlay__button button",{"connect-usb-serial--is-receiving":i,"connect-usb-serial--disabled":!l}),title:e,onClick:c,disabled:!l},"Open WebUSB device"),u.createElement("div",{className:"connect-usb-serial-overlay__info connect-usb-serial-overlay__info--spaced"},"".concat(o.length," devices connected")),u.createElement("button",{type:"button",className:y()("connect-usb-serial-overlay__button button",{"connect-usb-serial-overlay__button--is-receiving":p,"connect-usb-serial-overlay__button--disabled":!f}),title:e,onClick:d,disabled:!f},"Open Web Serial device"),u.createElement("div",{className:"connect-usb-serial-overlay__info"},"".concat(m.length," devices connected"))):null)},Ae=(0,n.$j)((function(){return{}}),(function(){return{}})),ke=(r(24812),["theme-bright","theme-dark"]),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:localStorage.getItem("gbp-web-theme");(0,u.useEffect)((function(){localStorage.setItem("gbp-web-theme",e);var t=document.querySelector("html").classList;ke.forEach(t.remove.bind(t)),t.add(e)}),[e])};function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Oe=function(e){var t=e.closeNavigation,r=Pe((0,u.useState)(localStorage.getItem("gbp-web-theme")||ke[0]),2),n=r[0],a=r[1];Re(n);var o=n===ke[0]?"Switch to dark mode":"Switch to bright mode";return u.createElement("label",{className:"theme-toggle navigation__link",title:o},u.createElement(h,{name:n===ke[0]?"sun":"moon"}),u.createElement("span",{className:"theme-toggle__title"},o),u.createElement("input",{type:"checkbox",checked:n===ke[0],onChange:function(e){var r=e.target;t(),a(r.checked?ke[0]:ke[1])}}))};Oe.propTypes={closeNavigation:m().func.isRequired},Oe.defaultProps={};var Te=Ae(Oe);function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var je=function(e){var t=xe((0,u.useState)(!1),2),r=t[0],n=t[1];return u.createElement("nav",{className:y()("navigation",{"navigation--mobile-open":r})},u.createElement("button",{className:"navigation__burger-button",type:"button",onClick:function(){return n(!r)}},u.createElement(h,{name:r?"close-nav":"burger"})),u.createElement("ul",{className:"navigation__list"},u.createElement("li",{className:"navigation__entry"},u.createElement(p.OL,{to:"/",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Home")),u.createElement("li",{className:"navigation__entry"},u.createElement(p.OL,{to:"/gallery",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Gallery")),u.createElement("li",{className:"navigation__entry"},u.createElement(p.OL,{to:"/import",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Import")),u.createElement("li",{className:"navigation__entry"},u.createElement(p.OL,{to:"/palettes",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Palettes")),u.createElement("li",{className:"navigation__entry"},u.createElement(p.OL,{to:"/settings",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Settings")),e.useSync?u.createElement("li",{className:"navigation__entry navigation__entry--buttons"},u.createElement("button",{type:"button",title:"Synchronize",className:"navigation__link navigation__link--icon",onClick:e.selectSync,disabled:e.syncBusy},u.createElement(h,{name:"sync"}))):null,u.createElement("li",{className:"navigation__entry navigation__entry--right"},u.createElement(Te,{closeNavigation:function(){return n(!1)}})),e.useSerials?u.createElement("li",{className:"navigation__entry navigation__entry--right"},u.createElement(Ne,null)):null))};je.propTypes={selectSync:m().func.isRequired,useSync:m().bool.isRequired,syncBusy:m().bool.isRequired,useSerials:m().bool.isRequired},je.defaultProps={};var qe=d(je),Fe=(0,n.$j)((function(){return{}}),(function(){return{}}));r(88674);function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Le=Fe((function(){var e=Me((0,u.useState)((function(){return function(){return null}})),2),t=e[0],n=e[1];return(0,u.useEffect)((function(){r.e(456).then(r.t.bind(r,38456,23)).then((function(e){var t=e.default;n((function(){return t}))}))}),[]),u.createElement("div",{className:"home"},u.createElement(t,{className:"markdown-body"},'# Game Boy Printer Web\r\n\r\n## Basic usage\r\n* choose a [color palette](#/palettes)\r\n* [paste your exports](#/import) into a textfield (or simply drag and drop your dump(s) into this window)\r\n* check your images [in the gallery](#/gallery)\r\n* You can also try to drag/drop your cartridge dump into this window  \r\n\r\n## Supported formats\r\n* This Project is mainly built around the serial output of the original [GBP Emulator](https://github.com/mofosyne/arduino-gameboy-printer-emulator)\r\n* Cart .SAV files are also supported. The previously selected frame will be applied as well. If you\'re importing from a JP-Cartridge (Pocket Camera), you may want to change the "Frames when importing Cartridge dumps" option in the [settings page](#/settings)    \r\n\r\n## Frames\r\nIn a recent change (Version 1.7.0) the pre-compiled frames have been removed from this application.  \r\nThe application now however gives you the opportunity to add all frames you like by yourself and also share them with others.  \r\nMaybe you have designed some frames by yourself, or you have aquired some previously unknown frames.\r\n\r\n### Uploading your own frames\r\nYou can upload your own frames by dragging any image into this app.  \r\nDimensions of 160x144 are highly recommended, otherwise the image will be automatically scaled to size.  \r\nA lossles filetype is also recommended (e.g `.png` or `.webp`)\r\nAfter dragging your image into the app, you will be asked on how to import the frame.\r\n\r\n### Exporting/Importing your frames\r\n[In the import tab](#/import) you can find an "Export frames" button. The resulting `.json` file can be shared and will contain all of your frames.  \r\nThis `.json` file can be dragged into the application and will add all frames from that export to your application.  \r\n\r\n## Development usage\r\nThe following ptions apply if you plan on contributong to this app:\r\n\r\n### Optional deployment config with `config.json`\r\nAdd a `deploy` section in `config.json` to automatically copy the created files to another location ([e.g your arduino project](https://github.com/HerrZatacke/wifi-gbp-emulator)).  \r\nIf you set the option `gzip` to `true`, each file will be separately compressed. Useful for servers capable serving pre-zipped files. This saves ~1kB storage space.\r\n``` json\r\n{\r\n  "ports": [...], \r\n  "deploy": {\r\n    "dir": "/copy/all/files/to/that/folder",\r\n    "gzip": true\r\n  }\r\n}\r\n```\r\n\r\n### Local Setup\r\n* Install [node.js](https://nodejs.org/) if you haven\'t already.\r\n* Check out/clone/download [this repository](https://github.com/HerrZatacke/gb-printer-web)\r\n* Run `npm i` in the root directory via your commandline\r\n* Add a `config.json` in the root dir (see above)\r\n* Run `npm start` via your commandline\r\n* Open [localhost:3000](http://localhost:3000)\r\n\r\n### Links and research\r\n* The source to this project is [available on GitHub](https://github.com/HerrZatacke/gb-printer-web)\r\n* A basic version of this tool is avaliable [on GitHub-pages](https://herrzatacke.github.io/gb-printer-web/#/)  \r\n* This project has replaced my [GB printer direct serial to gif converter](https://github.com/HerrZatacke/direct-serial-to-gif-converter)\r\n* Also check out the [Gameboy Camera Discord](https://discord.gg/Kxhjg3qN) \r\n* [Lots of helpful GameBoy and GameBoy Camera resources](https://github.com/gbdev/awesome-gbdev)\r\n\r\n#### Research\r\n* Tutorial on how to work with an ESP8266 by [ttapa: ESP8266 Beginner\'s Guide](https://tttapa.github.io/ESP8266/Chap01%20-%20ESP8266.html)  \r\n* [Programming a standalone ESP8266](https://www.instructables.com/id/3-Simple-Ways-of-Programming-an-ESP8266-12X-Module/)\r\n* [Deploying your JS App to Github Pages the easy way (or not)](https://medium.com/linagora-engineering/1ef8c48424b7)\r\n'))})),ze=(r(40561),r(13509)),De=(0,n.$j)((function(e,t){var r=t.page*e.pageSize;return{images:(0,ze.Z)(e).splice(r,e.pageSize||1/0),currentView:e.galleryView}}),(function(){return{}})),Ue=(r(69826),r(26699),r(32023),r(67508)),Ge=r(99449),$e=(0,n.$j)((function(e,t){var r,n=t.hash,a=e.images.find((function(e){return e.hash===n}));return r=a.hashes?a.palette:e.palettes.find((function(e){return e.shortName===a.palette}))||Ue.d$,{title:a.title,created:a.created,frame:a.frame,hashes:a.hashes,tags:a.tags,isFavourite:a.tags.includes(Ge.oJ),isSelected:e.imageSelection.includes(n),palette:r,lockFrame:a.lockFrame||!1,invertPalette:a.invertPalette||!1,hideDate:e.hideDates}}),(function(e,t){var r=t.hash;return{updateImageSelection:function(t,n,a){e(n?{type:"IMAGE_SELECTION_SHIFTCLICK",payload:r,page:a}:"add"===t?{type:"IMAGE_SELECTION_ADD",payload:r}:{type:"IMAGE_SELECTION_REMOVE",payload:r})},editImage:function(){e({type:"EDIT_IMAGE",payload:r})}}})),Ve=r(27484),He=r.n(Ve),We=r(10285),Ze=r.n(We),Ke=(0,n.$j)((function(e,t){var r=t.hash;return{isSelected:e.imageSelection.includes(r),canShare:e.canShare,hasPlugins:!!e.plugins.length,hash:r}}),(function(e,t){var r=t.hash,n=t.buttons,a=t.title;return{startDownload:n.includes("download")?function(){e({type:"START_DOWNLOAD",payload:r})}:null,deleteImage:n.includes("delete")?function(){e({type:"CONFIRM_ASK",payload:{message:a?'Delete image "'.concat(a,'"?'):"Delete this image?",confirm:function(){e({type:"DELETE_IMAGE",payload:r})},deny:function(){e({type:"CONFIRM_ANSWERED"})}}})}:null,shareImage:n.includes("share")?function(){e({type:"SHARE_IMAGE",payload:r})}:null,saveRGBNImage:n.includes("saveRGBNImage")?function(){e({type:"SAVE_RGBN_IMAGE",payload:r})}:null,updateImageToSelection:n.includes("select")?function(t){e("add"===t?{type:"IMAGE_SELECTION_ADD",payload:r}:{type:"IMAGE_SELECTION_REMOVE",payload:r})}:null,setLightboxImage:n.includes("view")?function(){e({type:"SET_LIGHTBOX_IMAGE_HASH",payload:r})}:null,updateFavouriteTag:n.includes("favourite")?function(t){e({type:"IMAGE_FAVOURITE_TAG",payload:{hash:r,isFavourite:t}})}:null}})),Je=(0,n.$j)((function(e){return{plugins:e.plugins}}),(function(e,t){var r=t.hash;return{toPlugins:function(t){e(r?{type:"PLUGIN_IMAGE",payload:{url:t,hash:r}}:{type:"PLUGIN_IMAGES",payload:{url:t}})}}})),Xe=function(e){var t=e.toPlugins,r=e.plugins,n=e.children;return u.createElement("span",{className:"plugin-select__wrapper"},n,u.createElement("ul",{className:"plugin-select"},r.map((function(e){var r=e.url,n=e.name,a=e.description,o=e.loading,i=e.error;return u.createElement("li",{className:"plugin-select__plugin-list-entry",key:r},u.createElement("button",{type:"button",className:"plugin-select__button",disabled:Boolean(o||i),title:"".concat(i||a||"","\n").concat(r),onClick:function(){return t(r)}},i&&u.createElement(h,{name:"warn"}),o&&u.createElement(h,{name:"loading"}),n||r))}))))};Xe.propTypes={children:m().node.isRequired,toPlugins:m().func.isRequired,plugins:m().array.isRequired};var Ye=Je(Xe);He().extend(Ze());var Qe=function(e){return u.createElement("div",{className:"gallery-image-buttons",onClick:function(e){e.stopPropagation()},role:"presentation"},e.updateImageToSelection?u.createElement("button",{type:"button",className:y()("gallery-image-buttons__button",{"gallery-image-buttons__button--unchecked":!e.isSelected,"gallery-image-buttons__button--checked":e.isSelected}),onClick:function(){return e.updateImageToSelection(e.isSelected?"remove":"add")}},u.createElement(h,{name:"checkmark"})):null,e.startDownload?u.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.startDownload},u.createElement(h,{name:"download"})):null,e.deleteImage?u.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.deleteImage},u.createElement(h,{name:"delete"})):null,e.setLightboxImage?u.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.setLightboxImage},u.createElement(h,{name:"view"})):null,e.saveRGBNImage?u.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.saveRGBNImage},u.createElement(h,{name:"save"})):null,e.hasPlugins?u.createElement(Ye,{hash:e.hash},u.createElement("button",{type:"button",className:"gallery-image-buttons__button"},u.createElement(h,{name:"plug"}))):null,e.shareImage&&e.canShare?u.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.shareImage},u.createElement(h,{name:"share"})):null,e.updateFavouriteTag?u.createElement("button",{type:"button",className:y()("gallery-image-buttons__button",{"gallery-image-buttons__button--unchecked":!e.isFavourite,"gallery-image-buttons__button--favourite":e.isFavourite}),onClick:function(){return e.updateFavouriteTag(!e.isFavourite)}},e.isFavourite?"❤️":"❤"):null)};Qe.propTypes={canShare:m().bool.isRequired,deleteImage:m().func,setLightboxImage:m().func,isSelected:m().bool.isRequired,isFavourite:m().bool.isRequired,saveRGBNImage:m().func,shareImage:m().func,startDownload:m().func,updateImageToSelection:m().func,updateFavouriteTag:m().func,hasPlugins:m().bool.isRequired,hash:m().string.isRequired},Qe.defaultProps={deleteImage:null,setLightboxImage:null,saveRGBNImage:null,shareImage:null,startDownload:null,updateImageToSelection:null,updateFavouriteTag:null};var et=Ke(Qe);var tt=(0,n.$j)((function(e,t){var r,n,a,o,i=t.hash;return{isR:(null===(r=e.rgbnImages)||void 0===r?void 0:r.r)===i,isG:(null===(n=e.rgbnImages)||void 0===n?void 0:n.g)===i,isB:(null===(a=e.rgbnImages)||void 0===a?void 0:a.b)===i,isN:(null===(o=e.rgbnImages)||void 0===o?void 0:o.n)===i}}),(function(e,t){return{updateRGBN:function(r,n){var a,o,i;e({type:"UPDATE_RGBN_PART",payload:(a={},o=r,i=n?t.hash:"",o in a?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,a)})}}})),rt=[{propKey:"isR",cssModifier:"red",updateKey:"r"},{propKey:"isG",cssModifier:"green",updateKey:"g"},{propKey:"isB",cssModifier:"blue",updateKey:"b"},{propKey:"isN",cssModifier:"normal",updateKey:"n"}],nt=function(e){return u.createElement("div",{className:"rgbn-select",onClick:function(e){e.stopPropagation()},role:"presentation"},rt.map((function(t){var r=t.propKey,n=t.cssModifier,a=t.updateKey;return u.createElement("button",{type:"button",key:r,className:y()("rgbn-select__button rgbn-select__button--".concat(n),{"rgbn-select__button--selected":e[r]}),onClick:function(){e.updateRGBN(a,!e[r])}},u.createElement(h,{name:"circle"}))})))};nt.propTypes={isR:m().bool.isRequired,isG:m().bool.isRequired,isB:m().bool.isRequired,isN:m().bool.isRequired,updateRGBN:m().func.isRequired},nt.defaultProps={};var at=tt(nt),ot=r(7309),it=(0,n.$j)((function(e){return{loadImageTiles:ot.Z,images:e.images}}),(function(e){return{recover:function(t){e({type:"TRY_RECOVER_IMAGE_DATA",payload:t})}}})),lt=(0,n.$j)((function(){return{}}),(function(){return{}})),ct=r(99005),ut=r(25984),st=r(25108),mt=function(e){var t=e.palette,r=e.tiles,n=e.lockFrame,a=e.invertPalette,o=(0,u.useRef)(null);return(0,u.useEffect)((function(){if(t&&r)try{if(t.length)(new ct.Z).update({canvas:o.current,tiles:r,palette:t,lockFrame:n,invertPalette:a});else(new ut.Z).update({canvas:o.current,tiles:r,palette:t,lockFrame:n})}catch(e){st.log("error in GameBoyImage: ".concat(e.message))}}),[r,t,n,a]),u.createElement("canvas",{className:"gameboy-image",width:160,ref:o})};mt.propTypes={tiles:m().oneOfType([m().arrayOf(m().string),m().arrayOf(m().object)]).isRequired,palette:m().oneOfType([m().object,m().array]),lockFrame:m().bool.isRequired,invertPalette:m().bool.isRequired},mt.defaultProps={palette:null};var pt=lt(mt);function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gt=function(e){var t=e.hash,r=e.hashes,n=e.images,a=e.frame,o=e.lockFrame,i=e.invertPalette,l=e.palette,c=e.loadImageTiles,s=e.reportTileCount,m=e.recover,p=ft((0,u.useState)(null),2),f=p[0],d=p[1];return(0,u.useEffect)((function(){var e=!1;return c({images:n})({hash:t,frame:a,hashes:r},!1,m).then((function(t){e||(s(t.length),d(t))})),function(){e=!0}}),[n,c,s,t,r,a,m]),f?u.createElement(pt,{lockFrame:o,invertPalette:i,tiles:f,palette:l}):u.createElement("div",{className:"image-render--loading"})};gt.propTypes={loadImageTiles:m().func.isRequired,reportTileCount:m().func,hash:m().string.isRequired,hashes:m().object,images:m().array.isRequired,palette:m().oneOfType([m().object,m().array]).isRequired,invertPalette:m().bool.isRequired,frame:m().string,lockFrame:m().bool.isRequired,recover:m().func.isRequired},gt.defaultProps={hashes:null,frame:null,reportTileCount:function(){}};var yt=it(gt);He().extend(Ze());var bt=function(e){var t=e.hideDate,r=e.created,n=e.updateImageSelection,a=e.isSelected,o=e.page,i=e.editImage,l=e.lockFrame,c=e.invertPalette,s=e.palette,m=e.frame,p=e.title,f=e.tags,d=e.isFavourite,g=e.hash,b=e.hashes,h=function(e){return t||!r?null:u.createElement("span",{className:e},He()(r,Ue.vc).format(Ue.W4))},v=function(e){e.ctrlKey||e.shiftKey?(e.preventDefault(),n(a?"remove":"add",e.shiftKey,o)):i()};return"default"===e.type?u.createElement("li",{className:y()("gallery-image",{"gallery-image--selected":a}),onClick:v,role:"presentation"},u.createElement("div",{className:"gallery-image__image"},u.createElement(yt,{lockFrame:l,invertPalette:c,palette:s.palette||s,frame:m,hash:g,hashes:b})),p?u.createElement("span",{className:"gallery-image__title"},p):null,u.createElement("ul",{className:"gallery-image__tags"},f.map((function(e){return u.createElement("li",{key:e,title:e===Ge.oJ?"Favourite":e,className:"gallery-image__tag"},e===Ge.oJ?"❤️":e)}))),h("gallery-image__created"),u.createElement(et,{isFavourite:d,hash:g,buttons:["select","favourite","download","delete","view","share","plugins"]})):u.createElement("tr",{className:y()("gallery-list-image",{"gallery-list-image--selected":a}),onClick:v,role:"presentation"},u.createElement("td",{className:"gallery-list-image__cell-image"},u.createElement("div",{className:"gallery-list-image__image"},u.createElement("div",{className:"gallery-list-image__image--scale"},u.createElement(yt,{lockFrame:l,invertPalette:c,palette:s.palette||s,frame:m,hash:g,hashes:b})))),u.createElement("td",{className:"gallery-list-image__cell-description"},u.createElement("div",{className:"gallery-list-image__description"},u.createElement("span",{className:"gallery-list-image__title"},p),h("gallery-list-image__created"))),u.createElement("td",{className:"gallery-list-image__cell-rgbn"},b?null:u.createElement(at,{hash:g})),u.createElement("td",{className:"gallery-list-image__cell-buttons"},u.createElement(et,{isFavourite:d,hash:g,buttons:["select","favourite","download","delete","view","plugins"]})))};bt.propTypes={created:m().string,hash:m().string.isRequired,hashes:m().object,palette:m().object.isRequired,invertPalette:m().bool.isRequired,frame:m().string,lockFrame:m().bool.isRequired,title:m().string.isRequired,tags:m().arrayOf(m().string).isRequired,isFavourite:m().bool.isRequired,editImage:m().func.isRequired,type:m().oneOf(["list","default"]).isRequired,isSelected:m().bool.isRequired,updateImageSelection:m().func.isRequired,page:m().number.isRequired,hideDate:m().bool.isRequired},bt.defaultProps={created:null,hashes:null,frame:null};var ht=$e(bt),vt=(0,n.$j)((function(){return{}}),(function(){return{}})),Et=(0,n.$j)((function(e){return{currentView:e.galleryView}}),(function(e){return{updateView:function(t){e({type:"SET_CURRENT_GALLERY_VIEW",payload:t})}}})),_t=["list","1x","2x","3x","4x"],St=function(e){return u.createElement("ul",{className:"gallery-view-select gallery-button__group"},_t.map((function(t){return u.createElement("li",{key:t,className:y()("gallery-button gallery-button--enabled",{"gallery-button--selected":e.currentView===t})},u.createElement("button",{type:"button",onClick:function(){e.updateView(t)}},u.createElement(h,{name:t})))})))};St.propTypes={currentView:m().string.isRequired,updateView:m().func.isRequired},St.defaultProps={};var wt=Et(St),Nt=(0,n.$j)((function(e){return{totalPages:e.pageSize?Math.ceil(l(e)/e.pageSize):0}}),(function(){return{}})),At=(0,n.$j)((function(){return{}}),(function(){return{}})),kt=function(e){return u.createElement("li",{className:y()("gallery-button pagination__button",{"gallery-button--selected":e.active})},u.createElement(p.OL,{className:"pagination__link",to:"/gallery/page/".concat(e.page+1),disabled:e.disabled,title:e.title},e.children))};kt.propTypes={children:m().node.isRequired,active:m().bool,disabled:m().bool,page:m().number.isRequired,title:m().string.isRequired},kt.defaultProps={active:!1,disabled:!1};var Rt=At(kt);function Pt(e){return function(e){if(Array.isArray(e))return It(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return It(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return It(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ot=function(e){if(e.totalPages<2)return null;var t=Pt(new Array(e.totalPages)).map((function(e,t){return t})),r=e.page,n=t.map((function(e){switch(e){case 0:case r-1:case r:case r+1:case t.length-1:return u.createElement(Rt,{key:e,page:e,active:e===r,title:"To page ".concat(e+1),disabled:e===r},e+1);case r-2:case r+2:return u.createElement("li",{key:e,className:"gallery-button pagination__ellipsis"});default:return null}}));return r>0&&n.unshift(u.createElement(Rt,{key:"back",title:"To previous page",disabled:r<1,page:r-1},u.createElement(h,{name:"left"}))),r<t.length-1&&n.push(u.createElement(Rt,{key:"next",title:"To next page",disabled:r>=t.length-1,page:r+1},u.createElement(h,{name:"right"}))),u.createElement("ul",{className:"pagination gallery-button__group"},n.filter(Boolean))};Ot.propTypes={totalPages:m().number.isRequired,page:m().number.isRequired};var Tt=Nt(Ot),xt=(0,n.$j)((function(e,t){var r=t.page*e.pageSize,n=!!(0,ze.Z)(e).splice(r,e.pageSize||1/0).find((function(t){var r=t.hash;return e.imageSelection.includes(r)}));return{hasPlugins:!!e.plugins.length,batchEnabled:e.imageSelection.length>1,activeFilters:e.filtersActiveTags.length||0,selectedImages:e.imageSelection.length,hasSelected:n}}),(function(e){return{batchTask:function(t,r){e({type:"BATCH_TASK",payload:t,page:r})},filter:function(){e({type:"SHOW_FILTERS"})},showSortOptions:function(){e({type:"SHOW_SORT_OPTIONS"})}}})),Ct=["download","delete","edit"];Ct.push("animate");var jt=function(e){return u.createElement("ul",{className:"batch-buttons gallery-button__group"},u.createElement("li",{className:"gallery-button gallery-button--enabled"},u.createElement("button",{type:"button",onClick:e.filter},u.createElement(h,{name:"filter"}),0===e.activeFilters?null:u.createElement("span",{className:"batch-buttons__bubble"},e.activeFilters))),u.createElement("li",{className:y()("gallery-button gallery-button--enabled",{"gallery-button--has-selected":!e.hasSelected})},u.createElement("button",{type:"button",onClick:function(){return e.batchTask(e.hasSelected?"uncheckall":"checkall",e.page)}},u.createElement(h,{name:"checkmark"}),0===e.selectedImages?null:u.createElement("span",{className:"batch-buttons__bubble"},e.selectedImages))),u.createElement("li",{className:"gallery-button gallery-button--enabled"},u.createElement("button",{type:"button",onClick:e.showSortOptions},u.createElement(h,{name:"sort"}))),Ct.map((function(t){return u.createElement("li",{key:t,className:y()("gallery-button",{"gallery-button--disabled":!e.batchEnabled,"gallery-button--enabled":e.batchEnabled})},u.createElement("button",{disabled:!e.batchEnabled,type:"button",onClick:function(){return e.batchTask(t,e.page)}},u.createElement(h,{name:t})))})),e.hasPlugins?u.createElement("li",{className:y()("gallery-button",{"gallery-button--disabled":!e.batchEnabled,"gallery-button--enabled":e.batchEnabled})},u.createElement(Ye,null,u.createElement("button",{type:"button"},u.createElement(h,{name:"plug"})))):null)};jt.propTypes={batchTask:m().func.isRequired,batchEnabled:m().bool.isRequired,activeFilters:m().number.isRequired,selectedImages:m().number.isRequired,filter:m().func.isRequired,showSortOptions:m().func.isRequired,hasSelected:m().bool.isRequired,page:m().number.isRequired,hasPlugins:m().bool.isRequired},jt.defaultProps={};var qt=xt(jt),Ft=function(e){return u.createElement("div",{className:"gallery-header"},u.createElement(wt,null),u.createElement(Tt,{page:e.page}),u.createElement(qt,{page:e.page}))};Ft.propTypes={page:m().number.isRequired};var Mt=vt(Ft);var Bt=function(e){var t,r,n,a=e.images.map((function(t){return u.createElement(ht,{type:"list"===e.currentView?"list":"default",key:t.hash,hash:t.hash,page:e.page})}));return"list"!==e.currentView&&a.push(u.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy1"}),u.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy2"}),u.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy3"}),u.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy4"}),u.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy5"})),u.createElement(u.Fragment,null,u.createElement(Mt,{page:e.page}),"list"===e.currentView?u.createElement("table",{className:"gallery gallery--list"},u.createElement("tbody",null,a)):u.createElement("ul",{className:y()("gallery",(t={},r="gallery--".concat(e.currentView),n=!0,r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t))},a),e.images.length<3?null:u.createElement(Mt,{page:e.page}))};Bt.propTypes={images:m().array.isRequired,currentView:m().string.isRequired,page:m().number.isRequired},Bt.defaultProps={};var Lt=De(Bt);function zt(e){return function(e){if(Array.isArray(e))return Dt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Dt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ut=(0,n.$j)((function(e){return{printerUrl:e.printerUrl?"".concat(e.printerUrl,"remote.html"):null,printerConnected:e.printerFunctions.length>0}}),(function(e){return{importPlainText:function(t){var r;try{r=new File(zt(t),"Text input.txt",{type:"text/plain"})}catch(e){r=new Blob(zt(t),{type:"text/plain"})}e({type:"IMPORT_FILES",payload:{files:[r]}})},importFile:function(t){e({type:"IMPORT_FILES",payload:t})},exportJson:function(t){e({type:"JSON_EXPORT",payload:t})}}})),Gt=(r(69600),(0,n.$j)((function(e){var t=e.printerParams?"#".concat(encodeURI(e.printerParams)):"";return{printerUrl:e.printerUrl?"".concat(e.printerUrl,"remote.html").concat(t):null,printerConnected:e.printerFunctions.length>0}}),(function(){return{}}))),$t=(r(23157),r(60285),(0,n.$j)((function(e){return{printerData:e.printerData,printerFunctions:e.printerFunctions,printerConnected:e.printerFunctions.length>0,printerBusy:e.printerBusy}}),(function(e){return{callRemoteFunction:function(t){e({type:"REMOTE_CALL_FUNCTION",payload:t})}}}))),Vt=r(56755),Ht=r.n(Vt),Wt={testFile:"Print test image",checkPrinter:"Check Printer",fetchImages:null,clearPrinter:"Clear Printer"},Zt=function(e){var t=e.printerData,r=e.printerFunctions,n=e.printerConnected,a=e.callRemoteFunction,o=e.printerBusy;return n?u.createElement("div",{className:"printer-report"},u.createElement("div",{className:"inputgroup buttongroup"},r.map((function(e){var r,n;return u.createElement("button",{key:e,type:"button",className:"button",disabled:o||["fetchImages","clearPrinter"].includes(e)&&!(null!==(r=t.dumps)&&void 0!==r&&r.length),onClick:function(){return a(e)}},"fetchImages"===e?"Fetch ".concat((null===(n=t.dumps)||void 0===n?void 0:n.length)||0," images"):Wt[e])}))),t&&t.fs&&t.dumps?u.createElement("table",{className:"printer-report__table"},u.createElement("thead",null,u.createElement("tr",null,u.createElement("th",{className:"printer-report__label printer-report__head"},"Printer Filesystem"),u.createElement("th",{className:"printer-report__value printer-report__head printer-report__value--url"}))),u.createElement("tbody",null,u.createElement("tr",null,u.createElement("td",{className:"printer-report__label"},"Total"),u.createElement("td",{className:"printer-report__value"},Ht()(t.fs.total))),u.createElement("tr",null,u.createElement("td",{className:"printer-report__label"},"Used"),u.createElement("td",{className:"printer-report__value"},Ht()(t.fs.used))),u.createElement("tr",null,u.createElement("td",{className:"printer-report__label"},"Free"),u.createElement("td",{className:"printer-report__value"},"".concat(Math.max(0,t.fs.maximages-t.dumps.length)," images"))),u.createElement("tr",null,u.createElement("td",{className:"printer-report__label"},"Images"),u.createElement("td",{className:"printer-report__value"},t.dumps.length)))):null):null};Zt.propTypes={printerData:m().object.isRequired,printerBusy:m().bool.isRequired,printerFunctions:m().array.isRequired,printerConnected:m().bool.isRequired,callRemoteFunction:m().func.isRequired};var Kt=$t(Zt);function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Yt=function(e,t){var r=Jt((0,u.useState)(!1),2),n=r[0],a=r[1],o=Jt((0,u.useState)(!1),2),i=o[0],l=o[1],c=(0,u.useRef)(null);return(0,u.useEffect)((function(){return n||i||c.current||(c.current=window.setTimeout((function(){l(!0)}),e)),function(){return window.clearTimeout(c.current)}})),!n&&t&&(window.clearTimeout(c.current),a(!0)),[i,n]};function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tr=function(e){var t=e.printerUrl,r=e.printerConnected,n=Qt(Yt(5e3,r),2),a=n[0],o=n[1];return u.createElement("div",{className:"connect-printer"},u.createElement(Kt,null),function(e){if(e.startsWith("/"))return!0;var t=new URL(e).protocol,r=new URL(window.location.href).protocol;return"http:"===r||r===t}(t)&&!a?u.createElement(u.Fragment,null,u.createElement("iframe",{className:y()("connect-printer__remote-printer-iframe",{"connect-printer__remote-printer-iframe--connected":r}),title:"Transfer window",src:t}),!o&&u.createElement("div",{className:"connect-printer__iframe-loading"})):(!r||a)&&u.createElement("div",{className:"inputgroup buttongroup"},u.createElement("button",{type:"button",className:"button",onClick:function(){window.open(t,"remoteprinter","width=480,height=400")}},"Open printer page")))};tr.propTypes={printerUrl:m().string.isRequired,printerConnected:m().bool.isRequired};var rr=Gt(tr);function nr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return or(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ir=function(e){return e.match(/^#[0-9a-f]{6}$/i)},lr=function(e){var t=e.id,r=e.labelText,n=e.buttonIcon,a=e.buttonLabel,o=e.buttonOnClick,i=e.type,l=e.min,c=e.max,s=e.step,m=e.value,p=e.disabled,f=e.onChange,d=e.onBlur,g=e.onKeyUp,b=e.children,v=ar((0,u.useState)(!1),2),E=v[0],_=v[1],S=ar((0,u.useState)(m),2),w=S[0],N=S[1];(0,u.useEffect)((function(){"color"===i&&N(m)}),[N,m,i]);var A=g?function(e){var t=e.key;return g(t)}:null,k=d?function(){"password"===i&&_(!1),d()}:null;return u.createElement("div",{className:"inputgroup inputgroup--".concat(i)},u.createElement("label",{htmlFor:t,className:"inputgroup__label"},r,b),u.createElement("input",{id:t,className:"inputgroup__input",type:E?"text":i,min:"number"===i?l:null,max:"number"===i?c:null,step:"number"===i?s:null,value:m,disabled:p,onChange:function(e){var t=e.target,r=t.value,n=t.files;f(n||r)},onBlur:k,onKeyUp:A}),"file"===i?u.createElement("label",{htmlFor:t,className:"button button--label"},"Select"):null,o&&(n||a)?u.createElement("button",{type:"button",className:y()(nr({button:a},"inputgroup__button inputgroup__button--".concat(n),n)),onClick:o},n?u.createElement(h,{name:n}):a):null,"color"===i?u.createElement("input",{type:"text",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:y()("inputgroup__input inputgroup__input--colortext",{"inputgroup__input--invalid-color":!ir(w)}),value:w,disabled:p,onChange:function(e){var t=e.target.value;N(t),ir(t)&&f(t)},onBlur:k}):null,"password"===i?u.createElement("button",{type:"button",className:"inputgroup__button inputgroup__button--show-password",onClick:function(){return _(!E)}},u.createElement(h,{name:"view"})):null)};lr.propTypes={id:m().string.isRequired,labelText:m().string.isRequired,type:m().oneOf(["text","number","color","file","password"]),min:m().number,max:m().number,step:m().number,value:m().oneOfType([m().string,m().number]),onChange:m().func.isRequired,onBlur:m().func,buttonOnClick:m().func,buttonIcon:m().string,buttonLabel:m().string,onKeyUp:m().func,disabled:m().bool,children:m().node},lr.defaultProps={type:"text",min:null,max:null,step:null,value:"",onBlur:null,disabled:!1,buttonOnClick:null,buttonIcon:null,buttonLabel:null,onKeyUp:null,children:null};var cr=lr;function ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mr=function(e){var t=e.importPlainText,n=e.importFile,a=e.printerUrl,o=e.exportJson,i=ur((0,u.useState)(""),2),l=i[0],c=i[1];return(0,u.useEffect)((function(){r.e(158).then(r.bind(r,36767)).then((function(e){var t=e.default;c(t.join("\n"))}))}),[]),u.createElement("div",{className:"import"},a&&u.createElement(rr,null),u.createElement(cr,{id:"import-file",labelText:"Select file for import",type:"file",onChange:function(e){e&&1===e.length&&n({files:e})}}),u.createElement("div",{className:"inputgroup inputgroup--column"},u.createElement("label",{htmlFor:"import-plaintext",className:"inputgroup__label"},"Paste your plaintext"),u.createElement("textarea",{id:"import-plaintext",className:"import__data",value:l,onChange:function(e){var t=e.target;c(t.value)}}),u.createElement("button",{className:"button button--label",type:"button",onClick:function(){t(l)}},"Import")),u.createElement("div",{className:"inputgroup buttongroup"},u.createElement("button",{type:"button",className:"button",onClick:function(){return o("images")}},"Export images"),u.createElement("button",{type:"button",className:"button",onClick:function(){return o("selected_images")}},"Export selected images"),u.createElement("button",{type:"button",className:"button",onClick:function(){return o("frames")}},"Export frames"),u.createElement("button",{type:"button",className:"button",onClick:function(){return o("palettes")}},"Export palettes")))};mr.propTypes={printerUrl:m().string,importPlainText:m().func.isRequired,importFile:m().func.isRequired,exportJson:m().func.isRequired},mr.defaultProps={printerUrl:null};var pr=Ut(mr),fr=(0,n.$j)((function(e){return{palettes:e.palettes}}),(function(e){return{newPalette:function(){e({type:"PALETTE_EDIT",payload:Ge.VP})}}})),dr=(r(47941),(0,n.$j)((function(e,t){var r=t.shortName;return{isActive:e.activePalette===r}}),(function(e,t){var r=t.shortName,n=t.name;return{setActive:function(){e({type:"PALETTE_SET_ACTIVE",payload:r})},deletePalette:function(){e({type:"CONFIRM_ASK",payload:{message:'Delete palette "'.concat(n||"no name",'"?'),confirm:function(){e({type:"PALETTE_DELETE",payload:{shortName:r}})},deny:function(){e({type:"CONFIRM_ANSWERED"})}}})},editPalette:function(){e({type:"PALETTE_EDIT",payload:r})},clonePalette:function(){e({type:"PALETTE_CLONE",payload:r})}}}))),gr="36",yr=function(e){return u.createElement("li",{className:y()("palette",{"palette--active":e.isActive}),style:{backgroundImage:"linear-gradient(to right, ".concat(e.palette[0]).concat(gr," 0%, ").concat(e.palette[1]).concat(gr," 33.3%, ").concat(e.palette[2]).concat(gr," 66.6%, ").concat(e.palette[3]).concat(gr," 100%)")}},u.createElement("button",{onClick:function(){e.setActive()},className:"palette__button",type:"button"},u.createElement("div",{className:"palette__name"},e.name,u.createElement("span",{className:"palette__shortname"},e.shortName)),u.createElement("div",{className:"palette__colors"},u.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[0]},title:e.palette[0]}," "),u.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[1]},title:e.palette[1]}," "),u.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[2]},title:e.palette[2]}," "),u.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[3]},title:e.palette[3]}," "))),u.createElement("div",{className:"palette__manage-buttons"},u.createElement("button",{type:"button",title:"Clone palette",className:"palette__manage-button palette__manage-button--clone",onClick:function(){return e.clonePalette()}},u.createElement(h,{name:"clone"})),e.isPredefined?null:u.createElement(u.Fragment,null,u.createElement("button",{type:"button",title:"Edit palette",className:"palette__manage-button palette__manage-button--edit",onClick:function(){return e.editPalette()}},u.createElement(h,{name:"edit"})),u.createElement("button",{type:"button",title:"Delete palette",className:"palette__manage-button palette__manage-button--delete",onClick:function(){return e.deletePalette()}},u.createElement(h,{name:"delete"})))))};yr.propTypes={shortName:m().string.isRequired,name:m().string.isRequired,isActive:m().bool.isRequired,isPredefined:m().bool.isRequired,setActive:m().func.isRequired,deletePalette:m().func.isRequired,editPalette:m().func.isRequired,clonePalette:m().func.isRequired,palette:m().arrayOf(m().string).isRequired},yr.defaultProps={};var br=dr(yr);function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Er={all:{headline:"All palettes",filter:Boolean},own:{headline:"Own palettes",filter:function(e){return!e.isPredefined}},predefined:{headline:"Predefined palettes",filter:function(e){return e.isPredefined}}},_r=function(e){var t=hr((0,u.useState)(Object.keys(Er)[0]),2),r=t[0],n=t[1],a=Er[r],o=a.filter,i=a.headline;return u.createElement(u.Fragment,null,u.createElement("ul",{className:"contenttabs__tabs"},Object.keys(Er).map((function(e){var t=Er[e].headline;return u.createElement("li",{className:"contenttabs__tab",key:e},u.createElement("button",{type:"button",className:y()("button contenttabs__tabs-button",{"button contenttabs__tabs-button--active":e===r}),onClick:function(){return n(e)}},t))}))),u.createElement("h2",{className:"palettes__headline"},i,"own"===r?u.createElement("button",{type:"button",className:"button palettes__add-button",onClick:function(){e.newPalette()}},u.createElement(h,{name:"add"})):null),u.createElement("ul",{className:"palettes"},e.palettes.filter(o).map((function(e){return u.createElement(br,{key:e.shortName,name:e.name,isPredefined:e.isPredefined||!1,shortName:e.shortName,palette:e.palette})}))))};_r.propTypes={palettes:m().array.isRequired,newPalette:m().func.isRequired},_r.defaultProps={};var Sr=fr(_r),wr=(0,n.$j)((function(e){return{printerUrl:e.printerUrl}}),(function(e){return{updatePrinterUrl:function(t){e({type:"SET_PRINTER_URL",payload:t})}}})),Nr=(0,n.$j)((function(e){return{gitStorage:e.gitStorage}}),(function(e){return{setGitStorage:function(t){e({type:"SET_GIT_STORAGE",payload:t})}}}));r(38880),r(49337),r(33321);function Ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(r),!0).forEach((function(t){Rr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Or=function(e){var t=e.gitStorage,r=e.setGitStorage,n=Pr((0,u.useState)(t),2),a=n[0],o=n[1];return u.createElement(u.Fragment,null,u.createElement("label",{className:y()("inputgroup checkgroup",{"checkgroup--checked":a.use})},u.createElement("span",{className:"inputgroup__label",title:"Use github as storage"},"Use github as storage"),u.createElement("span",{className:"checkgroup__checkbox-wrapper"},u.createElement("input",{type:"checkbox",className:"checkgroup__input",checked:a.use,onChange:function(e){var t=e.target,n=kr(kr({},a),{},{use:t.checked});o(n),r(n)}}),u.createElement(h,{name:"checkmark"}))),a.use?u.createElement(u.Fragment,null,u.createElement(cr,{id:"settings-git-owner",labelText:"Owner",type:"text",value:a.owner,onChange:function(e){o(kr(kr({},a),{},{owner:e}))},onBlur:function(){r(a)}}),u.createElement(cr,{id:"settings-git-repo",labelText:"Repository name",type:"text",value:a.repo,onChange:function(e){o(kr(kr({},a),{},{repo:e}))},onBlur:function(){r(a)}}),u.createElement(cr,{id:"settings-git-branch",labelText:"Branch",type:"text",value:a.branch,onChange:function(e){o(kr(kr({},a),{},{branch:e}))},onBlur:function(){r(a)}}),u.createElement(cr,{id:"settings-git-throttle",labelText:"Throttle (in ms)",type:"number",min:10,max:5e3,step:25,value:a.throttle,onChange:function(e){o(kr(kr({},a),{},{throttle:e}))},onBlur:function(){r(a)}}),u.createElement(cr,{id:"settings-git-token",labelText:"Token",type:"password",value:a.token,onChange:function(e){o(kr(kr({},a),{},{token:e}))},onBlur:function(){r(a)}},u.createElement("a",{className:"inputgroup__note",href:"https://github.com/settings/tokens/new?scopes=repo"},"How to obtain a token"))):null)};Or.propTypes={gitStorage:m().object.isRequired,setGitStorage:m().func.isRequired};var Tr=Nr(Or),xr=(0,n.$j)((function(e){return{use:!!e.dropboxStorage.use,loggedIn:!!e.dropboxStorage.refreshToken,path:e.dropboxStorage.path||""}}),(function(e){return{logout:function(){e({type:"DROPBOX_LOGOUT"})},setDropboxStorage:function(t){e({type:"SET_DROPBOX_STORAGE",payload:t})},startAuth:function(t){e({type:"DROPBOX_START_AUTH",payload:t})}}})),Cr=r(16381);function jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Fr=function(e){var t=e.use,r=e.loggedIn,n=e.logout,a=e.startAuth,o=e.setDropboxStorage,i=e.path,l=jr((0,u.useState)(i),2),c=l[0],s=l[1];return u.createElement(u.Fragment,null,u.createElement("label",{className:y()("inputgroup checkgroup",{"checkgroup--checked":t})},u.createElement("span",{className:"inputgroup__label",title:"Use Dropbox as storage"},"Use Dropbox as storage"),u.createElement("span",{className:"checkgroup__checkbox-wrapper"},u.createElement("input",{type:"checkbox",className:"checkgroup__input",checked:t,onChange:function(e){var t=e.target;o({use:t.checked})}}),u.createElement(h,{name:"checkmark"}))),u.createElement(cr,{id:"dropbox-settings-path",value:c,onChange:s,onBlur:function(){s((0,Cr.Z)(c)),o({path:(0,Cr.Z)(c)})},labelText:"Subfolder"}),t?u.createElement(u.Fragment,null,u.createElement("div",{className:"inputgroup buttongroup"},u.createElement("button",{type:"button",className:"button",disabled:r,onClick:a},"Authenticate"),u.createElement("button",{type:"button",className:"button",disabled:!r,onClick:n},"Logout"))):null)};Fr.propTypes={logout:m().func.isRequired,startAuth:m().func.isRequired,setDropboxStorage:m().func.isRequired,loggedIn:m().bool.isRequired,use:m().bool.isRequired,path:m().string.isRequired};var Mr=xr(Fr),Br=r(36940),Lr=(0,n.$j)((function(e){return{exportScaleFactors:e.exportScaleFactors,exportFileTypes:e.exportFileTypes,pageSize:e.pageSize,savFrameTypes:e.savFrameTypes,savFrameGroups:(0,Br.Z)(e.frames),handleExportFrame:e.handleExportFrame,importLastSeen:e.importLastSeen,hideDates:e.hideDates,printerUrl:e.printerUrl,printerParams:e.printerParams,useSerials:e.useSerials}}),(function(e){return{setSavFrameTypes:function(t){e({type:"SET_SAV_FRAME_TYPES",payload:t})},setHandleExportFrame:function(t){e({type:"SET_HANDLE_EXPORT_FRAME",payload:t})},setImportLastSeen:function(t){e({type:"SET_IMPORT_LAST_SEEN",payload:t})},setHideDates:function(t){e({type:"SET_HIDE_DATES",payload:t})},setPageSize:function(t){e({type:"SET_PAGESIZE",payload:t})},changeExportScaleFactors:function(t,r){e({type:"UPDATE_EXPORT_SCALE_FACTORS",payload:{factor:t,checked:r}})},changeExportFileTypes:function(t,r){e({type:"UPDATE_EXPORT_FILE_TYPES",payload:{fileType:t,checked:r}})},updatePrinterUrl:function(t){e({type:"SET_PRINTER_URL",payload:t})},updatePrinterParams:function(t){e({type:"SET_PRINTER_PARAMS",payload:t})},setUseSerials:function(t){e({type:"USE_SERIALS",payload:t})}}})),zr=(r(91058),r(82772),{}),Dr=function(){return["jpeg","jpg","png","webp","bmp","gif"].filter((function(e){return function(e){if(void 0!==zr[e])return zr[e];var t=document.createElement("canvas");t.width=2,t.height=2;var r=t.toDataURL("image/".concat(e));return zr[e]=0===r.indexOf("data:image/".concat(e,";base64")),zr[e]}(e)}))},Ur=r(11054),Gr=r(22429),$r=[{id:"keep",name:"Keep frame"},{id:"crop",name:"Crop frame"},{id:"square_black",name:"Make image squared (add black)"},{id:"square_white",name:"Make image squared (add white)"},{id:"square_smart",name:"Make image squared (smart - repeats first/last line - works in most cases...)"}];function Vr(e){return function(e){if(Array.isArray(e))return Zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||Wr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wr(e,t){if(e){if("string"==typeof e)return Zr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zr(e,t):void 0}}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Kr=function(e){var t=Hr((0,u.useState)(e.pageSize),2),r=t[0],n=t[1],a=Hr((0,u.useState)(e.printerUrl),2),o=a[0],i=a[1],l=Hr((0,u.useState)(e.printerParams),2),c=l[0],s=l[1];return u.createElement(u.Fragment,null,u.createElement(cr,{id:"settings-pagesize",labelText:"Page size",type:"number",min:0,value:r,onChange:function(e){n(e)},onBlur:function(){e.setPageSize(parseInt(r,10)||0)}},u.createElement("span",{className:y()("inputgroup__note",{"inputgroup__note--warn":!e.pageSize})},"(set to 0 to disable pagination - might cause performance issues on large sets of images)")),u.createElement("div",{className:"inputgroup"},u.createElement("div",{className:"inputgroup__label"},"Image export dimensions"),[1,2,3,4,6,8,10].map((function(t){return u.createElement("label",{key:t,className:y()("inputgroup__label-check",{"inputgroup__label-check--selected":e.exportScaleFactors.includes(t)}),title:"".concat(160*t,"×").concat(144*t)},"".concat(t,"×"),u.createElement("input",{type:"checkbox",checked:e.exportScaleFactors.includes(t),onChange:function(r){var n=r.target;e.changeExportScaleFactors(t,n.checked)}}))}))),u.createElement("div",{className:"inputgroup"},u.createElement("div",{className:"inputgroup__label"},"Image export filetypes"),[].concat(Vr(Dr()),["txt"]).map((function(t){return u.createElement("label",{key:t,className:y()("inputgroup__label-check",{"inputgroup__label-check--selected":e.exportFileTypes.includes(t)}),title:t},t,u.createElement("input",{type:"checkbox",checked:e.exportFileTypes.includes(t),onChange:function(r){var n=r.target;e.changeExportFileTypes(t,n.checked)}}))}))),u.createElement("div",{className:"inputgroup"},u.createElement("label",{htmlFor:"settings-handle-export-frames",className:"inputgroup__label"},"How to handle frames when exporting images"),u.createElement("select",{id:"settings-handle-export-frames",className:"inputgroup__input inputgroup__input--select",value:e.handleExportFrame,onChange:function(t){e.setHandleExportFrame(t.target.value)}},$r.map((function(e){var t=e.id,r=e.name;return u.createElement("option",{value:t,key:t},r)})))),u.createElement("div",{className:"inputgroup"},u.createElement("label",{htmlFor:"settings-sav-frames",className:"inputgroup__label"},"Frames to be applied when importing Cartridge dumps"),u.createElement("select",{id:"settings-sav-frames",className:"inputgroup__input inputgroup__input--select",disabled:!e.savFrameGroups.length,value:e.savFrameTypes,onChange:function(t){e.setSavFrameTypes(t.target.value)}},e.savFrameGroups.map((function(e){var t=e.id,r=e.name;return u.createElement("option",{value:t,key:t},r)})))),u.createElement("label",{className:y()("inputgroup checkgroup",{"checkgroup--checked":e.importLastSeen})},u.createElement("span",{className:"inputgroup__label",title:"Import ‘last seen’ image when importing Cartridge dumps"},"Import ‘last seen’ image when importing Cartridge dumps"),u.createElement("span",{className:"checkgroup__checkbox-wrapper"},u.createElement("input",{type:"checkbox",className:"checkgroup__input",checked:e.importLastSeen,onChange:function(t){var r=t.target;e.setImportLastSeen(r.checked)}}),u.createElement(h,{name:"checkmark"}))),u.createElement("label",{className:y()("inputgroup checkgroup",{"checkgroup--checked":e.hideDates})},u.createElement("span",{className:"inputgroup__label",title:"Hide dates in gallery"},"Hide dates in gallery"),u.createElement("span",{className:"checkgroup__checkbox-wrapper"},u.createElement("input",{type:"checkbox",className:"checkgroup__input",checked:e.hideDates,onChange:function(t){var r=t.target;e.setHideDates(r.checked)}}),u.createElement(h,{name:"checkmark"}))),u.createElement("label",{className:y()("inputgroup checkgroup",{"checkgroup--checked":e.useSerials})},u.createElement("span",{className:"inputgroup__label",title:"Hide dates in gallery"},"Enable WebUSB / Serial ports",u.createElement("span",{className:"inputgroup__note inputgroup__note--warn"},"This is currently an experimental feature")),u.createElement("span",{className:"checkgroup__checkbox-wrapper"},u.createElement("input",{type:"checkbox",className:"checkgroup__input",checked:e.useSerials,onChange:function(t){var r=t.target;e.setUseSerials(r.checked)}}),u.createElement(h,{name:"checkmark"}))),"esp8266"===(0,Gr.d)().env?null:u.createElement(cr,{id:"settings-printer-url",labelText:"Printer URL",type:"text",value:o,onChange:function(e){i(e)},onBlur:function(){i((0,Ur.Z)(o,"http")),e.updatePrinterUrl(o)},onKeyUp:function(t){switch(t){case"Enter":i((0,Ur.Z)(o,"http")),e.updatePrinterUrl(o);break;case"Escape":i(e.printerUrl)}}},u.createElement("span",{className:"inputgroup__note"},"If you own a physical wifi-printer, you can add it's URL here and check the ",u.createElement(p.rU,{to:"/import"},"Import-tab"))),"esp8266"===(0,Gr.d)().env||o?u.createElement(cr,{id:"settings-printer-settings",labelText:"Additional printer settings",type:"text",value:c,onChange:function(e){s(e)},onBlur:function(){s(c),e.updatePrinterParams(c)},onKeyUp:function(t){switch(t){case"Enter":s(c),e.updatePrinterParams(c);break;case"Escape":s(e.printerParams)}}}):null)};Kr.propTypes={changeExportScaleFactors:m().func.isRequired,exportScaleFactors:m().array.isRequired,changeExportFileTypes:m().func.isRequired,exportFileTypes:m().array.isRequired,savFrameTypes:m().string.isRequired,savFrameGroups:m().array.isRequired,setSavFrameTypes:m().func.isRequired,pageSize:m().number.isRequired,setPageSize:m().func.isRequired,setHandleExportFrame:m().func.isRequired,handleExportFrame:m().string.isRequired,setImportLastSeen:m().func.isRequired,importLastSeen:m().bool.isRequired,setHideDates:m().func.isRequired,hideDates:m().bool.isRequired,printerUrl:m().string.isRequired,updatePrinterUrl:m().func.isRequired,printerParams:m().string.isRequired,updatePrinterParams:m().func.isRequired,useSerials:m().bool.isRequired,setUseSerials:m().func.isRequired},Kr.defaultProps={};var Jr=Lr(Kr),Xr=(0,n.$j)((function(){return{}}),(function(e){return{exportJson:function(t){e({type:"JSON_EXPORT",payload:t})}}})),Yr=function(e){return u.createElement("div",{className:"inputgroup buttongroup settings__export"},u.createElement("button",{type:"button",className:"button",onClick:function(){return e.exportJson("debug")}},"Export debug settings"),u.createElement("button",{type:"button",className:"button",onClick:function(){return e.exportJson("settings")}},"Export settings"))};Yr.propTypes={exportJson:m().func.isRequired},Yr.defaultProps={};var Qr=Xr(Yr),en=(0,n.$j)((function(){return{}}),(function(){return{}})),tn=(r(73210),function(e){return u.createElement("div",{className:y()("wifi-settings__ap-group",{"wifi-settings__ap-group--delete":e.delete})},u.createElement(cr,{id:"".concat(e.id,"-settings-ap-ssid"),labelText:"Network SSID",type:"text",value:e.ssid,disabled:!e.isNew||e.disabled,onChange:function(t){e.update({ssid:t})},buttonOnClick:function(){e.update({delete:!e.delete})},buttonIcon:"delete"}),u.createElement(cr,{id:"".concat(e.id,"-settings-ap-psk"),labelText:"Network Password",type:"password",value:e.psk,disabled:e.disabled,onChange:function(t){e.update({psk:t})}}))});tn.propTypes={id:m().string.isRequired,ssid:m().string.isRequired,isNew:m().bool.isRequired,delete:m().bool.isRequired,psk:m().string.isRequired,update:m().func.isRequired,disabled:m().bool.isRequired};var rn=tn;function nn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return an(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return an(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function an(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function on(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?on(Object(r),!0).forEach((function(t){cn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):on(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var un=function(e,t){t("loading");var r=new AbortController,n=r.signal;return fetch("/wificonfig/get",{signal:n}).then((function(e){return e.json()})).then((function(r){r.mdns=r.mdns||"",r.ap=r.ap||{ssid:"",psk:""},r.networks=r.networks||[],t(""),e(r)})).catch((function(){n.aborted||(t("error"),e(null))})),function(){r.abort()}},sn=en((function(){var e=(0,u.useRef)(null),t=nn((0,u.useState)(null),2),r=t[0],n=t[1],a=nn((0,u.useState)("loading"),2),o=a[0],i=a[1];if((0,u.useEffect)((function(){return un(n,i)}),[n,i]),"loading"===o||!r)return u.createElement("div",{className:"wifi-settings--loading"});var l=""!==o&&"updated"!==o;return u.createElement("div",{className:"wifi-settings",ref:e},u.createElement("h3",{className:"wifi-settings__subheadline"},"Host Settings"),u.createElement(cr,{id:"settings-mdns",labelText:"mDNS Name (Bonjour/Avahi)",type:"text",disabled:l,value:r.mdns,onChange:function(e){i("updated"),n(ln(ln({},r),{},{mdns:e.trim()}))}}),u.createElement(cr,{id:"settings-ap-ssid",labelText:"Accesspoint SSID",type:"text",disabled:l,value:r.ap.ssid,onChange:function(e){i("updated"),n(ln(ln({},r),{},{ap:ln(ln({},r.ap),{},{ssid:e.trim()})}))}}),u.createElement(cr,{id:"settings-ap-psk",labelText:"Accesspoint Password",type:"password",disabled:l,value:r.ap.psk,onChange:function(e){i("updated"),n(ln(ln({},r),{},{ap:ln(ln({},r.ap),{},{psk:e.trim()})}))}}),u.createElement("h3",{className:"wifi-settings__subheadline"},"Networks",u.createElement("button",{type:"button",disabled:l,className:"button wifi-settings__button wifi-settings__button--add",onClick:function(){var e=r.networks;e.push({ssid:"",psk:"",delete:!1,isNew:!0}),n(ln(ln({},r),{},{networks:e}))}},u.createElement(h,{name:"add"}))),u.createElement("ul",{className:"wifi-settings__ap-groups"},r.networks.map((function(e,t){var a=e.ssid,o=e.psk,c=void 0===o?"":o,s=e.delete,m=void 0!==s&&s,p=e.isNew,f=void 0!==p&&p;return u.createElement(rn,{key:"apconf-".concat(t),id:"apconf-".concat(t),ssid:a,psk:c,disabled:l,isNew:f,delete:m,update:function(a){var o=r.networks;o[t]=ln(ln({},e),a),i("updated"),n(ln(ln({},r),{},{networks:o}))}})}))),u.createElement("div",{className:"inputgroup buttongroup"},u.createElement("button",{type:"button",disabled:"updated"!==o,className:"button",onClick:function(){return function(e,t,r){var n=ln(ln({},r),{},{networks:r.networks.filter((function(e){return!0===e.delete||e.psk})).filter((function(e){return e.ssid})).filter((function(e){return!(e.delete&&e.isNew)})).map((function(e){var t=e.ssid,r=e.psk;return{delete:e.delete,ssid:t,psk:r}}))});t("loading"),fetch("/wificonfig/set",{method:"post",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(e.error)})).catch((function(r){alert(r),t("error"),e(null)})).then((function(){un(e,t)}))}(n,i,r)}},"Save WiFi-Settings")))}));function mn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pn=(0,n.$j)((function(e){return{plugins:e.plugins}}),(function(e){return{pluginAdd:function(t){e({type:"PLUGIN_ADD",payload:t})},pluginRemove:function(t){e({type:"PLUGIN_REMOVE",payload:t})},pluginUpdateConfig:function(t,r,n){e({type:"PLUGIN_UPDATE_CONFIG",payload:{url:t,config:mn({},r,n)}})}}}));function fn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var gn=function(e){switch(e){case"number":return"number";case"string":default:return"text"}},yn=function(e,t){switch(e){case"number":var r=parseFloat(t);return isNaN(r)?"":r;case"string":return t||"";default:return t}},bn=function(e){var t=e.pluginAdd,r=e.pluginRemove,n=e.pluginUpdateConfig,a=e.plugins,o=fn((0,u.useState)(""),2),i=o[0],l=o[1];return u.createElement(u.Fragment,null,u.createElement(cr,{id:"plugin-settings-add-plugin",labelText:"Add Plugin",type:"text",value:i,onChange:function(e){return l(e)},buttonOnClick:function(){t(i),l("")},buttonIcon:i?"add":null}),u.createElement("ul",{className:"plugin-settings__plugin-list"},a.map((function(e,t){var a=e.url,o=e.name,i=e.description,l=e.configParams,c=void 0===l?{}:l,s=e.config,m=void 0===s?{}:s,p=e.error,f=e.loading;return u.createElement("li",{className:"plugin-settings__plugin",key:a},u.createElement("div",{className:"plugin-settings__plugin-details"},u.createElement("span",{className:"plugin-settings__plugin-name"},o),u.createElement("code",{className:"plugin-settings__plugin-url"},a),u.createElement("small",{className:"plugin-settings__plugin-description"},i)),p&&u.createElement("span",{className:"plugin-settings__plugin-warning",title:p},u.createElement(h,{name:"warn"})),f&&u.createElement("span",{className:"plugin-settings__plugin-loading",title:"Loading plugin"},u.createElement(h,{name:"loading"})),u.createElement("button",{type:"button",className:"button plugin-settings__button plugin-settings__button--delete",onClick:function(){return r(a)}},u.createElement(h,{name:"delete"})),u.createElement("div",{className:"plugin-settings__config-options"},Object.keys(c).map((function(e){var r=c[e],o=r.type,i=r.label;return u.createElement(cr,{id:"".concat(e,"-").concat(t),key:"".concat(e,"-").concat(t),labelText:i,type:gn(o),value:yn(o,m[e]),onChange:function(t){n(a,e,yn(o,t))}})}))))}))))};bn.propTypes={pluginAdd:m().func.isRequired,pluginRemove:m().func.isRequired,pluginUpdateConfig:m().func.isRequired,plugins:m().array.isRequired};var hn={generic:{Component:Jr,headline:"Generic Settings"},git:{Component:Tr,headline:"Git Settings"},plugins:{Component:pn(bn),headline:"Plugin Settings"}};hn.dropbox={Component:Mr,headline:"Dropbox Settings"},"esp8266"!==(0,Gr.d)().env&&"webpack-dev"!==(0,Gr.d)().env||(hn.wifi={Component:sn,headline:"WiFi Settings"});var vn=function(e){var t=e.tabName,r=hn[t]||hn.generic,n=r.Component,a=r.headline;return u.createElement("div",{className:"settings"},u.createElement("ul",{className:"contenttabs__tabs"},Object.keys(hn).map((function(e){var t=hn[e].headline;return u.createElement("li",{className:"contenttabs__tab",key:e},u.createElement(p.OL,{to:"/settings/".concat(e),activeClassName:"contenttabs__tabs-button--active",className:"button contenttabs__tabs-button",exact:!0},t))}))),u.createElement("h2",{className:"settings__headline"},a),u.createElement(n,null),u.createElement(Qr,null))};vn.propTypes={tabName:m().string},vn.defaultProps={tabName:Object.keys(hn)[0]};var En=wr(vn),_n=(0,n.$j)((function(e){return{showProgressLog:!!e.progressLog,showInfoBox:1===e.framesMessage,showProgressBox:!!e.progress.gif||!!e.progress.printer||!!e.progress.plugin,showConfirm:!!e.confirm.length,showEditForm:!!e.editImage,showEditPalette:!!e.editPalette.shortName,showVideoForm:!!e.videoParams.imageSelection&&!!e.videoParams.imageSelection.length,showRGBNImage:!!e.rgbnImages,showLightbox:null!==e.lightboxImage,showDragOver:!!e.dragover,showFilters:!!e.filtersVisible,showSortForm:!!e.sortOptionsVisible,syncSelect:!!e.syncSelect}}),(function(){return{}})),Sn=(0,n.$j)((function(e){return{git:{messages:e.progressLog.git||[],repoUrl:"https://github.com/".concat(e.gitStorage.owner,"/").concat(e.gitStorage.repo,"/tree/").concat(e.gitStorage.branch),repo:e.gitStorage.repo,branch:e.gitStorage.branch},dropbox:{messages:e.progressLog.dropbox||[],path:e.dropboxStorage.path||""}}}),(function(e){return{confirm:function(){e({type:"LOG_CLEAR"})}}})),wn=r(1646),Nn=r.n(wn);He().extend(Nn());var An=function(e){var t=e.git,r=t.messages,n=t.repoUrl,a=t.repo,o=t.branch,i=e.dropbox,l=i.messages,c=i.path,s=e.confirm;if(!r.length&&!l.length)return null;var m=r.length>0,p=l.length>0,f=(r[r.length-1]||{}).timestamp,d=r[0]||{},g=d.timestamp,y=d.message,b=(l[l.length-1]||{}).timestamp,h=l[0]||{},v=h.timestamp,E=h.message,_="."===y||"."===E,S=m?f:b,w=m?g:v,N=r.concat(l);return u.createElement(_e,{className:"progress-log",header:"".concat(_?"✔️ Update done":"⏳ Updating..."," ").concat(m?' - "'.concat(a,"/").concat(o,'"'):""),confirm:_?s:null},u.createElement("ul",{className:"progress-log__messages"},N.map((function(e,t){var r=e.message,n=e.timestamp;return"."===r?null:u.createElement("li",{key:t,className:"progress-log__message",title:He().unix(n).format("HH:mm:ss")},r)}))),u.createElement("div",{className:"progress-log__duration"},"Started at: ".concat(He().unix(S).format("HH:mm:ss")),u.createElement("br",null),"".concat(_?"Finished after":"Running for",": ").concat(He().duration(w-S,"seconds").format("HH:mm:ss")),m?u.createElement(u.Fragment,null,u.createElement("br",null),"Repository: ",u.createElement("a",{title:n,href:n,target:"_blank",rel:"noreferrer"},"Open GitHub")):null,p?u.createElement(u.Fragment,null,u.createElement("br",null),u.createElement("a",{title:"Open Dropbox folder:\nhttps://www.dropbox.com/home/Apps/GameBoyPrinter/".concat(c),href:"https://www.dropbox.com/home/Apps/GameBoyPrinter/".concat(c),target:"_blank",rel:"noreferrer"},"Open Dropbox folder")):null))};An.propTypes={git:m().shape({messages:m().arrayOf(m().shape({timestamp:m().number.isRequired,message:m().string.isRequired})).isRequired,repoUrl:m().string.isRequired,repo:m().string.isRequired,branch:m().string.isRequired}).isRequired,dropbox:m().shape({messages:m().arrayOf(m().shape({timestamp:m().number.isRequired,message:m().string.isRequired})).isRequired,path:m().string.isRequired}).isRequired,confirm:m().func.isRequired};var kn=Sn(An),Rn=(0,n.$j)((function(e){return 1===e.framesMessage?{message:{type:"FRAMES_MESSAGE_HIDE",headline:"You might be temporarily missing some frames",text:["In a recent change the pre-compiled frames have been removed from this application.","The application now however gives you the opportunity to add all frames you like by yourself and also share them with others.","Maybe you have designed some frames by yourself, or you have aquired some previously unknown frames.",'To see how you can add the frames, check the "Frames" explanation on the startpage of this app.']}}:{}}),(function(e){return{confirm:function(t){e({type:t})}}})),Pn=function(e){var t=e.message,r=e.confirm;return t?u.createElement(_e,{className:"info-box",confirm:function(){return r(t.type)},header:t.headline},u.createElement("div",{className:"info-box__message"},t.text.map((function(e,t){return u.createElement("p",{key:t},e)})))):null};Pn.propTypes={message:m().object,confirm:m().func.isRequired},Pn.defaultProps={message:null};var In=Rn(Pn),On=(0,n.$j)((function(e){return e.progress.gif?{progress:e.progress.gif,message:"Creating GIF animation..."}:e.progress.plugin?{progress:e.progress.plugin,message:"Executing plugin..."}:e.progress.printer?{progress:e.progress.printer,message:"Fetching images from printer..."}:{}}),(function(e){return{confirm:function(t){e({type:t})}}})),Tn=function(e){var t=e.message,r=e.progress;return r?u.createElement(_e,{className:"progress-box",header:t.headline},u.createElement("div",{className:"progress-box__message"},t),u.createElement("progress",{className:"progress-box__progress",value:r,max:1})):null};Tn.propTypes={message:m().string.isRequired,progress:m().number.isRequired};var xn=On(Tn),Cn=(0,n.$j)((function(e){var t=e.confirm[0];return t?{message:t.message,questions:t.questions,confirm:t.confirm,deny:t.deny}:{}}),(function(){return{}}));r(85827);function jn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(r),!0).forEach((function(t){Bn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ln=function(e){var t,r;return Mn(Mn({},e),{},{selected:(null===(t=e.options)||void 0===t||null===(r=t.find((function(e){return e.selected})))||void 0===r?void 0:r.value)||""})},zn=function(e){var t=jn((0,u.useState)(e({}).map(Ln).reduce((function(e,t){var r=t.key,n=t.selected;return Mn(Mn({},e),{},Bn({},r,n))}),{})),2),r=t[0],n=t[1];return[e(r),r,function(e,t){n(Mn(Mn({},r),{},Bn({},e,t)))}]},Dn=function(e){var t=e.id,r=e.label,n=e.disabled,a=e.value,o=e.setSelected,i=e.options;return u.createElement("div",{className:"inputgroup"},u.createElement("label",{htmlFor:"confirm-options-".concat(t),className:"inputgroup__label"},r),u.createElement("select",{id:"confirm-options-".concat(t),disabled:n,className:"inputgroup__input inputgroup__input--select",value:a,onChange:o},i.map((function(e){var t=e.value,r=e.name;return u.createElement("option",{value:t,key:t},r)}))))};Dn.propTypes={id:m().string.isRequired,label:m().string.isRequired,disabled:m().bool.isRequired,value:m().string.isRequired,setSelected:m().func.isRequired,options:m().arrayOf(m().shape({value:m().string.isRequired,name:m().string.isRequired})).isRequired};var Un=Dn;function Gn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vn=function(e){var t,r=e.message,n=e.questions,a=e.confirm,o=e.deny,i=Gn(zn(n),3),l=i[0],c=i[1],s=i[2],m=null===(t=l.find((function(e){return"confirmForm"===e.type})))||void 0===t?void 0:t.notComplete;return u.createElement(_e,{className:"confirm",confirm:m?null:function(){return a(c)},deny:o,header:r},l.map((function(e){var t=e.label,r=e.key,n=e.type,a=e.options,o=e.disabled,i=void 0!==o&&o;switch(n){case"select":return u.createElement(Un,{key:r,id:r,disabled:i,value:c[r]||"",label:t,options:a,setSelected:function(e){var t=e.target.value;s(r,t)}});case"text":case"number":return u.createElement(cr,{key:r,id:r,disabled:i,value:c[r]||"",type:n,labelText:t,onChange:function(e){s(r,e)}});case"info":return u.createElement("p",{className:"confirm__info-text",key:r},t);default:return null}})).filter(Boolean))};Vn.propTypes={message:m().string.isRequired,questions:m().func,confirm:m().func.isRequired,deny:m().func},Vn.defaultProps={questions:function(){return[]},deny:null};var Hn=Cn(Vn),Wn=r(23506);function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach((function(t){Jn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Jn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xn=(0,n.$j)((function(e){var t=e.windowDimensions.width<=600?e.windowDimensions.height:Math.min(900,e.windowDimensions.height),r=function(t){return e.palettes.find((function(e){return t===e.shortName}))||Ue.d$},n=e.images.find((function(t){return t.hash===e.editImage.hash})),a=e.editImage,o=a.batch,i=a.tags;return e.editImage&&n?{created:n.created||null,hash:n.hash,tags:o?i:n.tags,title:n.title,hashes:n.hashes,frame:n.frame,lockFrame:n.lockFrame||!1,palette:n.palette,invertPalette:n.invertPalette||!1,batch:o?o.length:0,paletteShort:"string"==typeof n.palette?n.palette:null,paletteRGBN:"string"!=typeof n.palette?n.palette:null,height:t,findPalette:r}:{hash:null,invertPalette:!1,lockFrame:!1,tags:[],batch:0,height:t,findPalette:r}}),(function(e){return{save:function(t,r){var n=t.batch,a=t.tagChanges;e(n?{type:"UPDATE_IMAGES_BATCH",payload:{image:r,batch:n,tagChanges:a}}:{type:"UPDATE_IMAGE",payload:Kn(Kn({},r),{},{tags:(0,Wn.Z)(a)})})},cancel:function(){e({type:"CANCEL_EDIT_IMAGE"})}}})),Yn=(0,n.$j)((function(){return{}}),(function(){return{}})),Qn=(0,n.$j)((function(e){return{frames:e.frames}}),(function(){return{}})),ea=function(e){return u.createElement(u.Fragment,null,u.createElement("select",{className:"frame-select",value:e.frame,onChange:function(t){e.updateFrame(t.target.value)}},u.createElement("option",{value:""},e.noFrameOption),e.frames.map((function(e){var t=e.id,r=e.name;return u.createElement("option",{key:t,value:t},"".concat(r," (").concat(t,")"))}))),u.createElement("label",{className:y()("frame-select__check-label",{"frame-select__check-label--checked":e.lockFrame})},u.createElement("input",{type:"checkbox",className:"frame-select__checkbox",checked:e.lockFrame,onChange:function(t){var r=t.target;e.updateFrameLock(r.checked)}}),u.createElement(h,{name:"checkmark"}),u.createElement("span",{className:"frame-select__check-label-text"},"Palette does not affect frame")))};ea.propTypes={frame:m().string.isRequired,frames:m().array.isRequired,updateFrame:m().func.isRequired,updateFrameLock:m().func.isRequired,lockFrame:m().bool.isRequired,noFrameOption:m().string},ea.defaultProps={noFrameOption:"As imported / No frame"};var ta=Qn(ea),ra=(0,n.$j)((function(){return{}}),(function(){return{}})),na=(r(84944),r(19302)),aa=r(21334),oa=(0,n.$j)((function(){return{}}),(function(){return{}})),ia=r(18731),la=function(e){var t=e.domain,r=e.handle,n=(0,e.getHandleProps)(r.id),a=n.onKeyDown,o=n.onMouseDown,i=n.onTouchStart;return u.createElement("button",{role:"slider",type:"button","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":r.value,className:"color-slider__handle",style:{left:"".concat(r.percent,"%")},onKeyDown:a,onMouseDown:o,onTouchStart:i})};la.propTypes={domain:m().array.isRequired,handle:m().shape({id:m().string.isRequired,value:m().number.isRequired,percent:m().number.isRequired}).isRequired,getHandleProps:m().func.isRequired},la.defaultProps={};var ca=la,ua=function(e){var t=(0,e.getRailProps)(),r=t.onMouseDown,n=t.onTouchStart;return u.createElement("button",{type:"button",className:"color-slider__rail",onMouseDown:r,onTouchStart:n,tabIndex:"-1"},u.createElement("div",{className:"color-slider__rail-inner"}))};ua.propTypes={getRailProps:m().func.isRequired};var sa=ua,ma=[0,255],pa=function(e){return u.createElement("div",{className:"color-slider","data-color":e.color},u.createElement("button",{className:"color-slider__button color-slider__button--reset",type:"button",onClick:function(){e.onChange([0,85,170,255])}},u.createElement(h,{name:"reset"})),u.createElement(ia.iR,{className:"color-slider__root",mode:2,step:4,domain:ma,onUpdate:e.onChange,onChange:e.onChange,values:e.values},u.createElement(ia.S0,null,(function(e){var t=e.getRailProps;return u.createElement(sa,{getRailProps:t})})),u.createElement(ia.wO,null,(function(e){var t=e.handles,r=e.getHandleProps;return u.createElement("div",{className:"slider-handles"},t.map((function(e){return u.createElement(ca,{key:e.id,handle:e,domain:ma,getHandleProps:r})})))}))))};pa.propTypes={color:m().oneOf(["r","g","b","n"]).isRequired,onChange:m().func.isRequired,values:m().array.isRequired};var fa=oa(pa);function da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?da(Object(r),!0).forEach((function(t){ya(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ya(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ba(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ha(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ha(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var va=function(e){var t=ba((0,u.useState)(e.values),2),r=t[0],n=t[1],a=(0,na.Z)((function(t){e.onChange(t,!0)}),150,{leading:!0,trailing:!0}),o=function(e,t){var o=ga(ga({},r),{},ya({},e,t));n(o),a.callback(o)};return u.createElement("div",{className:"grey-select"},["r","g","b","n"].filter((function(t){return e.useChannels[t]})).map((function(e){return["n"===e?u.createElement("select",{key:"blendmode",className:"grey-select__select",value:r.blend,onChange:function(e){o("blend",e.target.value)}},aa.Rg.map((function(e){var t=e.id,r=e.label;return u.createElement("option",{key:t,value:t},r)}))):null,u.createElement(fa,{key:"slider-".concat(e),color:e,values:r[e],onChange:function(t){o(e,t)}})].flat().filter(Boolean)})))};va.propTypes={values:m().object.isRequired,onChange:m().func.isRequired,useChannels:m().shape({r:m().bool.isRequired,g:m().bool.isRequired,b:m().bool.isRequired,n:m().bool.isRequired}).isRequired},va.defaultProps={};var Ea=ra(va),_a=(0,n.$j)((function(e){return{palettes:e.palettes}}),(function(){return{}}));function Sa(e){return function(e){if(Array.isArray(e))return Aa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Na(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||Na(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){if(e){if("string"==typeof e)return Aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Aa(e,t):void 0}}function Aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ka=function(e){var t=wa((0,u.useState)(e.value),2),r=t[0],n=t[1],a=Sa(e.palettes);return e.allowEmpty&&a.unshift({shortName:"",name:"As selected per image",palette:[]}),u.createElement(u.Fragment,null,u.createElement("select",{className:"palette-select",value:e.value,onChange:function(t){e.onChange(t.target.value,!0),n(t.target.value)}},a.map((function(e){var t=e.shortName,r=e.name;return u.createElement("option",{key:t,value:t},r)}))),u.createElement("label",{className:y()("palette-select__check-label",{"palette-select__check-label--checked":e.invertPalette})},u.createElement("input",{type:"checkbox",className:"palette-select__checkbox",checked:e.invertPalette,onChange:function(t){var r=t.target;e.updateInvertPalette(r.checked)}}),u.createElement(h,{name:"checkmark"}),u.createElement("span",{className:"palette-select__check-label-text"},"Invert Palette")),e.noFancy?null:u.createElement("ul",{className:"fancy-palette-select"},a.map((function(t){var a=t.shortName,o=t.name,i=t.palette;return u.createElement("li",{key:a,className:y()("fancy-palette-select__entry",{"fancy-palette-select__entry--active":r===a})},u.createElement("button",{type:"button",className:"fancy-palette-select__button",title:o,onClick:function(){e.onChange(a,!0),n(a)},onMouseEnter:function(){e.onChange(a,!1)},onMouseLeave:function(){e.onChange(r)}},u.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:i[0]}}),u.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:i[1]}}),u.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:i[2]}}),u.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:i[3]}})))}))))};ka.propTypes={palettes:m().array.isRequired,value:m().string.isRequired,onChange:m().func.isRequired,invertPalette:m().bool.isRequired,updateInvertPalette:m().func.isRequired,noFancy:m().bool,allowEmpty:m().bool},ka.defaultProps={noFancy:!1,allowEmpty:!1};var Ra=_a(ka),Pa=(0,n.$j)((function(){return{}}),(function(){return{}})),Ia=(r(19601),r(71755)),Oa=(r(2707),r(1373));function Ta(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ca=function(e){return(0,Oa.Z)(e.map((function(e){return e.tags})).flat()).filter((function(e){return e!==Ge.oJ})).sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}))},ja=function(){var e=(0,n.v9)((function(e){return e.images})),t=Ta((0,u.useState)(Ca(e)),2),r=t[0],a=t[1];return(0,u.useEffect)((function(){a(Ca(e))}),[e]),{availableTags:r}};function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ma(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ma(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ba=function(e){var t=e.updateTags,r=e.selectedTags,n=ja().availableTags.filter((function(e){return!r.includes(e)})),a=Fa((0,u.useState)(n),2),o=a[0],i=a[1],l=(0,Ia.Kb)({items:o,onSelectedItemChange:function(e){var r=e.inputValue;r.trim()&&(t("add",r.trim()),b())},onInputValueChange:function(e){var t=e.inputValue;i(n.filter((function(e){return e.toLowerCase().startsWith(t.trim().toLowerCase())})))}}),c=l.isOpen,s=l.getMenuProps,m=l.getInputProps,p=l.getComboboxProps,f=l.getToggleButtonProps,d=l.highlightedIndex,g=l.getItemProps,b=l.reset,v=l.inputValue,E=function(){v.trim()&&(t("add",v.trim()),b())};return u.createElement("li",qa({},p(),{className:"tags-select__tag tags-select__tag--input"}),u.createElement("input",qa({type:"text",className:"tags-select__tag-name"},m(),{onKeyUp:function(e){switch(e.key){case"Enter":E()}}})),u.createElement("button",{type:"button",className:"tags-select__button tags-select__button--add tags-select__button--only-touch",onClick:E},u.createElement(h,{name:"add"})),u.createElement("button",qa({type:"button",className:"tags-select__combo-box-toggle-button"},f(),{"aria-label":"toggle tag select menu"}),u.createElement(h,{name:"arrowdown"})),u.createElement("ul",qa({},s(),{className:y()("tags-select__combo-box-list",{"tags-select__combo-box-list--open":c})}),c&&o.map((function(e,t){return u.createElement("li",qa({className:y()("tags-select__combo-box-item",{"tags-select__combo-box-item--selected":d===t}),key:"".concat(e).concat(t)},g({item:e,index:t})),e)}))))};Ba.propTypes={updateTags:m().func.isRequired,selectedTags:m().array.isRequired};var La=Ba;function za(e){return function(e){if(Array.isArray(e))return Da(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Da(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Da(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ua=function(e){var t=(0,Oa.Z)([].concat(za(e.tags.initial),za(e.tags.add)));return u.createElement("ul",{className:"tags-select"},t.map((function(t){return u.createElement("li",{className:y()("tags-select__tag",{"tags-select__tag--add":e.tags.add.includes(t),"tags-select__tag--remove":e.tags.remove.includes(t)}),key:t},u.createElement("span",{className:"tags-select__tag-name"},t===Ge.oJ?"❤️":t),u.createElement("button",{type:"button",className:"tags-select__button tags-select__button--remove",onClick:function(){return e.updateTags("remove",t)}},u.createElement(h,{name:"remove"})),u.createElement("button",{type:"button",className:"tags-select__button tags-select__button--add",onClick:function(){return e.updateTags("add",t)}},u.createElement(h,{name:"add"})))})),u.createElement(La,{updateTags:e.updateTags,selectedTags:t}))};Ua.propTypes={tags:m().shape({initial:m().array.isRequired,add:m().array.isRequired,remove:m().array.isRequired}).isRequired,updateTags:m().func.isRequired},Ua.defaultProps={};var Ga=Pa(Ua),$a=(0,n.$j)((function(){return{}}),(function(){return{}}));r(23123);function Va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ha(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ha(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}window.dayjs=He();var Wa=function(e,t){var r=He()(e),n=Va((0,u.useState)(e?r.format(Ue.k3):""),2),a=n[0],o=n[1],i=Va((0,u.useState)(e?r.format(Ue.Z6):""),2),l=i[0],c=i[1];return[a,l,o,c,function(n){var a=Va(n.split("-"),3),i=a[0],l=a[1],c=a[2],u=parseInt(i,10),s=parseInt(l,10),m=parseInt(c,10);if(isNaN(u)||isNaN(s)||isNaN(m))o(r.format(Ue.k3));else{var p=He()(e).date(c).month(l-1).year(i);t(p.format(Ue.vc))}},function(n){var a=Va(n.split(":"),2),i=a[0],l=a[1],c=parseInt(i,10),u=parseInt(l,10);if(isNaN(c)||isNaN(u))o(r.format(Ue.Z6));else{var s=He()(e).hour(i).minute(l);t(s.format(Ue.vc))}}]};function Za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ka(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ka(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ja=function(e){var t=Za(Wa(e.created,e.updatecreated),6),r=t[0],n=t[1],a=t[2],o=t[3],i=t[4],l=t[5];return u.createElement("div",{className:"image-meta-form__datetime"},u.createElement("label",{className:"image-meta-form__label image-meta-form__label--date"},u.createElement("span",{className:"image-meta-form__label-text"},"Edit Date"),u.createElement("input",{type:"date",className:"image-meta-form__date",value:r,onChange:function(e){var t=e.target.value;a(t)},onBlur:function(e){var t=e.target.value;i(t)}})),u.createElement("label",{className:"image-meta-form__label image-meta-form__label--time"},u.createElement("span",{className:"image-meta-form__label-text"},"Edit Time"),u.createElement("input",{type:"time",className:"image-meta-form__date",value:n,onChange:function(e){var t=e.target.value;o(t)},onBlur:function(e){var t=e.target.value;l(t)}})))};Ja.propTypes={created:m().string,updatecreated:m().func.isRequired},Ja.defaultProps={created:null};var Xa=$a(Ja);function Ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var eo=function(e){var t=Ya((0,u.useState)(0),2),r=t[0],n=t[1],a=function(e){return function(){n(e)}};return u.createElement("div",{className:"edit-image-tabs"},u.createElement("ul",{className:"edit-image-tabs__list",style:{marginLeft:"-".concat(100*r,"%")}},u.createElement("li",{className:y()("edit-image-tabs__tab",{"edit-image-tabs__tab--active":0===r}),onFocus:a(0),onClick:a(0)},e.paletteRGBN?u.createElement(u.Fragment,null,u.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Edit Greytones"),u.createElement(Ea,{values:e.paletteRGBN,onChange:e.updatePalette,useChannels:{r:!!e.hashes.r,g:!!e.hashes.g,b:!!e.hashes.b,n:!!e.hashes.n}})):u.createElement(u.Fragment,null,u.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Select Palette"),u.createElement(Ra,{value:e.paletteShort,invertPalette:e.invertPalette,onChange:e.updatePalette,updateInvertPalette:e.updateInvertPalette}))),e.regularImage?u.createElement("li",{className:y()("edit-image-tabs__tab",{"edit-image-tabs__tab--active":1===r}),onFocus:a(1),onClick:a(1)},u.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Select Frame"),u.createElement(ta,{updateFrame:e.updateFrame,updateFrameLock:e.updateFrameLock,frame:e.frame||"",lockFrame:e.lockFrame})):null,u.createElement("li",{className:y()("edit-image-tabs__tab",{"edit-image-tabs__tab--active":2===r}),onFocus:a(e.regularImage?2:1),onClick:a(e.regularImage?2:1)},u.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Tags"),u.createElement(Ga,{updateTags:e.updateTags,tags:e.tags})),u.createElement("li",{className:y()("edit-image-tabs__tab",{"edit-image-tabs__tab--active":3===r}),onFocus:a(e.regularImage?3:2),onClick:a(e.regularImage?3:2)},u.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Misc"),u.createElement(Xa,{created:e.created,updatecreated:e.updateCreated}))))};eo.propTypes={hashes:m().object,created:m().string,paletteShort:m().string,paletteRGBN:m().object,invertPalette:m().bool.isRequired,frame:m().string,tags:m().shape({initial:m().array.isRequired,add:m().array.isRequired,remove:m().array.isRequired}).isRequired,regularImage:m().bool.isRequired,lockFrame:m().bool.isRequired,updateCreated:m().func.isRequired,updatePalette:m().func.isRequired,updateInvertPalette:m().func.isRequired,updateTags:m().func.isRequired,updateFrame:m().func.isRequired,updateFrameLock:m().func.isRequired},eo.defaultProps={hashes:null,paletteShort:"",paletteRGBN:null,frame:null,created:null};var to=Yn(eo);function ro(e){return function(e){if(Array.isArray(e))return no(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return no(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return no(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ao=function(e,t){var r=t.mode,n=t.tag;switch(r){case"add":return{add:[].concat(ro(e.add),[n]),remove:ro(e.remove.filter((function(e){return e!==n})))};case"remove":return{remove:[].concat(ro(e.remove),[n]),add:ro(e.add.filter((function(e){return e!==n})))};default:return{}}};function oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(r),!0).forEach((function(t){lo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var so=function(e){var t=co((0,u.useState)(e.title),2),r=t[0],n=t[1],a=co((0,u.useState)(e.created),2),o=a[0],i=a[1],l=co((0,u.useState)(e.frame),2),c=l[0],s=l[1],m=co((0,u.useState)(e.lockFrame),2),p=m[0],f=m[1],d=co((0,u.useState)(e.invertPalette),2),g=d[0],y=d[1],b=co((0,u.useState)(e.paletteShort),2),h=b[0],v=b[1],E=co((0,u.useState)(e.paletteRGBN),2),_=E[0],S=E[1],w=co((0,u.useState)(!0),2),N=w[0],A=w[1],k=co((0,u.useState)({initial:e.tags,add:[],remove:[]}),2),R=k[0],P=k[1],I=co((0,u.useState)(!!e.batch&&{created:!1,title:!1,palette:!1,invertPalette:!1,frame:!1,lockFrame:!1,tags:!1}),2),O=I[0],T=I[1];if(!e.hash)return null;var x=h?e.findPalette(h).palette:_,C=function(e){return e?[e.created?"date":null,e.title?"title":null,e.palette?"palette":null,e.invertPalette?"invertPalette":null,e.frame?"frame":null,e.lockFrame?"framePalette":null,e.tags?"tags":null].filter(Boolean).join(", "):""}(O),j=function(e,t){return function(r){T(io(io({},O),{},lo({},e,!0))),t(r)}};return u.createElement(_e,{height:e.height,className:"edit-image",confirm:function(){return e.save({batch:!!e.batch&&O,tagChanges:R},{hash:e.hash,title:r,created:o,frame:c,invertPalette:g,lockFrame:p,palette:h||_})},deny:e.cancel},u.createElement("label",{className:"edit-image__header"},u.createElement("input",{className:"edit-image__header-edit",placeholder:"Add a title",value:r,onChange:function(e){var t=e.target.value;j("title",n)(t)}})),e.batch?u.createElement("span",{className:"edit-image__title-hint"},"Use %n (or %nn, %nnn, ...) to add an index to the image titles"):null,u.createElement(yt,{lockFrame:p,invertPalette:g,palette:x,frame:c,hash:e.hash,hashes:e.hashes,reportTileCount:function(e){A(360===e)}}),e.batch?u.createElement("div",{className:"edit-image__batch-warn",style:x?{borderLeftColor:x[1],borderTopColor:x[1],backgroundColor:x[2],borderRightColor:x[3],borderBottomColor:x[3],color:x[0]}:null},"You are editing ".concat(e.batch," images"),C?u.createElement("p",{className:"edit-image__batch-update-list"},"Will update: ".concat(C)):null):null,u.createElement(to,{created:o,updateCreated:j("created",i),regularImage:N,lockFrame:p,hashes:e.hashes,paletteShort:h,paletteRGBN:_,invertPalette:g,frame:c,tags:R,updatePalette:function(e,t){t&&T(io(io({},O),{},{palette:!0})),h?v(e):S(e)},updateInvertPalette:j("invertPalette",y),updateFrame:j("frame",s),updateFrameLock:j("lockFrame",f),updateTags:function(e,t){T(io(io({},O),{},{tags:!0})),P(io(io({},R),ao(R,{mode:e,tag:t})))}}))};so.propTypes={batch:m().number.isRequired,created:m().string,cancel:m().func.isRequired,hash:m().string,hashes:m().object,paletteShort:m().string,paletteRGBN:m().object,invertPalette:m().bool.isRequired,lockFrame:m().bool.isRequired,frame:m().string,save:m().func.isRequired,tags:m().array.isRequired,title:m().string,height:m().number.isRequired,findPalette:m().func.isRequired},so.defaultProps={created:null,title:null,hash:null,hashes:null,paletteShort:null,paletteRGBN:null,frame:null};var mo=Xn(so),po=(r(34553),r(39532)),fo=r(4181);function go(e){return function(e){if(Array.isArray(e))return yo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bo=function(e){return e&&!e.hashes},ho=(0,fo.Z)("hash"),vo=function(e){return function(){var t=e.imageSelection.map((function(t){return e.images.find((function(e){return e.hash===t}))})).filter(bo),r=t.length>1?[]:(0,ze.Z)(e).filter(bo),n=t.length+r.length>1?[]:go(e.images).map(po.Np).sort((0,po.$b)({sortBy:e.sortBy})).map(po.fD).filter(bo),a=ho([t.shift(),r.shift(),n.shift(),n.pop(),r.pop(),t.pop()].filter(Boolean));return[a.shift(),a.pop()]}},Eo=(0,n.$j)((function(e){return{shortName:e.editPalette.shortName,palette:e.editPalette.palette||[],name:e.editPalette.name||"",getPreviewImages:vo(e),shortNameIsValid:function(t){return!!t.match(/^[a-z]+[a-z0-9]*$/gi)&&-1===e.palettes.findIndex((function(e){return e.shortName===t}))}}}),(function(e){return{savePalette:function(t){e({type:"PALETTE_UPDATE",payload:t})},cancelEditPalette:function(){e({type:"PALETTE_CANCEL_EDIT"})}}}));function _o(e){return function(e){if(Array.isArray(e))return No(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||wo(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||wo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wo(e,t){if(e){if("string"==typeof e)return No(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?No(e,t):void 0}}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ao=function(e){var t=e.palette,r=e.shortName,n=e.name,a=e.shortNameIsValid,o=e.savePalette,i=e.cancelEditPalette,l=e.getPreviewImages,c=r===Ge.VP,s=So((0,u.useState)(n),2),m=s[0],p=s[1],f=So((0,u.useState)(t),2),d=f[0],g=f[1],y=So((0,u.useState)(c?"":r),2),b=y[0],h=y[1],v=So((0,u.useState)([]),2),E=v[0],_=v[1];return(0,u.useEffect)((function(){_(l())}),[l]),r?u.createElement(_e,{className:"edit-palette",confirm:function(){return o({shortName:c?b:r,name:m,palette:d,origin:""})},canConfirm:!c||a(b),deny:function(){return i()},denyOnOverlayClick:!1},u.createElement("label",{className:"edit-palette__header"},u.createElement("input",{className:"edit-palette__header-edit",placeholder:"Add a title",value:m,onChange:function(e){p(e.target.value)}})),u.createElement("div",{className:"edit-palette__content"},u.createElement(cr,{id:"palette-edit-shortname",labelText:"ID/Short name",type:"text",value:b,disabled:!c,onChange:function(e){h(e.toLowerCase())}}),u.createElement("ul",{className:"edit-palette__previews"},E.map((function(e){return u.createElement("li",{className:"edit-palette__preview-image",key:e.hash},u.createElement(yt,{hash:e.hash,invertPalette:!1,lockFrame:!1,palette:d}))}))),d.map((function(e,t){return u.createElement(cr,{key:t,id:"palette-color-".concat(t),labelText:"Color ".concat(t+1),type:"color",value:e,onChange:function(e){var r=_o(d);r[t]=e,g(r)}})})))):null};Ao.propTypes={shortName:m().string,shortNameIsValid:m().func.isRequired,palette:m().arrayOf(m().string).isRequired,name:m().string.isRequired,savePalette:m().func.isRequired,cancelEditPalette:m().func.isRequired,getPreviewImages:m().func.isRequired},Ao.defaultProps={shortName:null};var ko=Eo(Ao);function Ro(e){return function(e){if(Array.isArray(e))return Po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Po(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Po(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Io=(0,n.$j)((function(e){return{imageCount:e.videoParams.imageSelection?e.videoParams.imageSelection.length:0,scaleFactor:e.videoParams.scaleFactor||Ro(e.exportScaleFactors).pop()||4,frameRate:e.videoParams.frameRate||12,yoyo:e.videoParams.yoyo||!1,lockFrame:e.videoParams.lockFrame||!1,invertPalette:e.videoParams.invertPalette||!1,frame:e.videoParams.frame||"",exportFrameMode:e.videoParams.exportFrameMode||"keep",palette:e.videoParams.palette||""}}),(function(e){return{update:function(t){e({type:"SET_VIDEO_PARAMS",payload:t})},cancel:function(){e({type:"CANCEL_ANIMATE_IMAGES"})},animate:function(){e({type:"ANIMATE_IMAGES"})}}}));function Oo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return To(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return To(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function To(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xo=function(e){var t=e.update,r=e.cancel,n=e.imageCount,a=e.animate,o=Oo((0,u.useState)(e.frameRate),2),i=o[0],l=o[1],c=Oo((0,u.useState)(e.scaleFactor),2),s=c[0],m=c[1],p=Oo((0,u.useState)(e.palette),2),f=p[0],d=p[1],g=Oo((0,u.useState)(e.invertPalette),2),b=g[0],v=g[1],E=Oo((0,u.useState)(e.yoyo),2),_=E[0],S=E[1],w=Oo((0,u.useState)(e.frame),2),N=w[0],A=w[1],k=Oo((0,u.useState)(e.lockFrame),2),R=k[0],P=k[1],I=Oo((0,u.useState)(e.exportFrameMode),2),O=I[0],T=I[1];return(0,u.useEffect)((function(){var e={frameRate:Math.min(120,Math.max(1,parseInt(i,10))),scaleFactor:Math.min(12,Math.max(1,parseInt(s,10))),palette:f,invertPalette:b,yoyo:_,frame:N,lockFrame:R,exportFrameMode:O};t(e)}),[i,s,f,b,_,N,R,O,t]),n?u.createElement(Ee,{className:"video-params",confirm:a,deny:r,header:"Create an animated GIF with ".concat(n," frames")},u.createElement(cr,{id:"video-params-frameRate",labelText:"Framerate",type:"number",min:1,max:120,value:i,onChange:l}),u.createElement(cr,{id:"video-params-scaleFactor",labelText:"Scale GIF",type:"number",min:1,max:12,value:s,onChange:m}),u.createElement("label",{className:y()("video-params__check-label",{"video-params__check-label--checked":_}),title:"Enable Yoyo-Effect (loop back to the beginning)"},u.createElement("input",{type:"checkbox",className:"video-params__checkbox",checked:_,onChange:function(e){S(e.target.checked)}}),u.createElement(h,{name:"checkmark"}),u.createElement("span",{className:"video-params__check-label-text"},"Yoyo-Effect")),u.createElement("div",{className:"video-params__select-label"},"Palette"),u.createElement(Ra,{noFancy:!0,allowEmpty:!0,value:f,invertPalette:b,onChange:d,updateInvertPalette:v}),u.createElement("label",{htmlFor:"settings-handle-export-frames",className:"video-params__select-label"},"How to handle frames when exporting images"),u.createElement("select",{id:"settings-handle-export-frames",className:"video-params__frameexport-select",value:O,onChange:function(e){T(e.target.value)}},$r.map((function(e){var t=e.id,r=e.name;return u.createElement("option",{value:t,key:t},r)}))),"crop"===O?null:u.createElement(u.Fragment,null,u.createElement("div",{className:"video-params__select-label"},"Frame"),u.createElement(ta,{frame:N,lockFrame:R,noFrameOption:"As selected per image",updateFrame:A,updateFrameLock:P}))):null};xo.propTypes={imageCount:m().number.isRequired,frameRate:m().number.isRequired,scaleFactor:m().number.isRequired,palette:m().string.isRequired,invertPalette:m().bool.isRequired,yoyo:m().bool.isRequired,lockFrame:m().bool.isRequired,exportFrameMode:m().string.isRequired,frame:m().string.isRequired,cancel:m().func.isRequired,animate:m().func.isRequired,update:m().func.isRequired};var Co=Io(xo),jo=r(2922),qo=(0,n.$j)((function(e){var t,r,n=(0,ze.Z)(e),a=n.find((function(t,r){return r===e.lightboxImage}));return a?(a.hashes?(t=a.palette,r=(0,jo.Z)(e,a.hashes,a.frame)):(t=e.palettes.find((function(e){return e.shortName===a.palette})),r=null),{hash:a.hash,title:a.title,created:a.created,hashes:a.hashes,frame:a.frame,isFullscreen:e.isFullscreen,palette:t,frames:r,lightboxIndex:e.lightboxImage,size:n.length||0,lockFrame:a.lockFrame||!1,invertPalette:a.invertPalette||!1}):{isFullscreen:!1,lockFrame:!1,invertPalette:!1,lightboxIndex:0,size:0}}),(function(e){return{close:function(){e({type:"SET_LIGHTBOX_IMAGE_INDEX",payload:null})},prev:function(){e({type:"LIGHTBOX_PREV"})},next:function(){e({type:"LIGHTBOX_NEXT"})},fullscreen:function(){e({type:"LIGHTBOX_FULLSCREEN"})}}})),Fo=function(e){var t=e.close,r=e.title,n=e.isFullscreen,a=e.fullscreen,o=e.lockFrame,i=e.invertPalette,l=e.palette,c=e.frame,s=e.frames,m=e.hash,p=e.hashes,f=e.prev,d=e.lightboxIndex,g=e.size,y=e.next,b=e.created;return u.createElement(_e,{className:"lightbox-image",deny:t},u.createElement("label",{className:"lightbox-image__title"},r),n?null:u.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--fullscreen",onClick:a},u.createElement(h,{name:"fullscreen"})),u.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--close",onClick:t},u.createElement(h,{name:"close"})),u.createElement(yt,{lockFrame:o,invertPalette:i,palette:l.palette||l,frame:c,frames:s,hash:m,hashes:p}),u.createElement("div",{className:"lightbox-image__navigation"},d>0?u.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--left",onClick:f},u.createElement(h,{name:"left"})):null,d<g-1?u.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--right",onClick:y},u.createElement(h,{name:"right"})):null),u.createElement("div",{className:"lightbox-image__created"},He()(b,Ue.vc).format(Ue.W4)))};Fo.propTypes={created:m().string,hash:m().string,hashes:m().object,palette:m().object,invertPalette:m().bool.isRequired,frame:m().string,frames:m().object,lockFrame:m().bool.isRequired,title:m().string,close:m().func.isRequired,prev:m().func.isRequired,next:m().func.isRequired,fullscreen:m().func.isRequired,isFullscreen:m().bool.isRequired,lightboxIndex:m().number.isRequired,size:m().number.isRequired},Fo.defaultProps={created:null,hash:null,hashes:null,palette:null,title:null,frame:null,frames:null};var Mo=qo(Fo),Bo=(0,n.$j)((function(e){return{hashes:{r:e.rgbnImages.r,g:e.rgbnImages.g,b:e.rgbnImages.b,n:e.rgbnImages.n},frames:(0,jo.Z)(e,e.rgbnImages,null)}}),(function(){return{}})),Lo=function(e){var t=e.hashes,r=e.frames;return u.createElement("div",{className:y()("rgbn-image",{"rgbn-image--has-tiles":t.r||t.g||t.b||t.n})},u.createElement(yt,{lockFrame:!1,invertPalette:!1,palette:Ue.q1,frames:r,hash:"newRGBN",hashes:t}),u.createElement(et,{hash:"newRGBN",buttons:["saveRGBNImage"]}))};Lo.propTypes={hashes:m().object,frames:m().object},Lo.defaultProps={hashes:null,frames:null};var zo=Bo(Lo),Do=(0,n.$j)((function(e){return{dragover:e.dragover}}),(function(){return{}})),Uo=function(e){return e.dragover?u.createElement("div",{className:"drag-over"}):null};Uo.propTypes={dragover:m().bool.isRequired},Uo.defaultProps={};var Go=Do(Uo),$o=(0,n.$j)((function(e){return{activeTags:e.filtersActiveTags,visible:e.filtersVisible}}),(function(e){return{setActiveTags:function(t){e({type:"SET_ACTIVE_TAGS",payload:t})},hideFilters:function(t){e({type:"HIDE_FILTERS",payload:t})}}})),Vo=function(e){var t=e.tagActive,r=e.toggleTag,n=e.title,a=e.icon;return u.createElement("li",{title:n,className:y()("filter-form__tag",{"filter-form__tag--active":t})},u.createElement("button",{className:"filter-form__tag-button",type:"button",onClick:function(){return r(t?"remove":"add")}},u.createElement(h,{name:a}),u.createElement("span",{className:"filter-form__tag-text"},n)))};Vo.propTypes={title:m().string.isRequired,tagActive:m().bool.isRequired,toggleTag:m().func.isRequired,icon:m().string},Vo.defaultProps={icon:"checkmark"};var Ho=Vo;function Wo(e){return function(e){if(Array.isArray(e))return Jo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ko(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||Ko(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(e,t){if(e){if("string"==typeof e)return Jo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jo(e,t):void 0}}function Jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Xo=function(e){var t=Zo((0,u.useState)(e.activeTags),2),r=t[0],n=t[1],a=ja().availableTags;(0,u.useEffect)((function(){n(e.activeTags)}),[e.activeTags]);var o=function(e,t){n("add"===t?(0,Oa.Z)([].concat(Wo(r),[e])):r.filter((function(t){return t!==e})))};return e.visible?u.createElement(_e,{className:"filter-form",confirm:function(){return e.setActiveTags(r)},deny:function(){return e.hideFilters()},header:"Select Filters"},u.createElement("ul",{className:"filter-form__tag-list"},u.createElement(Ho,{title:"Untagged",tagActive:r.includes(Ge.Dh),toggleTag:function(e){return o(Ge.Dh,e)}}),u.createElement(Ho,{title:"❤️ Favourite",tagActive:r.includes(Ge.oJ),toggleTag:function(e){return o(Ge.oJ,e)}}),u.createElement(Ho,{title:"New",tagActive:r.includes(Ge.TZ),toggleTag:function(e){return o(Ge.TZ,e)}}),u.createElement(Ho,{title:"Monochrome",tagActive:r.includes(Ge.z2),toggleTag:function(e){return o(Ge.z2,e)}}),u.createElement(Ho,{title:"RGB",tagActive:r.includes(Ge.ee),toggleTag:function(e){return o(Ge.ee,e)}}),u.createElement(Ho,{title:"Recent Imports",tagActive:r.includes(Ge.Vn),toggleTag:function(e){return o(Ge.Vn,e)}})),u.createElement("ul",{className:"filter-form__tag-list filter-form__tag-list--clear"},u.createElement(Ho,{title:"Clear Filters",tagActive:!1,icon:"delete",toggleTag:function(){n([])}})),u.createElement("ul",{className:"filter-form__tag-list"},a.map((function(e){return u.createElement(Ho,{key:e,title:e,tagActive:r.includes(e),toggleTag:function(t){return o(e,t)}})})))):null};Xo.propTypes={visible:m().bool.isRequired,activeTags:m().array.isRequired,setActiveTags:m().func.isRequired,hideFilters:m().func.isRequired},Xo.defaultProps={};var Yo=$o(Xo);function Qo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ei(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ei(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ti=(0,n.$j)((function(e){var t=Qo(e.sortBy.split("_"),2),r=t[0],n=void 0===r?"":r,a=t[1],o=void 0===a?"":a;return{visible:e.sortOptionsVisible,sortBy:n,sortOrder:o}}),(function(e){return{setSortBy:function(t){e({type:"SET_SORT_BY",payload:t})},hideSortForm:function(){e({type:"HIDE_SORT_OPTIONS"})}}}));function ri(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ni(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ni(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ai=[{title:"Title",key:"title"},{title:"Date",key:"created"},{title:"Palette",key:"palette"}],oi=function(e){var t=ri((0,u.useState)(e.sortBy),2),r=t[0],n=t[1],a=ri((0,u.useState)(e.sortOrder),2),o=a[0],i=a[1];if((0,u.useEffect)((function(){n(e.sortBy),i(e.sortOrder)}),[n,i,e.visible,e.sortBy,e.sortOrder]),!e.visible)return null;var l=ai.find((function(e){return e.key===r})),c="asc"===o?"ascending":"descending";return u.createElement(_e,{className:"sort-form",confirm:function(){return e.setSortBy("".concat(r,"_").concat(o))},deny:function(){e.hideSortForm()},header:"Sort by: ".concat(l.title,"/").concat(c)},u.createElement("ul",{className:"sort-form__list"},ai.map((function(e){var t=e.key,a=e.title;return u.createElement("li",{key:t},u.createElement("button",{className:y()("sort-form__button",{"sort-form__button--selected":r===t}),type:"button",onClick:function(){return n(t)}},a))}))),u.createElement("ul",{className:"sort-form__list"},u.createElement("li",null,u.createElement("button",{className:y()("sort-form__button sort-form__button--order-asc",{"sort-form__button--selected":"asc"===o}),type:"button",onClick:function(){return i("asc")}},"Ascending")),u.createElement("li",null,u.createElement("button",{className:y()("sort-form__button sort-form__button--order-desc",{"sort-form__button--selected":"desc"===o}),type:"button",onClick:function(){return i("desc")}},"Descending"))))};oi.propTypes={visible:m().bool.isRequired,sortBy:m().string.isRequired,sortOrder:m().string.isRequired,setSortBy:m().func.isRequired,hideSortForm:m().func.isRequired},oi.defaultProps={};var ii=ti(oi),li=(0,n.$j)((function(e){return{repoUrl:"https://github.com/".concat(e.gitStorage.owner,"/").concat(e.gitStorage.repo,"/tree/").concat(e.gitStorage.branch),dropboxActive:!(!e.dropboxStorage.use||!e.dropboxStorage.accessToken),gitActive:!!(e.gitStorage.use&&e.gitStorage.owner&&e.gitStorage.repo&&e.gitStorage.branch&&e.gitStorage.throttle&&e.gitStorage.token)}}),(function(e){return{startSync:function(t,r){e({type:"STORAGE_SYNC_START",payload:{storageType:t,direction:r}})},cancelSync:function(t,r){e({type:"STORAGE_SYNC_CANCEL",payload:{storageType:t,direction:r}})}}})),ci=function(e){var t=e.startSync,r=e.cancelSync,n=e.repoUrl,a=e.dropboxActive,o=e.gitActive;return u.createElement(_e,{className:"sync-select",deny:r,header:"Sync options"},u.createElement("ul",{className:"sync-select__list"},u.createElement("li",{className:"sync-select__option"},u.createElement("button",{type:"button",disabled:!o,className:"sync-select__button button",title:"Synchronize to GitHub\n".concat(n),onClick:function(){t("git","up")}},u.createElement("span",{className:"sync-select__button-label"},"Synchronize to GitHub"),u.createElement(h,{name:"sync",className:"svg--180"}))),u.createElement("li",{className:"sync-select__option"},u.createElement("button",{type:"button",disabled:!o,className:"sync-select__button button",title:"Synchronize from GitHub\n".concat(n),onClick:function(){t("git","down")}},u.createElement("span",{className:"sync-select__button-label"},"Synchronize from GitHub"),u.createElement(h,{name:"sync"}))),u.createElement("li",{className:"sync-select__option"},u.createElement("button",{type:"button",disabled:!a,className:"sync-select__button button",title:"Synchronize to Dropbox",onClick:function(){t("dropbox","up")}},u.createElement("span",{className:"sync-select__button-label"},"Synchronize to Dropbox"),u.createElement(h,{name:"sync",className:"svg--180"}))),u.createElement("li",{className:"sync-select__option"},u.createElement("button",{type:"button",disabled:!a,className:"sync-select__button button",title:"Synchronize from Dropbox",onClick:function(){t("dropbox","down")}},u.createElement("span",{className:"sync-select__button-label"},"Synchronize from Dropbox"),u.createElement(h,{name:"sync"}))),u.createElement("li",{className:"sync-select__option"},u.createElement("button",{type:"button",disabled:!a,className:"sync-select__button button",title:"Synchronize images to Dropbox",onClick:function(){t("dropboximages","up")}},u.createElement("span",{className:"sync-select__button-label"},"Synchronize images to Dropbox"),u.createElement(h,{name:"sync",className:"svg--180"})))))};ci.propTypes={startSync:m().func.isRequired,cancelSync:m().func.isRequired,repoUrl:m().string.isRequired,dropboxActive:m().bool.isRequired,gitActive:m().bool.isRequired},ci.defaultProps={};var ui=li(ci),si=function(e){var t=e.showProgressLog,r=e.showInfoBox,n=e.showProgressBox,a=e.showConfirm,o=e.showEditForm,i=e.showEditPalette,l=e.showVideoForm,c=e.showRGBNImage,s=e.showLightbox,m=e.showDragOver,p=e.showFilters,f=e.showSortForm,d=e.syncSelect;return u.createElement(u.Fragment,null,t?u.createElement(kn,null):null,r?u.createElement(In,null):null,n?u.createElement(xn,null):null,a?u.createElement(Hn,null):null,o?u.createElement(mo,null):null,i?u.createElement(ko,null):null,l?u.createElement(Co,null):null,c?u.createElement(zo,null):null,s?u.createElement(Mo,null):null,m?u.createElement(Go,null):null,p?u.createElement(Yo,null):null,f?u.createElement(ii,null):null,d?u.createElement(ui,null):null)};si.propTypes={showProgressLog:m().bool.isRequired,showInfoBox:m().bool.isRequired,showProgressBox:m().bool.isRequired,showConfirm:m().bool.isRequired,showEditForm:m().bool.isRequired,showEditPalette:m().bool.isRequired,showVideoForm:m().bool.isRequired,showRGBNImage:m().bool.isRequired,showLightbox:m().bool.isRequired,showDragOver:m().bool.isRequired,showFilters:m().bool.isRequired,showSortForm:m().bool.isRequired,syncSelect:m().bool.isRequired},si.defaultProps={};var mi=_n(si),pi=function(e){return u.createElement(u.Fragment,null,u.createElement("h1",{className:"app__content-headline"},"Gallery",u.createElement("span",{className:"app__counter"},"".concat(e.imageCount," images"),e.filteredCount?" / ".concat(e.filteredCount," filtered"):null,e.selectedCount?" / ".concat(e.selectedCount," selected"):null)),u.createElement("p",{className:"app__content-hint"},"These images are stored in the localStorage of your browser. That's why you (currently) cannot share a link to one of them.",u.createElement("br",null),"Also if you clear your browser's cookies, the images will be gone too."))};pi.propTypes={imageCount:m().number.isRequired,selectedCount:m().number.isRequired,filteredCount:m().number.isRequired};var fi=pi,di=function(e){var t=e.pageSize,r=e.imageCount,n=e.urlParam,a=parseInt(n||"0",10)-1,o=t?Math.ceil(r/t):1,i=Math.max(0,o-1),l=Math.max(0,Math.min(a,i));return{valid:l===a,page:l}},gi=function(e){var t=(0,Gr.d)();return u.createElement(p.UT,null,u.createElement(qe,null),u.createElement("div",{className:"app__content"},u.createElement(f.rs,null,u.createElement(f.AW,{exact:!0,path:"/gallery"},u.createElement(f.l_,{to:"/gallery/page/1"})),u.createElement(f.AW,{path:"/gallery/page/:page",render:function(t){var r=t.match,n=di({urlParam:r.params.page,pageSize:e.pageSize,imageCount:e.filteredCount}),a=n.valid,o=n.page;return a?u.createElement(u.Fragment,null,u.createElement(fi,{imageCount:e.imageCount,selectedCount:e.selectedCount,filteredCount:e.filteredCount}),u.createElement(Lt,{page:o})):u.createElement(f.l_,{to:"/gallery/page/".concat(o+1)})}}),u.createElement(f.AW,{path:"/palettes"},u.createElement("h1",{className:"app__content-headline"},"Palettes"),u.createElement(Sr,null)),u.createElement(f.AW,{exact:!0,path:"/settings"},u.createElement(f.l_,{to:"/settings/generic"})),u.createElement(f.AW,{path:"/settings/:tabName",render:function(e){var r=e.match.params.tabName;return u.createElement(u.Fragment,null,u.createElement("h1",{className:"app__content-headline"},"Settings"),u.createElement(En,{tabName:r}),u.createElement("ul",{className:"app__version"},u.createElement("li",null,"Web-App version: ".concat("1.21.0")),u.createElement("li",null,"Web-App branch: ".concat("master")),u.createElement("li",null,"Printer version: ".concat(t.version)),u.createElement("li",null,"Max Images: ".concat(t.maximages)),u.createElement("li",null,"Localforage driver: ".concat(t.localforage)),u.createElement("li",null,"Environment type: ".concat(t.env)),u.createElement("li",null,"Compiled Filesystem: ".concat(t.fstype)),u.createElement("li",null,"Compiled Bootmode: ".concat(t.bootmode)),u.createElement("li",null,"Compiled for OLED: ".concat(t.oled?"yes":"no"))))}}),u.createElement(f.AW,{path:"/import"},u.createElement("h1",{className:"app__content-headline"},"Import"),u.createElement(pr,null)),u.createElement(f.AW,{path:"/"},u.createElement(Le,null)))),u.createElement(mi,null))};gi.propTypes={imageCount:m().number.isRequired,selectedCount:m().number.isRequired,filteredCount:m().number.isRequired,pageSize:m().number.isRequired},gi.defaultProps={};var yi=c(gi)},16381:function(e,t,r){"use strict";r(74916),r(15306);t.Z=function(e){return e.replace(/[^a-z0-9/\\._-]/gi,"").replace(/[\\/]+/gi,"/").replace(/^\//,"").replace(/\/$/,"")}}}]);