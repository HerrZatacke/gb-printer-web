(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{381:function(e,t,a){},382:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},389:function(e,t,a){},390:function(e,t,a){},391:function(e,t,a){},392:function(e,t,a){},393:function(e,t,a){},394:function(e,t,a){},395:function(e,t,a){},396:function(e,t,a){},397:function(e,t,a){},398:function(e,t,a){},400:function(e,t,a){},401:function(e,t,a){},402:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},413:function(e,t,a){},414:function(e,t,a){},415:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){},418:function(e,t,a){},419:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},543:function(e,t,a){"use strict";a.r(t);var n=a(137),r=(a(75),a(133),a(134),a(45),a(135),a(136),a(125),a(132),a(128),a(129),a(27),a(130),a(127),a(126),a(259));function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var l=function(e){var t=e.images,a=e.filter.activeTags;return o(t).filter(Object(r.a)(a)).length},c=Object(n.b)((function(e){return{imageCount:e.images.length,pageSize:e.pageSize,selectedCount:e.imageSelection.length,filteredCount:l(e)}}),(function(){return{}})),s=(a(49),a(149),a(124)),u=a.n(s),m=a(131),p=a.n(m),f=a(202),d=a(143),b=(a(138),Object(n.b)((function(e){return{importQueueSize:e.importQueueSize,gitBusy:e.gitBusy,useGit:!!(e.gitStorage.use&&e.gitStorage.owner&&e.gitStorage.repo&&e.gitStorage.branch&&e.gitStorage.throttle&&e.gitStorage.token),repoUrl:"https://github.com/".concat(e.gitStorage.owner,"/").concat(e.gitStorage.repo,"/tree/").concat(e.gitStorage.branch)}}),(function(e){return{startSync:function(t){e({type:"GITSTORAGE_SYNC_START",payload:t})}}}))),g=a(139),y=a.n(g),h=(a(381),function(e){var t=y()("svg","svg--".concat(e.name),e.className);switch(e.name){case"download":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M8 3v7H5s5 6 5 6c0 0 5-6 5-6h-3V3z"}),u.a.createElement("path",{d:"M5 15v2l10 0V15z"}));case"delete":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M13 5v10h-1V5zM7 5v10H6V5zm4 0v10h-1V5zM9 5v10H8V5zM4 3v2h1v12h9V5h1V3h-4V2H8v1z"}));case"share":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M14 3.5A2.5 2.5 0 0011.5 6a2.5 2.5 0 00.025.336l-3.85 1.812A2.5 2.5 0 006 7.5 2.5 2.5 0 003.5 10 2.5 2.5 0 006 12.5a2.5 2.5 0 001.676-.648l3.85 1.812A2.5 2.5 0 0011.5 14a2.5 2.5 0 002.5 2.5 2.5 2.5 0 002.5-2.5 2.5 2.5 0 00-2.5-2.5 2.5 2.5 0 00-1.836.807l-3.728-1.754A2.5 2.5 0 008.5 10a2.5 2.5 0 00-.066-.553l3.73-1.754A2.5 2.5 0 0014 8.5 2.5 2.5 0 0016.5 6 2.5 2.5 0 0014 3.5z"}));case"sync":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M8 8.5v5H5s4.866 6 5 6c.134 0 5-6 5-6h-3v-5zm2-8l-6 3 6 3v-2c3.15 0 4.911 3.369 3.535 5.89l1.8.881C17.337 7.496 14.7 2.5 10 2.5zM4.664 5.729C3.271 8.357 4.2 11.392 6 13h1.5v-1.4c-1.358-.983-2.02-3.185-1.035-4.99z"}));case"edit":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M4 14.978v1.978L16 17v-2.022zM13.5 3l-8 8-1 3.5 3.5-1 8-8L13.5 3zm0 .8l.85.85-9.1 9.1L6 11.5l7.5-7.7z"}));case"view":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M5.506 6.6L1 10l4.504 3.4c1.199.88 2.814 1.372 4.496 1.371 1.682 0 3.296-.492 4.494-1.37L19 10l-4.504-3.4C13.297 5.72 11.711 5.228 10 5.237c-1.711.009-3.318.5-4.494 1.363zm4.152-.502c2.101 0 3.805 1.747 3.805 3.902 0 2.155-1.704 3.902-3.805 3.902-2.1 0-3.804-1.747-3.804-3.902 0-2.155 1.703-3.902 3.804-3.902zm-.894 2.035c-1.006 0-1.821.836-1.82 1.867-.001 1.031.814 1.868 1.82 1.867 1.004 0 1.818-.836 1.818-1.867 0-1.03-.814-1.867-1.818-1.867z"}));case"animate":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M3 4v12h14V4zm.5.5h2v2h-2zm2.75 0h2v2h-2zM9 4.5h2v2H9zm2.75 0h2v2h-2zm2.75 0h2v2h-2zM4 7h12v6H4zm-.5 6.5h2v2h-2zm2.75 0h2v2h-2zm2.75 0h2v2H9zm2.75 0h2v2h-2zm2.75 0h2v2h-2z"}));case"reset":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M6 10a4 4 0 104-4v2L4 5l6-3v2a6 6 0 11-6 6"}));case"checkmark":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M15 5v10H5V5zM3 3v14h14V3z"}),u.a.createElement("path",{className:"tick",d:"M5.5 11l3 3 6-6.5L13 6l-4.5 5L7 9.5z"}));case"circle":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("circle",{r:"8",cx:"10",cy:"10"}));case"add":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M8 2v6H2v4h6v6h4v-6h6V8h-6V2z"}));case"remove":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M2 8v4h16V8z"}));case"save":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M12 4v3h-2V4zM5 15v-4h10v4zm8-7H6l.01-4H4v12h12V6l-2-2h-1z"}));case"sort":return u.a.createElement("svg",{className:t,viewBox:"0 0 20 20"},u.a.createElement("path",{d:"M4.5 8.5L10 3l5.5 5.5zm0 3L10 17l5.5-5.5z"}));case"list":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M6 6v4h28V6zm0 8v4h28v-4zm0 8v4h28v-4zm0 8v4h28V30z"}));case"1x":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M5 5v6h6V5zm8 0v6h6V5zm8 0v6h6V5zm8 0v6h6V5zM5 13v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zM5 21v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zM5 29v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6zm8 0v6h6v-6z"}));case"2x":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M22 6v12h12V6zm0 16v12h12V22zM6 6v12h12V6zm0 16v12h12V22z"}));case"3x":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M30 30V10H10v20"}));case"4x":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M34 34V6H6v28z"}));case"close":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M7 3l12 17L7 37h2l11-15.584L31 37h2L21 20 33 3h-2L20 18.584 9 3H7z"}));case"fullscreen":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M37 13h-2V9h-5V7h7zM3 13h2V9h5V7H3zm34 14h-2v4h-5v2h7zM3 27h2v4h5v2H3z"}));case"right":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M17 3l12 17-12 17h-2l12-17L15 3z"}));case"left":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M23 3L11 20l12 17h2L13 20 25 3z"}));case"burger":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M2 6v4h36V6zm0 12v4h36v-4zm0 12v4h36v-4z"}));case"close-nav":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M5.5 2.5l-3 3L17 20 2.5 34.5l3 3L20 23l14.5 14.5 3-3L23 20 37.5 5.5l-3-3L20 17z"}));case"filter":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M34 10V6H6v4l12 12v12h4V22z"}));case"moon":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M15.715 35.424a16.016 16 0 004.273.576A16.016 16 0 0036 20.004 16.016 16 0 0019.988 4a16.016 16 0 00-4.27.585 16.016 16 0 01.303.084 16.016 16 0 01.331.105 16.016 16 0 01.331.109 16.016 16 0 01.327.12 16.016 16 0 01.323.122 16.016 16 0 01.322.129 16.016 16 0 01.323.14 16.016 16 0 01.315.146 16.016 16 0 01.315.15 16.016 16 0 01.307.16 16.016 16 0 01.306.166 16.016 16 0 01.299.169 16.016 16 0 01.298.181 16.016 16 0 01.299.186 16.016 16 0 01.29.19 16.016 16 0 01.283.197 16.016 16 0 01.283.201 16.016 16 0 01.278.214 16.016 16 0 01.274.214 16.016 16 0 01.267.221 16.016 16 0 01.262.23 16.016 16 0 01.258.23 16.016 16 0 01.25.242 16.016 16 0 01.25.242 16.016 16 0 01.243.25 16.016 16 0 01.238.254 16.016 16 0 01.23.258 16.016 16 0 01.226.266 16.016 16 0 01.218.266 16.016 16 0 01.214.278 16.016 16 0 01.21.278 16.016 16 0 01.201.282 16.016 16 0 01.194.282 16.016 16 0 01.19.295 16.016 16 0 01.181.298 16.016 16 0 01.178.298 16.016 16 0 01.17.303 16.016 16 0 01.16.306 16.016 16 0 01.162.31 16.016 16 0 01.145.315 16.016 16 0 01.146.318 16.016 16 0 01.137.319 16.016 16 0 01.129.322 16.016 16 0 01.12.323 16.016 16 0 01.114.33 16.016 16 0 01.109.33 16.016 16 0 01.1.331 16.016 16 0 01.094.34 16.016 16 0 01.084.334 16.016 16 0 01.081.338 16.016 16 0 01.069.339 16.016 16 0 01.064.343 16.016 16 0 01.057.342 16.016 16 0 01.048.343 16.016 16 0 01.04.347 16.016 16 0 01.037.346 16.016 16 0 01.024.343 16.016 16 0 01.02.35 16.016 16 0 01.012.343 16.016 16 0 010 .351 16.016 16 0 010 .121 16.016 16 0 010 .347 16.016 16 0 01-.016.346 16.016 16 0 01-.024.347 16.016 16 0 01-.028.347 16.016 16 0 01-.04.346 16.016 16 0 01-.041.343 16.016 16 0 01-.053.343 16.016 16 0 01-.056.342 16.016 16 0 01-.069.343 16.016 16 0 01-.072.339 16.016 16 0 01-.08.338 16.016 16 0 01-.09.335 16.016 16 0 01-.097.334 16.016 16 0 01-.1.331 16.016 16 0 01-.11.33 16.016 16 0 01-.12.323 16.016 16 0 01-.122.33 16.016 16 0 01-.133.323 16.016 16 0 01-.137.315 16.016 16 0 01-.145.318 16.016 16 0 01-.154.31 16.016 16 0 01-.16.31 16.016 16 0 01-.162.307 16.016 16 0 01-.174.299 16.016 16 0 01-.177.298 16.016 16 0 01-.186.294 16.016 16 0 01-.19.29 16.016 16 0 01-.201.287 16.016 16 0 01-.202.282 16.016 16 0 01-.21.274 16.016 16 0 01-.214.274 16.016 16 0 01-.226.266 16.016 16 0 01-.226.262 16.016 16 0 01-.23.262 16.016 16 0 01-.242.25 16.016 16 0 01-.242.25 16.016 16 0 01-.25.242 16.016 16 0 01-.255.234 16.016 16 0 01-.258.234 16.016 16 0 01-.266.225 16.016 16 0 01-.27.218 16.016 16 0 01-.275.214 16.016 16 0 01-.282.205 16.016 16 0 01-.279.202 16.016 16 0 01-.286.197 16.016 16 0 01-.295.186 16.016 16 0 01-.294.185 16.016 16 0 01-.3.178 16.016 16 0 01-.302.169 16.016 16 0 01-.306.161 16.016 16 0 01-.311.157 16.016 16 0 01-.315.15 16.016 16 0 01-.319.145 16.016 16 0 01-.318.133 16.016 16 0 01-.323.129 16.016 16 0 01-.323.12 16.016 16 0 01-.331.117 16.016 16 0 01-.33.11 16.016 16 0 01-.336.096 16.016 16 0 01-.19.057z"}));case"sun":return u.a.createElement("svg",{className:t,viewBox:"0 0 40 40"},u.a.createElement("path",{d:"M19.96.004a1.002 1.002 0 00-.163.02 1.002 1.002 0 00-.083.022 1.002 1.002 0 00-.08.027 1.002 1.002 0 00-.075.037 1.002 1.002 0 00-.325.258 1.002 1.002 0 00-.053.068 1.002 1.002 0 00-.114.223 1.002 1.002 0 00-.045.162 1.002 1.002 0 00-.012.084 1.002 1.002 0 00-.007.087v5a1.002 1.002 0 00.004.086 1.002 1.002 0 00.174.47 1.002 1.002 0 00.049.064 1.002 1.002 0 00.057.064 1.002 1.002 0 00.128.113 1.002 1.002 0 00.14.087 1.002 1.002 0 00.076.03 1.002 1.002 0 00.083.03 1.002 1.002 0 00.08.02 1.002 1.002 0 00.083.015 1.002 1.002 0 00.495-.06 1.002 1.002 0 00.076-.038 1.002 1.002 0 00.329-.258 1.002 1.002 0 00.094-.136 1.002 1.002 0 00.038-.075 1.002 1.002 0 00.038-.076 1.002 1.002 0 00.023-.083 1.002 1.002 0 00.03-.167 1.002 1.002 0 00.004-.083V.988a1.002 1.002 0 000-.087 1.002 1.002 0 00-.038-.167 1.002 1.002 0 00-.023-.075 1.002 1.002 0 00-.068-.155 1.002 1.002 0 00-.045-.072 1.002 1.002 0 00-.11-.129 1.002 1.002 0 00-.06-.056 1.002 1.002 0 00-.209-.14 1.002 1.002 0 00-.238-.084 1.002 1.002 0 00-.083-.015 1.002 1.002 0 00-.166-.007zm-9.43 2.542a1.002 1.002 0 00-.082.004 1.002 1.002 0 00-.167.022 1.002 1.002 0 00-.442.235 1.002 1.002 0 00-.114.12 1.002 1.002 0 00-.049.069 1.002 1.002 0 00-.113.227 1.002 1.002 0 00-.038.163 1.002 1.002 0 00-.012.25 1.002 1.002 0 00.008.082 1.002 1.002 0 00.019.084 1.002 1.002 0 00.026.079 1.002 1.002 0 00.068.151 1.002 1.002 0 000 .004l2.504 4.334a1.002 1.002 0 00.046.068 1.002 1.002 0 00.049.068 1.002 1.002 0 00.057.06 1.002 1.002 0 00.064.058 1.002 1.002 0 00.136.098 1.002 1.002 0 00.151.072 1.002 1.002 0 00.163.045 1.002 1.002 0 00.083.015 1.002 1.002 0 00.416-.045 1.002 1.002 0 00.076-.03 1.002 1.002 0 00.287-.178 1.002 1.002 0 00.114-.121 1.002 1.002 0 00.049-.068 1.002 1.002 0 00.045-.076 1.002 1.002 0 00.068-.151 1.002 1.002 0 00.023-.08 1.002 1.002 0 00.015-.083 1.002 1.002 0 00.015-.083 1.002 1.002 0 000-.087 1.002 1.002 0 00-.015-.163 1.002 1.002 0 00-.113-.321l-2.497-4.33a1.002 1.002 0 00-.11-.14 1.002 1.002 0 00-.056-.06 1.002 1.002 0 00-.06-.058 1.002 1.002 0 00-.212-.136 1.002 1.002 0 00-.076-.034 1.002 1.002 0 00-.166-.041 1.002 1.002 0 00-.167-.023zm18.953 0a1.002 1.002 0 00-.48.14 1.002 1.002 0 00-.068.045 1.002 1.002 0 00-.238.235 1.002 1.002 0 00-.05.072l-2.503 4.326a1.002 1.002 0 00-.038.076 1.002 1.002 0 00-.034.075 1.002 1.002 0 00-.023.084 1.002 1.002 0 00-.019.083 1.002 1.002 0 00-.011.25 1.002 1.002 0 00.007.083 1.002 1.002 0 00.042.162 1.002 1.002 0 00.068.155 1.002 1.002 0 00.095.14 1.002 1.002 0 00.056.065 1.002 1.002 0 00.121.113 1.002 1.002 0 00.072.05 1.002 1.002 0 00.072.037 1.002 1.002 0 00.235.09 1.002 1.002 0 00.416.008 1.002 1.002 0 00.083-.019 1.002 1.002 0 00.159-.056 1.002 1.002 0 00.075-.042 1.002 1.002 0 00.137-.094 1.002 1.002 0 00.12-.118 1.002 1.002 0 00.099-.14l2.5-4.334a1.002 1.002 0 00.072-.151 1.002 1.002 0 00.023-.08 1.002 1.002 0 00.03-.166 1.002 1.002 0 000-.17 1.002 1.002 0 00-.117-.4 1.002 1.002 0 00-.152-.201 1.002 1.002 0 00-.12-.114 1.002 1.002 0 00-.073-.049 1.002 1.002 0 00-.147-.076 1.002 1.002 0 00-.076-.034 1.002 1.002 0 00-.083-.019 1.002 1.002 0 00-.083-.015 1.002 1.002 0 00-.083-.011 1.002 1.002 0 00-.087 0zm-9.478 6.448A11.006 11.005 0 009 20a11.006 11.005 0 0011.006 11.009 11.006 11.005 0 0011.006-11.006A11.006 11.005 0 0020.005 8.998zm-16.452.51a1.002 1.002 0 00-.083 0 1.002 1.002 0 00-.167.027 1.002 1.002 0 00-.076.027 1.002 1.002 0 00-.079.03 1.002 1.002 0 00-.076.038 1.002 1.002 0 00-.075.041 1.002 1.002 0 00-.19.163 1.002 1.002 0 00-.052.064 1.002 1.002 0 00-.05.076 1.002 1.002 0 00-.075.144 1.002 1.002 0 00-.034.08 1.002 1.002 0 00-.02.082 1.002 1.002 0 00-.026.167 1.002 1.002 0 000 .083 1.002 1.002 0 00.016.166 1.002 1.002 0 00.018.083 1.002 1.002 0 00.061.156 1.002 1.002 0 00.136.211 1.002 1.002 0 00.057.065 1.002 1.002 0 00.2.155l4.33 2.503a1.002 1.002 0 00.077.038 1.002 1.002 0 00.242.076 1.002 1.002 0 00.25.011 1.002 1.002 0 00.325-.083 1.002 1.002 0 00.34-.246 1.002 1.002 0 00.053-.064 1.002 1.002 0 00.155-.295 1.002 1.002 0 00.038-.167 1.002 1.002 0 00.011-.083 1.002 1.002 0 00-.004-.166 1.002 1.002 0 00-.06-.246 1.002 1.002 0 00-.117-.223 1.002 1.002 0 00-.106-.129 1.002 1.002 0 00-.129-.11 1.002 1.002 0 00-.072-.045L4.037 9.63a1.002 1.002 0 00-.151-.069 1.002 1.002 0 00-.246-.052 1.002 1.002 0 00-.083-.004zm32.905 0a1.002 1.002 0 00-.087 0 1.002 1.002 0 00-.084.012 1.002 1.002 0 00-.162.045 1.002 1.002 0 00-.076.03 1.002 1.002 0 00-.075.039l-4.339 2.503a1.002 1.002 0 00-.068.046 1.002 1.002 0 00-.068.049 1.002 1.002 0 00-.06.056 1.002 1.002 0 00-.19.277 1.002 1.002 0 00-.083.238 1.002 1.002 0 00-.015.253 1.002 1.002 0 00.023.163 1.002 1.002 0 00.132.31 1.002 1.002 0 00.046.072 1.002 1.002 0 00.053.064 1.002 1.002 0 00.06.06 1.002 1.002 0 00.064.054 1.002 1.002 0 00.069.049 1.002 1.002 0 00.071.045 1.002 1.002 0 00.076.038 1.002 1.002 0 00.076.03 1.002 1.002 0 00.083.023 1.002 1.002 0 00.08.015 1.002 1.002 0 00.086.015 1.002 1.002 0 00.167 0 1.002 1.002 0 00.083-.015 1.002 1.002 0 00.083-.015 1.002 1.002 0 00.235-.095l4.334-2.503a1.002 1.002 0 00.068-.046 1.002 1.002 0 00.068-.053 1.002 1.002 0 00.06-.056 1.002 1.002 0 00.057-.06 1.002 1.002 0 00.099-.137 1.002 1.002 0 00.072-.151 1.002 1.002 0 00.045-.167 1.002 1.002 0 00.011-.08 1.002 1.002 0 00.004-.17 1.002 1.002 0 00-.007-.083 1.002 1.002 0 00-.016-.083 1.002 1.002 0 00-.022-.08 1.002 1.002 0 00-.03-.079 1.002 1.002 0 00-.038-.075 1.002 1.002 0 00-.038-.076 1.002 1.002 0 00-.05-.068 1.002 1.002 0 00-.241-.227 1.002 1.002 0 00-.076-.045 1.002 1.002 0 00-.076-.038 1.002 1.002 0 00-.075-.03 1.002 1.002 0 00-.163-.038 1.002 1.002 0 00-.17-.015zM.988 19.002a1.002 1.002 0 00-.087.004 1.002 1.002 0 00-.166.03 1.002 1.002 0 00-.303.144 1.002 1.002 0 00-.064.05 1.002 1.002 0 00-.064.056 1.002 1.002 0 00-.057.06 1.002 1.002 0 00-.053.068 1.002 1.002 0 00-.049.069 1.002 1.002 0 00-.076.15 1.002 1.002 0 00-.06.243 1.002 1.002 0 00.011.333 1.002 1.002 0 00.344.567 1.002 1.002 0 00.068.05 1.002 1.002 0 00.224.116 1.002 1.002 0 00.075.027 1.002 1.002 0 00.087.019 1.002 1.002 0 00.083.011 1.002 1.002 0 00.087.004h5a1.002 1.002 0 00.17-.015 1.002 1.002 0 00.084-.02 1.002 1.002 0 00.23-.094 1.002 1.002 0 00.072-.045 1.002 1.002 0 00.065-.053 1.002 1.002 0 00.064-.057 1.002 1.002 0 00.057-.06 1.002 1.002 0 00.174-.284 1.002 1.002 0 00.049-.163 1.002 1.002 0 00-.019-.499 1.002 1.002 0 00-.026-.08 1.002 1.002 0 00-.122-.218 1.002 1.002 0 00-.052-.065 1.002 1.002 0 00-.061-.064 1.002 1.002 0 00-.06-.053 1.002 1.002 0 00-.137-.098 1.002 1.002 0 00-.4-.125A1.002 1.002 0 005.987 19H.992zm33.019 0a1.002 1.002 0 00-.167.015 1.002 1.002 0 00-.158.046 1.002 1.002 0 00-.076.034 1.002 1.002 0 00-.216.132 1.002 1.002 0 00-.219.254 1.002 1.002 0 00-.042.075 1.002 1.002 0 00-.098.318 1.002 1.002 0 00-.008.17 1.002 1.002 0 00.008.083 1.002 1.002 0 00.038.163 1.002 1.002 0 00.023.08 1.002 1.002 0 00.037.075 1.002 1.002 0 00.137.212 1.002 1.002 0 00.26.212 1.002 1.002 0 00.076.037 1.002 1.002 0 00.076.038 1.002 1.002 0 00.08.023 1.002 1.002 0 00.082.019 1.002 1.002 0 00.084.011 1.002 1.002 0 00.087.004h5.003a1.002 1.002 0 00.167-.015 1.002 1.002 0 00.083-.02 1.002 1.002 0 00.23-.094 1.002 1.002 0 00.14-.098 1.002 1.002 0 00.175-.182 1.002 1.002 0 00.087-.143 1.002 1.002 0 00.06-.155 1.002 1.002 0 00-.026-.662 1.002 1.002 0 00-.121-.22 1.002 1.002 0 00-.114-.128 1.002 1.002 0 00-.196-.151 1.002 1.002 0 00-.076-.038 1.002 1.002 0 00-.238-.076 1.002 1.002 0 00-.17-.019h-5zm-26.15 7.012a1.002 1.002 0 00-.163.015 1.002 1.002 0 00-.083.019 1.002 1.002 0 00-.238.095l-4.33 2.5a1.002 1.002 0 00-.073.045 1.002 1.002 0 00-.128.113 1.002 1.002 0 00-.106.125 1.002 1.002 0 00-.046.072 1.002 1.002 0 00-.075.151 1.002 1.002 0 00-.023.08 1.002 1.002 0 00-.034.166 1.002 1.002 0 00-.008.083 1.002 1.002 0 00.08.409 1.002 1.002 0 00.076.151 1.002 1.002 0 00.049.068 1.002 1.002 0 00.056.064 1.002 1.002 0 00.057.06 1.002 1.002 0 00.133.107 1.002 1.002 0 00.15.08 1.002 1.002 0 00.076.03 1.002 1.002 0 00.163.041 1.002 1.002 0 00.083.011 1.002 1.002 0 00.25-.011 1.002 1.002 0 00.163-.042 1.002 1.002 0 00.079-.034 1.002 1.002 0 00.076-.037l4.334-2.5a1.002 1.002 0 00.136-.099 1.002 1.002 0 00.06-.056 1.002 1.002 0 00.057-.065 1.002 1.002 0 00.053-.064 1.002 1.002 0 00.144-.303 1.002 1.002 0 00.019-.083 1.002 1.002 0 00.019-.25 1.002 1.002 0 00-.076-.328 1.002 1.002 0 00-.37-.447 1.002 1.002 0 00-.076-.041 1.002 1.002 0 00-.076-.038 1.002 1.002 0 00-.075-.03 1.002 1.002 0 00-.08-.027 1.002 1.002 0 00-.083-.015 1.002 1.002 0 00-.083-.011 1.002 1.002 0 00-.087 0zm24.3 0a1.002 1.002 0 00-.083 0 1.002 1.002 0 00-.083.011 1.002 1.002 0 00-.083.02 1.002 1.002 0 00-.076.022 1.002 1.002 0 00-.083.03 1.002 1.002 0 00-.148.083 1.002 1.002 0 00-.068.05 1.002 1.002 0 00-.125.113 1.002 1.002 0 00-.14.208 1.002 1.002 0 00-.037.076 1.002 1.002 0 00-.053.158 1.002 1.002 0 00-.027.254 1.002 1.002 0 00.02.163 1.002 1.002 0 00.018.083 1.002 1.002 0 00.027.08 1.002 1.002 0 00.034.079 1.002 1.002 0 00.136.211 1.002 1.002 0 00.057.06 1.002 1.002 0 00.124.114 1.002 1.002 0 00.072.046l4.335 2.5a1.002 1.002 0 00.15.071 1.002 1.002 0 00.25.053 1.002 1.002 0 00.167 0 1.002 1.002 0 00.083-.007 1.002 1.002 0 00.163-.042 1.002 1.002 0 00.227-.113 1.002 1.002 0 00.189-.163 1.002 1.002 0 00.056-.064 1.002 1.002 0 00.087-.144 1.002 1.002 0 00.069-.151 1.002 1.002 0 00.045-.25 1.002 1.002 0 000-.087 1.002 1.002 0 000-.083 1.002 1.002 0 00-.06-.242 1.002 1.002 0 00-.03-.08 1.002 1.002 0 00-.088-.143 1.002 1.002 0 00-.11-.129 1.002 1.002 0 00-.06-.06 1.002 1.002 0 00-.064-.05 1.002 1.002 0 00-.076-.049l-4.33-2.5a1.002 1.002 0 00-.152-.071 1.002 1.002 0 00-.08-.023 1.002 1.002 0 00-.166-.03 1.002 1.002 0 00-.087 0zM12.97 31.145a1.002 1.002 0 00-.083.008 1.002 1.002 0 00-.083.011 1.002 1.002 0 00-.083.019 1.002 1.002 0 00-.367.197 1.002 1.002 0 00-.064.056 1.002 1.002 0 00-.11.125 1.002 1.002 0 00-.046.072l-2.503 4.334a1.002 1.002 0 00-.095.235 1.002 1.002 0 00-.03.25 1.002 1.002 0 00.053.328 1.002 1.002 0 00.03.076 1.002 1.002 0 00.129.22 1.002 1.002 0 00.177.177 1.002 1.002 0 00.076.05 1.002 1.002 0 00.223.105 1.002 1.002 0 00.163.038 1.002 1.002 0 00.336-.008 1.002 1.002 0 00.163-.045 1.002 1.002 0 00.288-.17 1.002 1.002 0 00.174-.182 1.002 1.002 0 00.045-.072l2.504-4.334a1.002 1.002 0 00.068-.151 1.002 1.002 0 00.026-.08 1.002 1.002 0 00.015-.087 1.002 1.002 0 00.004-.332 1.002 1.002 0 00-.019-.084 1.002 1.002 0 00-.185-.374 1.002 1.002 0 00-.114-.125 1.002 1.002 0 00-.132-.098 1.002 1.002 0 00-.076-.042 1.002 1.002 0 00-.15-.068 1.002 1.002 0 00-.167-.038 1.002 1.002 0 00-.083-.007 1.002 1.002 0 00-.084 0zm14.07 0a1.002 1.002 0 00-.25.027 1.002 1.002 0 00-.162.052 1.002 1.002 0 00-.076.038 1.002 1.002 0 00-.14.087 1.002 1.002 0 00-.181.178 1.002 1.002 0 00-.2.454 1.002 1.002 0 00-.012.087 1.002 1.002 0 000 .083 1.002 1.002 0 00.011.166 1.002 1.002 0 00.042.163 1.002 1.002 0 00.068.151 1.002 1.002 0 000 .004l2.504 4.334a1.002 1.002 0 00.045.068 1.002 1.002 0 00.238.239 1.002 1.002 0 00.144.083 1.002 1.002 0 00.817.019 1.002 1.002 0 00.151-.076 1.002 1.002 0 00.068-.05 1.002 1.002 0 00.065-.052 1.002 1.002 0 00.06-.06 1.002 1.002 0 00.057-.061 1.002 1.002 0 00.05-.068 1.002 1.002 0 00.113-.227 1.002 1.002 0 00.022-.083 1.002 1.002 0 00.015-.08 1.002 1.002 0 00.016-.17 1.002 1.002 0 00-.016-.166 1.002 1.002 0 00-.041-.163 1.002 1.002 0 00-.034-.076 1.002 1.002 0 00-.038-.075l-2.5-4.338a1.002 1.002 0 00-.045-.068 1.002 1.002 0 00-.239-.238 1.002 1.002 0 00-.072-.046 1.002 1.002 0 00-.075-.038 1.002 1.002 0 00-.155-.056 1.002 1.002 0 00-.167-.038 1.002 1.002 0 00-.083 0zm-7.076 1.88a1.002 1.002 0 00-.48.143 1.002 1.002 0 00-.069.05 1.002 1.002 0 00-.128.11 1.002 1.002 0 00-.053.064 1.002 1.002 0 00-.053.064 1.002 1.002 0 00-.144.302 1.002 1.002 0 00-.034.254v5.003a1.002 1.002 0 00.004.084 1.002 1.002 0 00.011.083 1.002 1.002 0 00.076.238 1.002 1.002 0 00.038.076 1.002 1.002 0 00.098.14 1.002 1.002 0 00.057.064 1.002 1.002 0 00.268.196 1.002 1.002 0 00.076.035 1.002 1.002 0 00.083.026 1.002 1.002 0 00.08.023 1.002 1.002 0 00.253.019 1.002 1.002 0 00.73-.363 1.002 1.002 0 00.094-.137 1.002 1.002 0 00.133-.484v-5.003a1.002 1.002 0 000-.083 1.002 1.002 0 00-.015-.087 1.002 1.002 0 00-.02-.08 1.002 1.002 0 00-.14-.302 1.002 1.002 0 00-.052-.068 1.002 1.002 0 00-.057-.065 1.002 1.002 0 00-.125-.11 1.002 1.002 0 00-.143-.086 1.002 1.002 0 00-.239-.084 1.002 1.002 0 00-.083-.015 1.002 1.002 0 00-.166-.007z"}));default:return null}});h.propTypes={name:p.a.string.isRequired,className:p.a.string},h.defaultProps={className:null};var v=h,E=Object(n.b)((function(){return{}}),(function(){return{}}));a(46),a(201);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var w=["theme-bright","theme-dark"],k=function(e){var t=e.closeNavigation,a=_(Object(s.useState)(localStorage.getItem("gbp-web-theme")||w[0]),2),n=a[0],r=a[1];Object(s.useEffect)((function(){localStorage.setItem("gbp-web-theme",n);var e=document.querySelector("html").classList;w.forEach(e.remove.bind(e)),e.add(n)}),[n]);var o=n===w[0]?"Switch to dark mode":"Switch to bright mode";return u.a.createElement("label",{className:"theme-toggle navigation__link",title:o},u.a.createElement(v,{name:n===w[0]?"sun":"moon"}),u.a.createElement("span",{className:"theme-toggle__title"},o),u.a.createElement("input",{type:"checkbox",checked:n===w[0],onChange:function(e){var a=e.target;t(),r(a.checked?w[0]:w[1])}}))};k.propTypes={closeNavigation:p.a.func.isRequired},k.defaultProps={};var N=k,O=(a(382),E(N));function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var P=function(e){var t=R(Object(s.useState)(!1),2),a=t[0],n=t[1];return u.a.createElement("nav",{className:y()("navigation",{"navigation--mobile-open":a})},u.a.createElement("button",{className:"navigation__burger-button",type:"button",onClick:function(){return n(!a)}},u.a.createElement(v,{name:a?"close-nav":"burger"})),u.a.createElement("ul",{className:"navigation__list"},u.a.createElement("li",{className:"navigation__entry"},u.a.createElement(f.b,{to:"/",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Home")),u.a.createElement("li",{className:"navigation__entry"},u.a.createElement(f.b,{to:"/gallery",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Gallery")),u.a.createElement("li",{className:"navigation__entry"},u.a.createElement(f.b,{to:"/import",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Import")),u.a.createElement("li",{className:"navigation__entry"},u.a.createElement(f.b,{to:"/palettes",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Palettes")),u.a.createElement("li",{className:"navigation__entry"},u.a.createElement(f.b,{to:"/settings",activeClassName:"navigation__link--active",className:"navigation__link",exact:!0,onClick:function(){return n(!1)}},"Settings")),e.useGit?u.a.createElement("li",{className:"navigation__entry navigation__entry--buttons"},u.a.createElement("button",{type:"button",title:"Synchronize to GitHub\n".concat(e.repoUrl),className:"navigation__link navigation__link--icon",onClick:function(){n(!1),e.startSync("up")},disabled:e.gitBusy},u.a.createElement(v,{name:"sync",className:"svg--180"})),u.a.createElement("button",{type:"button",title:"Synchronize from GitHub\n".concat(e.repoUrl),className:"navigation__link navigation__link--icon",onClick:function(){n(!1),e.startSync("down")},disabled:e.gitBusy},u.a.createElement(v,{name:"sync"}))):null,u.a.createElement("li",{className:"navigation__entry navigation__entry--right"},u.a.createElement(O,{closeNavigation:function(){return n(!1)}}))),e.importQueueSize>0?u.a.createElement("div",{className:"navigation__queuesize"},e.importQueueSize):null)};P.propTypes={importQueueSize:p.a.number.isRequired,startSync:p.a.func.isRequired,useGit:p.a.bool.isRequired,gitBusy:p.a.bool.isRequired,repoUrl:p.a.string.isRequired},P.defaultProps={};var T=P,C=(a(386),b(T)),A=Object(n.b)((function(){return{}}),(function(){return{}}));a(28);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var q=function(){var e=x(Object(s.useState)((function(){return function(){return null}})),2),t=e[0],n=e[1];return Object(s.useEffect)((function(){a.e(12).then(a.t.bind(null,541,7)).then((function(e){var t=e.default;n((function(){return t}))}))}),[]),u.a.createElement("div",{className:"home"},u.a.createElement(t,{className:"markdown-body",source:'# Game Boy Printer Web\r\n\r\n## Basic usage\r\n* choose a [color palette](#/palettes)\r\n* [paste your exports](#/import) into a textfield (or simply drag and drop your dump(s) into this window)\r\n* check your images [in the gallery](#/gallery)\r\n* You can also try to drag/drop your cartridge dump into this window  \r\n\r\n## Supported formats\r\n* This Project is mainly built around the serial output of the original [GBP Emulator](https://github.com/mofosyne/arduino-gameboy-printer-emulator)\r\n* Cart .SAV files are also supported. The previously selected frame will be applied as well. If you\'re importing from a JP-Cartridge (Pocket Camera), you may want to change the "Frames when importing Cartridge dumps" option in the [settings page](#/settings)    \r\n\r\n## Local Setup\r\nYou can run this app locally to directly use the gbp-emulator on your serial port \r\n* Install [node.js](https://nodejs.org/) if you haven\'t already.\r\n* Check out/clone/download [this repository](https://github.com/HerrZatacke/gb-printer-web)\r\n* Run `npm i` in the root directory via your commandline\r\n* Add a `config.json` in the root dir (see below)\r\n* Run `npm start` via your commandline\r\n* Open [localhost:3000](http://localhost:3000)\r\n* Go to the \'Settings\' page and change the \'Remote Socket URL\' to `localhost:3001`\r\n* Print something\r\n\r\n## Frames\r\nIn a recent change (Version 1.7.0) the pre-compiled frames have been removed from this application.  \r\nThe application now however gives you the opportunity to add all fames you like by yourself and also share them with others.  \r\nMaybe you have designed some frames by yourself, or you have aquired some previously unknown frames.\r\n\r\n### Uploading your own frames\r\nYou can upload your own frames by dragging any image into this app.  \r\nDimensions of 160x144 are highly recommended, otherwise the image will be automatically scaled to size.  \r\nA lossles filetype is also recommended (e.g `.png` or `.webp`)\r\nFor the application to correctly recognize your frame you need to follow a specific filename pattern:  \r\nE.g. `int01.Nintendo + Gameboy.png` would be a good name for the first frame of the `int` set.  \r\n* The Filename needs to contain exactly two dots `.`\r\n* Before the first dot is the ID of your frame (uploading another image with the same ID will replace that one).  \r\n* The ID needs to be at least two letters and exactly two numbers.\r\n* Prevoiusly existing frames used `int01` to `int18` for the international frames, and `jp01` to `jp18` for the japanese ones.\r\n* The part after the frame ID will be the readable description shown in the frame selection dropdown when editing an image.  \r\n\r\n### Exporting/Importing your frames\r\n[In the settings tab](#/settings) you can find an "Export frames" button. The resulting `.json` file can be shared and will contain all of your frames.  \r\nThis `.json` file can be dragged into the application and will add all frames from that export to your application.  \r\n\r\n## Serial config with `config.json`\r\nCreate a file `config.json` in the root dir and configure it like the following example (multiple ports are supported):\r\n``` json\r\n{\r\n  "ports": [\r\n    {\r\n      "path": "COM19",\r\n      "baudRate": 115200,\r\n      "dataBits": 8,\r\n      "stopBits": 1,\r\n      "parity": "none",\r\n      "retry": false\r\n    },\r\n    ...\r\n  ] \r\n}\r\n```\r\nyou can set `retry` to a number of milliseconds after which a retry will be attempted to open the port.\r\n\r\n## Optional deployment config with `config.json`\r\nAdd a `deploy` section in `config.json` to automatically copy the created files to another location.  \r\nIf you set the option `gzip` to `true`, each file will be separately compressed. Useful for servers capable serving pre-zipped files. This saves ~1kB storage space which is very useful on [small systems](https://github.com/HerrZatacke/wifi-gbp-emulator).\r\n``` json\r\n{\r\n  "ports": [...], \r\n  "deploy": {\r\n    "dir": "/copy/all/files/to/that/folder",\r\n    "gzip": true\r\n  }\r\n}\r\n```\r\n\r\n## Future Plans\r\nThis tool is partially integrated into the [WiFi GBP Emulator](https://herrzatacke.github.io/wifi-gbp-emulator/), for which, you\'ll best [use the latest release](https://github.com/HerrZatacke/gb-printer-web/releases)\r\n\r\n## Links and research\r\n* The source to this project is [available on GitHub](https://github.com/HerrZatacke/gb-printer-web)\r\n* A basic version of this tool is avaliable [on GitHub-pages](https://herrzatacke.github.io/gb-printer-web/#/)  \r\n* This project has replaced my [GB printer direct serial to gif converter](https://github.com/HerrZatacke/direct-serial-to-gif-converter)\r\n* Also check out the [Gameboy Camera Discord](https://discord.gg/Kxhjg3qN) \r\n\r\n### Research\r\n* Tutorial on how to work with an ESP8266 by [ttapa: ESP8266 Beginner\'s Guide](https://tttapa.github.io/ESP8266/Chap01%20-%20ESP8266.html)  \r\n* [Programming a standalone ESP8266](https://www.instructables.com/id/3-Simple-Ways-of-Programming-an-ESP8266-12X-Module/)\r\n* [Deploying your JS App to Github Pages the easy way (or not)](https://medium.com/linagora-engineering/1ef8c48424b7)\r\n'}))},F=(a(387),A(q)),z=(a(266),a(169)),M=Object(n.b)((function(e,t){var a=t.page*e.pageSize;return{images:Object(z.a)(e).splice(a,e.pageSize||1/0),currentView:e.galleryView}}),(function(){return{}})),B=(a(76),a(77),a(141),a(142),a(144),a(183)),D=a(145),U=Object(n.b)((function(e,t){var a,n,r=t.hash,o=e.images.find((function(e){return e.hash===r}));return o.hashes?(a=o.palette,n=Object(B.a)(e,o.hashes,o.frame)):(a=e.palettes.find((function(e){return e.shortName===o.palette}))||D.h,n=null),{title:o.title,created:o.created,frame:o.frame,hashes:o.hashes,tags:o.tags,isSelected:e.imageSelection.includes(r),palette:a,frames:n,lockFrame:o.lockFrame||!1,invertPalette:o.invertPalette||!1,hideDate:e.hideDates}}),(function(e,t){var a=t.hash;return{updateImageSelection:function(t,n,r){e(n?{type:"IMAGE_SELECTION_SHIFTCLICK",payload:a,page:r}:"add"===t?{type:"IMAGE_SELECTION_ADD",payload:a}:{type:"IMAGE_SELECTION_REMOVE",payload:a})},editImage:function(){e({type:"EDIT_IMAGE",payload:a})}}})),L=a(150),G=a.n(L),V=a(198),H=a.n(V),K=Object(n.b)((function(e,t){var a=t.hash;return{isSelected:e.imageSelection.includes(a),canShare:e.canShare}}),(function(e,t){var a=t.hash,n=t.buttons;return{startDownload:n.includes("download")?function(){e({type:"START_DOWNLOAD",payload:a})}:null,deleteImage:n.includes("delete")?function(){e({type:"DELETE_IMAGE",payload:a})}:null,shareImage:n.includes("share")?function(){e({type:"SHARE_IMAGE",payload:a})}:null,saveRGBNImage:n.includes("saveRGBNImage")?function(){e({type:"SAVE_RGBN_IMAGE",payload:a})}:null,updateImageToSelection:n.includes("select")?function(t){e("add"===t?{type:"IMAGE_SELECTION_ADD",payload:a}:{type:"IMAGE_SELECTION_REMOVE",payload:a})}:null,setLightboxImage:n.includes("view")?function(){e({type:"SET_LIGHTBOX_IMAGE_HASH",payload:a})}:null}}));G.a.extend(H.a);var $=function(e){return u.a.createElement("div",{className:"gallery-image-buttons",onClick:function(e){e.stopPropagation()},role:"presentation"},e.updateImageToSelection?u.a.createElement("button",{type:"button",className:y()("gallery-image-buttons__button",{"gallery-image-buttons__button--unchecked":!e.isSelected,"gallery-image-buttons__button--checked":e.isSelected}),onClick:function(){return e.updateImageToSelection(e.isSelected?"remove":"add")}},u.a.createElement(v,{name:"checkmark"})):null,e.startDownload?u.a.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.startDownload},u.a.createElement(v,{name:"download"})):null,e.deleteImage?u.a.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.deleteImage},u.a.createElement(v,{name:"delete"})):null,e.setLightboxImage?u.a.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.setLightboxImage},u.a.createElement(v,{name:"view"})):null,e.saveRGBNImage?u.a.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.saveRGBNImage},u.a.createElement(v,{name:"save"})):null,e.shareImage&&e.canShare?u.a.createElement("button",{type:"button",className:"gallery-image-buttons__button",onClick:e.shareImage},u.a.createElement(v,{name:"share"})):null)};$.propTypes={canShare:p.a.bool.isRequired,deleteImage:p.a.func,setLightboxImage:p.a.func,isSelected:p.a.bool.isRequired,saveRGBNImage:p.a.func,shareImage:p.a.func,startDownload:p.a.func,updateImageToSelection:p.a.func},$.defaultProps={deleteImage:null,setLightboxImage:null,saveRGBNImage:null,shareImage:null,startDownload:null,updateImageToSelection:null};var W=$,J=(a(388),K(W));var Y=Object(n.b)((function(e,t){var a=t.hash;return{isR:e.rgbnImages.r===a,isG:e.rgbnImages.g===a,isB:e.rgbnImages.b===a,isN:e.rgbnImages.n===a}}),(function(e,t){return{updateRGBN:function(a,n){var r,o,i;e({type:"UPDATE_RGBN_PART",payload:(r={},o=a,i=n?t.hash:"",o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)})}}})),X=[{propKey:"isR",cssModifier:"red",updateKey:"r"},{propKey:"isG",cssModifier:"green",updateKey:"g"},{propKey:"isB",cssModifier:"blue",updateKey:"b"},{propKey:"isN",cssModifier:"normal",updateKey:"n"}],Q=function(e){return u.a.createElement("div",{className:"rgbn-select",onClick:function(e){e.stopPropagation()},role:"presentation"},X.map((function(t){var a=t.propKey,n=t.cssModifier,r=t.updateKey;return u.a.createElement("button",{type:"button",key:a,className:y()("rgbn-select__button rgbn-select__button--".concat(n),{"rgbn-select__button--selected":e[a]}),onClick:function(){e.updateRGBN(r,!e[a])}},u.a.createElement(v,{name:"circle"}))})))};Q.propTypes={isR:p.a.bool.isRequired,isG:p.a.bool.isRequired,isB:p.a.bool.isRequired,isN:p.a.bool.isRequired,updateRGBN:p.a.func.isRequired},Q.defaultProps={};var Z=Q,ee=(a(389),Y(Z)),te=a(178),ae=Object(n.b)((function(e){return{loadImageTiles:te.a,images:e.images}}),(function(){return{}})),ne=Object(n.b)((function(){return{}}),(function(){return{}})),re=a(185),oe=a(184),ie=function(e){var t=e.palette,a=e.tiles,n=e.lockFrame,r=e.invertPalette,o=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(t&&a)try{if(t.length)(new re.a).update({canvas:o.current,tiles:a,palette:t,lockFrame:n,invertPalette:r});else(new oe.a).update({canvas:o.current,tiles:a,palette:t,lockFrame:n})}catch(e){console.log("error in GameBoyImage: ".concat(e.message))}}),[a,t,n,r]),u.a.createElement("canvas",{className:"gameboy-image",width:160,ref:o})};ie.propTypes={tiles:p.a.oneOfType([p.a.arrayOf(p.a.string),p.a.arrayOf(p.a.object)]).isRequired,palette:p.a.oneOfType([p.a.object,p.a.array]),lockFrame:p.a.bool.isRequired,invertPalette:p.a.bool.isRequired},ie.defaultProps={palette:null};var le=ie,ce=(a(390),ne(le));function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var me=function(e){var t=e.hash,a=e.hashes,n=e.images,r=e.frame,o=e.lockFrame,i=e.invertPalette,l=e.palette,c=e.loadImageTiles,m=e.reportTileCount,p=se(Object(s.useState)(null),2),f=p[0],d=p[1];return Object(s.useEffect)((function(){d(null),c({images:n})({hash:t,frame:r,hashes:a}).then((function(e){m(e.length),d(e)}))}),[n,c,m,t,a,r]),f?u.a.createElement(ce,{lockFrame:o,invertPalette:i,tiles:f,palette:l}):u.a.createElement("div",{className:"image-render--loading"})};me.propTypes={loadImageTiles:p.a.func.isRequired,reportTileCount:p.a.func,hash:p.a.string.isRequired,hashes:p.a.object,images:p.a.array.isRequired,palette:p.a.oneOfType([p.a.object,p.a.array]).isRequired,invertPalette:p.a.bool.isRequired,frame:p.a.string,lockFrame:p.a.bool.isRequired},me.defaultProps={hashes:null,frame:null,reportTileCount:function(){}};var pe=me,fe=(a(391),ae(pe));G.a.extend(H.a);var de=function(e){var t=e.hideDate,a=e.created,n=e.updateImageSelection,r=e.isSelected,o=e.page,i=e.editImage,l=e.lockFrame,c=e.invertPalette,s=e.palette,m=e.frame,p=e.frames,f=e.title,d=e.tags,b=e.hash,g=e.hashes,h=function(e){return t||!a?null:u.a.createElement("span",{className:e},G()(a,D.a).format(D.d))},v=function(e){e.ctrlKey||e.shiftKey?(e.preventDefault(),n(r?"remove":"add",e.shiftKey,o)):i()};return"default"===e.type?u.a.createElement("li",{className:y()("gallery-image",{"gallery-image--selected":r}),onClick:v,role:"presentation"},u.a.createElement("div",{className:"gallery-image__image"},u.a.createElement(fe,{lockFrame:l,invertPalette:c,palette:s.palette||s,frame:m,hash:b,hashes:g})),f?u.a.createElement("span",{className:"gallery-image__title"},f):null,u.a.createElement("ul",{className:"gallery-image__tags"},d.map((function(e){return u.a.createElement("li",{key:e,title:e,className:"gallery-image__tag"},e)}))),h("gallery-image__created"),u.a.createElement(J,{hash:b,buttons:["select","download","delete","view","share"]})):u.a.createElement("tr",{className:y()("gallery-list-image",{"gallery-list-image--selected":r}),onClick:v,role:"presentation"},u.a.createElement("td",{className:"gallery-list-image__cell-image"},u.a.createElement("div",{className:"gallery-list-image__image"},u.a.createElement("div",{className:"gallery-list-image__image--scale"},u.a.createElement(fe,{lockFrame:l,invertPalette:c,palette:s.palette||s,frames:p,hash:b,hashes:g})))),u.a.createElement("td",{className:"gallery-list-image__cell-description"},u.a.createElement("div",{className:"gallery-list-image__description"},u.a.createElement("span",{className:"gallery-list-image__title"},f),h("gallery-list-image__created"))),u.a.createElement("td",{className:"gallery-list-image__cell-rgbn"},g?null:u.a.createElement(ee,{hash:b})),u.a.createElement("td",{className:"gallery-list-image__cell-buttons"},u.a.createElement(J,{hash:b,buttons:["select","download","delete","view"]})))};de.propTypes={created:p.a.string,hash:p.a.string.isRequired,hashes:p.a.object,palette:p.a.object.isRequired,invertPalette:p.a.bool.isRequired,frame:p.a.string,frames:p.a.object,lockFrame:p.a.bool.isRequired,title:p.a.string.isRequired,tags:p.a.arrayOf(p.a.string).isRequired,editImage:p.a.func.isRequired,type:p.a.oneOf(["list","default"]).isRequired,isSelected:p.a.bool.isRequired,updateImageSelection:p.a.func.isRequired,page:p.a.number.isRequired,hideDate:p.a.bool.isRequired},de.defaultProps={created:null,hashes:null,frame:null,frames:null};var be=de,ge=(a(392),U(be)),ye=Object(n.b)((function(){return{}}),(function(){return{}})),he=Object(n.b)((function(e){return{currentView:e.galleryView}}),(function(e){return{updateView:function(t){e({type:"SET_CURRENT_GALLERY_VIEW",payload:t})}}})),ve=["list","1x","2x","3x","4x"],Ee=function(e){return u.a.createElement("ul",{className:"gallery-view-select gallery-button__group"},ve.map((function(t){return u.a.createElement("li",{key:t,className:y()("gallery-button gallery-button--enabled",{"gallery-button--selected":e.currentView===t})},u.a.createElement("button",{type:"button",onClick:function(){e.updateView(t)}},u.a.createElement(v,{name:t})))})))};Ee.propTypes={currentView:p.a.string.isRequired,updateView:p.a.func.isRequired},Ee.defaultProps={};var _e=Ee,Se=(a(393),he(_e)),we=Object(n.b)((function(e){return{totalPages:e.pageSize?Math.ceil(l(e)/e.pageSize):0}}),(function(){return{}})),ke=Object(n.b)((function(){return{}}),(function(){return{}})),Ne=function(e){return u.a.createElement("li",{className:y()("gallery-button pagination__button",{"gallery-button--selected":e.active})},u.a.createElement(f.b,{className:"pagination__link",to:"/gallery/page/".concat(e.page+1),disabled:e.disabled,title:e.title},e.children))};Ne.propTypes={children:p.a.node.isRequired,active:p.a.bool,disabled:p.a.bool,page:p.a.number.isRequired,title:p.a.string.isRequired},Ne.defaultProps={active:!1,disabled:!1};var Oe=Ne,Re=(a(394),ke(Oe));function je(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Te=function(e){if(e.totalPages<2)return null;var t=je(new Array(e.totalPages)).map((function(e,t){return t})),a=e.page,n=t.map((function(e){switch(e){case 0:case a-1:case a:case a+1:case t.length-1:return u.a.createElement(Re,{key:e,page:e,active:e===a,title:"To page ".concat(e+1),disabled:e===a},e+1);case a-2:case a+2:return u.a.createElement("li",{key:e,className:"gallery-button pagination__ellipsis"});default:return null}}));return a>0&&n.unshift(u.a.createElement(Re,{key:"back",title:"To previous page",disabled:a<1,page:a-1},u.a.createElement(v,{name:"left"}))),a<t.length-1&&n.push(u.a.createElement(Re,{key:"next",title:"To next page",disabled:a>=t.length-1,page:a+1},u.a.createElement(v,{name:"right"}))),u.a.createElement("ul",{className:"pagination gallery-button__group"},n.filter(Boolean))};Te.propTypes={totalPages:p.a.number.isRequired,page:p.a.number.isRequired};var Ce=Te,Ae=(a(395),we(Ce)),xe=Object(n.b)((function(e,t){var a=t.page*e.pageSize,n=!!Object(z.a)(e).splice(a,e.pageSize||1/0).find((function(t){var a=t.hash;return e.imageSelection.includes(a)}));return{enabled:e.imageSelection.length>1,activeFilters:e.filter.activeTags.length||0,selectedImages:e.imageSelection.length,hasSelected:n}}),(function(e){return{batchTask:function(t,a){e({type:"BATCH_TASK",payload:t,page:a})},filter:function(){e({type:"SHOW_FILTERS"})},showSortOptions:function(){e({type:"SHOW_SORT_OPTIONS"})}}})),Ie=["download","delete","edit"];Ie.push("animate");var qe=function(e){return u.a.createElement("ul",{className:"batch-buttons gallery-button__group"},u.a.createElement("li",{className:"gallery-button gallery-button--enabled"},u.a.createElement("button",{type:"button",onClick:e.filter},u.a.createElement(v,{name:"filter"}),0===e.activeFilters?null:u.a.createElement("span",{className:"batch-buttons__bubble"},e.activeFilters))),u.a.createElement("li",{className:y()("gallery-button gallery-button--enabled",{"gallery-button--has-selected":!e.hasSelected})},u.a.createElement("button",{type:"button",onClick:function(){return e.batchTask(e.hasSelected?"uncheckall":"checkall",e.page)}},u.a.createElement(v,{name:"checkmark"}),0===e.selectedImages?null:u.a.createElement("span",{className:"batch-buttons__bubble"},e.selectedImages))),u.a.createElement("li",{className:"gallery-button gallery-button--enabled"},u.a.createElement("button",{type:"button",onClick:e.showSortOptions},u.a.createElement(v,{name:"sort"}))),Ie.map((function(t){return u.a.createElement("li",{key:t,className:y()("gallery-button",{"gallery-button--disabled":!e.enabled,"gallery-button--enabled":e.enabled})},u.a.createElement("button",{disabled:!e.enabled,type:"button",onClick:function(){return e.batchTask(t,e.page)}},u.a.createElement(v,{name:t})))})))};qe.propTypes={batchTask:p.a.func.isRequired,enabled:p.a.bool.isRequired,activeFilters:p.a.number.isRequired,selectedImages:p.a.number.isRequired,filter:p.a.func.isRequired,showSortOptions:p.a.func.isRequired,hasSelected:p.a.bool.isRequired,page:p.a.number.isRequired},qe.defaultProps={};var Fe=qe,ze=(a(396),xe(Fe)),Me=function(e){return u.a.createElement("div",{className:"gallery-header"},u.a.createElement(Se,null),u.a.createElement(Ae,{page:e.page}),u.a.createElement(ze,{page:e.page}))};Me.propTypes={page:p.a.number.isRequired};var Be=Me,De=(a(397),ye(Be));var Ue=function(e){var t,a,n,r=e.images.map((function(t){return u.a.createElement(ge,{type:"list"===e.currentView?"list":"default",key:t.hash,hash:t.hash,page:e.page})}));return"list"!==e.currentView&&r.push(u.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy1"}),u.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy2"}),u.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy3"}),u.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy4"}),u.a.createElement("li",{className:"gallery-image gallery-image--dummy",key:"dummy5"})),u.a.createElement(u.a.Fragment,null,u.a.createElement(De,{page:e.page}),"list"===e.currentView?u.a.createElement("table",{className:"gallery gallery--list"},u.a.createElement("tbody",null,r)):u.a.createElement("ul",{className:y()("gallery",(t={},a="gallery--".concat(e.currentView),n=!0,a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t))},r),e.images.length<3?null:u.a.createElement(De,{page:e.page}))};Ue.propTypes={images:p.a.array.isRequired,currentView:p.a.string.isRequired,page:p.a.number.isRequired},Ue.defaultProps={};var Le=Ue,Ge=(a(398),M(Le));function Ve(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return He(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ke=Object(n.b)((function(e){return{dumpCount:e.printerData.dumps?e.printerData.dumps.length:0}}),(function(e){return{importPlainText:function(t){var a;try{a=new File(Ve(t),"Text input.txt",{type:"text/plain"})}catch(e){a=new Blob(Ve(t),{type:"text/plain"})}e({type:"IMPORT_FILE",payload:{files:[a]}})},importFile:function(t){e({type:"IMPORT_FILE",payload:t})},checkPrinter:function(){e({type:"PRINTER_QUERY"})},downloadPrinter:function(){e({type:"PRINTER_DOWNLOAD"})},clearPrinter:function(){e({type:"PRINTER_CLEAR"})},exportJson:function(t){e({type:"JSON_EXPORT",payload:t})}}})),$e=(a(147),Object(n.b)((function(e){return{printerData:e.printerData,printerUrl:e.printerUrl}}),(function(){return{}}))),We=a(399),Je=a.n(We),Ye=function(e){return e.printerData.fs&&e.printerData.dumps?u.a.createElement("div",{className:"printer-report"},u.a.createElement("table",{className:"printer-report__table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"printer-report__label printer-report__head"},"Printer Filesystem"),u.a.createElement("th",{className:"printer-report__value printer-report__head printer-report__value--url"},e.printerUrl))),u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",{className:"printer-report__label"},"Total"),u.a.createElement("td",{className:"printer-report__value"},Je()(e.printerData.fs.total))),u.a.createElement("tr",null,u.a.createElement("td",{className:"printer-report__label"},"Used"),u.a.createElement("td",{className:"printer-report__value"},Je()(e.printerData.fs.used))),u.a.createElement("tr",null,u.a.createElement("td",{className:"printer-report__label"},"Free"),u.a.createElement("td",{className:"printer-report__value"},"".concat(Math.max(0,e.printerData.fs.maximages-e.printerData.dumps.length)," images"))),u.a.createElement("tr",null,u.a.createElement("td",{className:"printer-report__label"},"Images"),u.a.createElement("td",{className:"printer-report__value"},e.printerData.dumps.length))))):null};Ye.propTypes={printerData:p.a.shape({fs:p.a.shape({dumpcount:p.a.number,maximages:p.a.number,total:p.a.number,used:p.a.number}),dumps:p.a.arrayOf(p.a.string)}).isRequired,printerUrl:p.a.string.isRequired},Ye.defaultProps={};var Xe=Ye,Qe=(a(400),$e(Xe)),Ze=a(51);function et(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var nt=function(e){return e.match(/^#[0-9a-f]{6}$/i)},rt=function(e){var t=e.id,a=e.labelText,n=e.buttonIcon,r=e.buttonLabel,o=e.buttonOnClick,i=e.type,l=e.min,c=e.max,m=e.step,p=e.value,f=e.disabled,d=e.onChange,b=e.onBlur,g=e.onKeyUp,h=e.children,E=tt(Object(s.useState)(!1),2),_=E[0],S=E[1],w=tt(Object(s.useState)(p),2),k=w[0],N=w[1];Object(s.useEffect)((function(){"color"===i&&N(p)}),[N,p,i]);var O=g?function(e){var t=e.key;return g(t)}:null,R=b?function(){"password"===i&&S(!1),b()}:null;return u.a.createElement("div",{className:"inputgroup inputgroup--".concat(i)},u.a.createElement("label",{htmlFor:t,className:"inputgroup__label"},a,h),u.a.createElement("input",{id:t,className:"inputgroup__input",type:_?"text":i,min:"number"===i?l:null,max:"number"===i?c:null,step:"number"===i?m:null,value:p,disabled:f,onChange:function(e){var t=e.target,a=t.value,n=t.files;d(n||a)},onBlur:R,onKeyUp:O}),"file"===i?u.a.createElement("label",{htmlFor:t,className:"button button--label"},"Select"):null,o&&(n||r)?u.a.createElement("button",{type:"button",className:y()(et({button:r},"inputgroup__button inputgroup__button--".concat(n),n)),onClick:o},n?u.a.createElement(v,{name:n}):r):null,"color"===i?u.a.createElement("input",{type:"text",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:y()("inputgroup__input inputgroup__input--colortext",{"inputgroup__input--invalid-color":!nt(k)}),value:k,disabled:f,onChange:function(e){var t=e.target.value;N(t),nt(t)&&d(t)},onBlur:R}):null,"password"===i?u.a.createElement("button",{type:"button",className:"inputgroup__button inputgroup__button--show-password",onClick:function(){return S(!_)}},u.a.createElement(v,{name:"view"})):null)};rt.propTypes={id:p.a.string.isRequired,labelText:p.a.string.isRequired,type:p.a.oneOf(["text","number","color","file","password"]),min:p.a.number,max:p.a.number,step:p.a.number,value:p.a.oneOfType([p.a.string,p.a.number]),onChange:p.a.func.isRequired,onBlur:p.a.func,buttonOnClick:p.a.func,buttonIcon:p.a.string,buttonLabel:p.a.string,onKeyUp:p.a.func,disabled:p.a.bool,children:p.a.node},rt.defaultProps={type:"text",min:null,max:null,step:null,value:"",onBlur:null,disabled:!1,buttonOnClick:null,buttonIcon:null,buttonLabel:null,onKeyUp:null,children:null};var ot=rt,it=(a(401),ot);function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ct(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var st=function(e){var t=e.importPlainText,n=e.importFile,r=e.checkPrinter,o=e.dumpCount,i=e.downloadPrinter,l=e.clearPrinter,c=e.exportJson,m=lt(Object(s.useState)(""),2),p=m[0],f=m[1],d=Object(Ze.a)().env;return Object(s.useEffect)((function(){a.e(1).then(a.bind(null,542)).then((function(e){var t=e.default;f(t.join("\n"))}))}),[]),u.a.createElement("div",{className:"import"},"esp8266"!==d?null:u.a.createElement("div",{className:"inputgroup buttongroup"},u.a.createElement("button",{type:"button",className:"button",onClick:r},"Check Printer"),u.a.createElement("button",{type:"button",className:"button",disabled:0===o,onClick:i},"Download ".concat(o||""," Dumps")),u.a.createElement("button",{type:"button",className:"button",disabled:0===o,onClick:l},"Clear Printer")),u.a.createElement(Qe,null),u.a.createElement(it,{id:"import-file",labelText:"Select file for import",type:"file",onChange:function(e){e&&1===e.length&&n({files:e})}}),u.a.createElement("div",{className:"inputgroup inputgroup--column"},u.a.createElement("label",{htmlFor:"import-plaintext",className:"inputgroup__label"},"Paste your plaintext"),u.a.createElement("textarea",{id:"import-plaintext",className:"import__data",value:p,onChange:function(e){var t=e.target;f(t.value)}}),u.a.createElement("button",{className:"button button--label",type:"button",onClick:function(){t(p)}},"Import")),u.a.createElement("div",{className:"inputgroup buttongroup"},u.a.createElement("button",{type:"button",className:"button",onClick:function(){return c("images")}},"Export images"),u.a.createElement("button",{type:"button",className:"button",onClick:function(){return c("selected_images")}},"Export selected images"),u.a.createElement("button",{type:"button",className:"button",onClick:function(){return c("frames")}},"Export frames"),u.a.createElement("button",{type:"button",className:"button",onClick:function(){return c("palettes")}},"Export palettes")))};st.propTypes={dumpCount:p.a.number.isRequired,importPlainText:p.a.func.isRequired,importFile:p.a.func.isRequired,checkPrinter:p.a.func.isRequired,downloadPrinter:p.a.func.isRequired,clearPrinter:p.a.func.isRequired,exportJson:p.a.func.isRequired},st.defaultProps={};var ut=st,mt=(a(402),Ke(ut)),pt=a(170),ft=Object(n.b)((function(e){return{palettes:e.palettes}}),(function(e){return{newPalette:function(){e({type:"PALETTE_EDIT",payload:pt.e})}}})),dt=(a(48),Object(n.b)((function(e,t){var a=t.shortName;return{isActive:e.activePalette===a}}),(function(e,t){var a=t.shortName;return{setActive:function(){e({type:"PALETTE_SET_ACTIVE",payload:a})},deletePalette:function(){e({type:"PALETTE_DELETE",payload:a})},editPalette:function(){e({type:"PALETTE_EDIT",payload:a})}}}))),bt=function(e){return u.a.createElement("li",{className:y()("palette",{"palette--active":e.isActive}),style:{backgroundImage:"linear-gradient(to right, ".concat(e.palette[0]).concat("36"," 0%, ").concat(e.palette[1]).concat("36"," 33.3%, ").concat(e.palette[2]).concat("36"," 66.6%, ").concat(e.palette[3]).concat("36"," 100%)")}},u.a.createElement("button",{onClick:function(){e.setActive()},className:"palette__button",type:"button"},u.a.createElement("div",{className:"palette__name"},e.name,u.a.createElement("span",{className:"palette__shortname"},e.shortName)),u.a.createElement("div",{className:"palette__colors"},u.a.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[0]},title:e.palette[0]}," "),u.a.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[1]},title:e.palette[1]}," "),u.a.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[2]},title:e.palette[2]}," "),u.a.createElement("div",{className:"palette__color",style:{backgroundColor:e.palette[3]},title:e.palette[3]}," "))),e.isPredefined?null:u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{type:"button",className:"button palette__manage-button palette__manage-button--edit",onClick:function(){return e.editPalette()}},u.a.createElement(v,{name:"edit"})),u.a.createElement("button",{type:"button",className:"button palette__manage-button palette__manage-button--delete",onClick:function(){return e.deletePalette()}},u.a.createElement(v,{name:"delete"}))))};bt.propTypes={shortName:p.a.string.isRequired,name:p.a.string.isRequired,isActive:p.a.bool.isRequired,isPredefined:p.a.bool.isRequired,setActive:p.a.func.isRequired,deletePalette:p.a.func.isRequired,editPalette:p.a.func.isRequired,palette:p.a.arrayOf(p.a.string).isRequired},bt.defaultProps={};var gt=bt,yt=(a(403),dt(gt));function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return vt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Et={all:{headline:"All palettes",filter:Boolean},own:{headline:"Own palettes",filter:function(e){return!e.isPredefined}},predefined:{headline:"Predefined palettes",filter:function(e){return e.isPredefined}}},_t=function(e){var t=ht(Object(s.useState)(Object.keys(Et)[0]),2),a=t[0],n=t[1],r=Et[a],o=r.filter,i=r.headline;return u.a.createElement(u.a.Fragment,null,u.a.createElement("ul",{className:"contenttabs__tabs"},Object.keys(Et).map((function(e){var t=Et[e].headline;return u.a.createElement("li",{className:"contenttabs__tab",key:e},u.a.createElement("button",{type:"button",className:y()("button contenttabs__tabs-button",{"button contenttabs__tabs-button--active":e===a}),onClick:function(){return n(e)}},t))}))),u.a.createElement("h2",{className:"palettes__headline"},i,"own"===a?u.a.createElement("button",{type:"button",className:"button palettes__add-button",onClick:function(){e.newPalette()}},u.a.createElement(v,{name:"add"})):null),u.a.createElement("ul",{className:"palettes"},e.palettes.filter(o).map((function(e){return u.a.createElement(yt,{key:e.shortName,name:e.name,isPredefined:e.isPredefined||!1,shortName:e.shortName,palette:e.palette})}))))};_t.propTypes={palettes:p.a.array.isRequired,newPalette:p.a.func.isRequired},_t.defaultProps={};var St=_t,wt=(a(404),ft(St)),kt=Object(n.b)((function(e){return{socketUrl:e.socketUrl,printerUrl:e.printerUrl}}),(function(e){return{updateSocketUrl:function(t){e({type:"SET_SOCKET_URL",payload:t})},updatePrinterUrl:function(t){e({type:"SET_PRINTER_URL",payload:t})}}})),Nt=Object(n.b)((function(e){return{gitStorage:e.gitStorage}}),(function(e){return{setGitStorage:function(t){e({type:"SET_GIT_STORAGE",payload:t})}}}));a(79),a(78),a(80),a(47);function Ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(a),!0).forEach((function(t){jt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ot(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function jt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Tt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Tt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ct=function(e){var t=e.gitStorage,a=e.setGitStorage,n=Pt(Object(s.useState)(t),2),r=n[0],o=n[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement("label",{className:y()("inputgroup checkgroup",{"checkgroup--checked":r.use})},u.a.createElement("span",{className:"inputgroup__label",title:"Hide dates in gallery"},"Use github as storage"),u.a.createElement("span",{className:"checkgroup__checkbox-wrapper"},u.a.createElement("input",{type:"checkbox",className:"checkgroup__input",checked:r.use,onChange:function(e){var t=e.target,n=Rt(Rt({},r),{},{use:t.checked});o(n),a(n)}}),u.a.createElement(v,{name:"checkmark"}))),r.use?u.a.createElement(u.a.Fragment,null,u.a.createElement(it,{id:"settings-git-owner",labelText:"Owner",type:"text",value:r.owner,onChange:function(e){o(Rt(Rt({},r),{},{owner:e}))},onBlur:function(){a(r)}}),u.a.createElement(it,{id:"settings-git-repo",labelText:"Repository name",type:"text",value:r.repo,onChange:function(e){o(Rt(Rt({},r),{},{repo:e}))},onBlur:function(){a(r)}}),u.a.createElement(it,{id:"settings-git-branch",labelText:"Branch",type:"text",value:r.branch,onChange:function(e){o(Rt(Rt({},r),{},{branch:e}))},onBlur:function(){a(r)}}),u.a.createElement(it,{id:"settings-git-throttle",labelText:"Throttle (in ms)",type:"number",min:10,max:5e3,step:25,value:r.throttle,onChange:function(e){o(Rt(Rt({},r),{},{throttle:e}))},onBlur:function(){a(r)}}),u.a.createElement(it,{id:"settings-git-token",labelText:"Token",type:"password",value:r.token,onChange:function(e){o(Rt(Rt({},r),{},{token:e}))},onBlur:function(){a(r)}},u.a.createElement("a",{className:"inputgroup__note",href:"https://github.com/settings/tokens/new?scopes=repo"},"How to obtain a token"))):null)};Ct.propTypes={gitStorage:p.a.object.isRequired,setGitStorage:p.a.func.isRequired};var At=Ct,xt=(a(405),Nt(At)),It=(a(265),function(e,t){switch(e){case"hk":return"Hallo Katze!";case"int":return"International Frames (GameBoy Camera)";case"jp":return"Japanese Frames (Pocket Camera)";default:return t}}),qt=function(e){return e.reduce((function(e,t){var a,n=t.id,r=t.name;try{a=n.match(/^[a-z]{2,}/g)[0]}catch(t){return e}return e.find((function(e){return e.id===a}))||e.push({id:a,name:It(a,r)}),e}),[])},Ft=Object(n.b)((function(e){return{exportScaleFactors:e.exportScaleFactors,exportFileTypes:e.exportFileTypes,pageSize:e.pageSize,savFrameTypes:e.savFrameTypes,savFrameGroups:qt(e.frames),exportCropFrame:e.exportCropFrame,hideDates:e.hideDates}}),(function(e){return{setSavFrameTypes:function(t){e({type:"SET_SAV_FRAME_TYPES",payload:t})},setExportCropFrame:function(t){e({type:"SET_EXPORT_CROP_FRAME",payload:t})},setHideDates:function(t){e({type:"SET_HIDE_DATES",payload:t})},setPageSize:function(t){e({type:"SET_PAGESIZE",payload:t})},changeExportScaleFactors:function(t,a){e({type:"UPDATE_EXPORT_SCALE_FACTORS",payload:{factor:t,checked:a}})},changeExportFileTypes:function(t,a){e({type:"UPDATE_EXPORT_FILE_TYPES",payload:{fileType:t,checked:a}})}}})),zt=(a(168),a(171),{}),Mt=function(){return["jpeg","jpg","png","webp","bmp","gif"].filter((function(e){return function(e){if(void 0!==zt[e])return zt[e];var t=document.createElement("canvas");t.width=2,t.height=2;var a=t.toDataURL("image/".concat(e));return zt[e]=0===a.indexOf("data:image/".concat(e,";base64")),zt[e]}(e)}))};function Bt(e){return function(e){if(Array.isArray(e))return Lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Ut(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||Ut(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e,t){if(e){if("string"==typeof e)return Lt(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Lt(e,t):void 0}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Gt=function(e){var t=Dt(Object(s.useState)(e.pageSize),2),a=t[0],n=t[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(it,{id:"settings-pagesize",labelText:"Page size",type:"number",min:0,value:a,onChange:function(e){n(e)},onBlur:function(){e.setPageSize(parseInt(a,10)||0)}},u.a.createElement("span",{className:y()("inputgroup__note",{"inputgroup__note--warn":!e.pageSize})},"(set to 0 to disable pagination - might cause performance issues on large sets of images)")),u.a.createElement("div",{className:"inputgroup"},u.a.createElement("div",{className:"inputgroup__label"},"Image export dimensions"),[1,2,3,4,6,8,10].map((function(t){return u.a.createElement("label",{key:t,className:y()("inputgroup__label-check",{"inputgroup__label-check--selected":e.exportScaleFactors.includes(t)}),title:"".concat(160*t,"×").concat(144*t)},"".concat(t,"×"),u.a.createElement("input",{type:"checkbox",checked:e.exportScaleFactors.includes(t),onChange:function(a){var n=a.target;e.changeExportScaleFactors(t,n.checked)}}))}))),u.a.createElement("div",{className:"inputgroup"},u.a.createElement("div",{className:"inputgroup__label"},"Image export filetypes"),[].concat(Bt(Mt()),["txt"]).map((function(t){return u.a.createElement("label",{key:t,className:y()("inputgroup__label-check",{"inputgroup__label-check--selected":e.exportFileTypes.includes(t)}),title:t},t,u.a.createElement("input",{type:"checkbox",checked:e.exportFileTypes.includes(t),onChange:function(a){var n=a.target;e.changeExportFileTypes(t,n.checked)}}))}))),u.a.createElement("label",{className:y()("inputgroup checkgroup",{"checkgroup--checked":e.exportCropFrame})},u.a.createElement("span",{className:"inputgroup__label",title:"Crop/remove frame when exporting or sharing images"},"Crop/remove frame when exporting or sharing images"),u.a.createElement("span",{className:"checkgroup__checkbox-wrapper"},u.a.createElement("input",{type:"checkbox",className:"checkgroup__input",checked:e.exportCropFrame,onChange:function(t){var a=t.target;e.setExportCropFrame(a.checked)}}),u.a.createElement(v,{name:"checkmark"}))),u.a.createElement("div",{className:"inputgroup"},u.a.createElement("label",{htmlFor:"settings-sav-frames",className:"inputgroup__label"},"Frames to be applied when importing Cartridge dumps"),u.a.createElement("select",{id:"settings-sav-frames",className:"inputgroup__input inputgroup__input--select",disabled:!e.savFrameGroups.length,value:e.savFrameTypes,onChange:function(t){e.setSavFrameTypes(t.target.value)}},e.savFrameGroups.map((function(e){var t=e.id,a=e.name;return u.a.createElement("option",{value:t,key:t},a)})))),u.a.createElement("label",{className:y()("inputgroup checkgroup",{"checkgroup--checked":e.hideDates})},u.a.createElement("span",{className:"inputgroup__label",title:"Hide dates in gallery"},"Hide dates in gallery"),u.a.createElement("span",{className:"checkgroup__checkbox-wrapper"},u.a.createElement("input",{type:"checkbox",className:"checkgroup__input",checked:e.hideDates,onChange:function(t){var a=t.target;e.setHideDates(a.checked)}}),u.a.createElement(v,{name:"checkmark"}))))};Gt.propTypes={changeExportScaleFactors:p.a.func.isRequired,exportScaleFactors:p.a.array.isRequired,changeExportFileTypes:p.a.func.isRequired,exportFileTypes:p.a.array.isRequired,savFrameTypes:p.a.string.isRequired,savFrameGroups:p.a.array.isRequired,setSavFrameTypes:p.a.func.isRequired,pageSize:p.a.number.isRequired,setPageSize:p.a.func.isRequired,setExportCropFrame:p.a.func.isRequired,exportCropFrame:p.a.bool.isRequired,setHideDates:p.a.func.isRequired,hideDates:p.a.bool.isRequired},Gt.defaultProps={};var Vt=Gt,Ht=(a(406),Ft(Vt)),Kt=Object(n.b)((function(){return{}}),(function(e){return{exportJson:function(t){e({type:"JSON_EXPORT",payload:t})}}})),$t=function(e){return u.a.createElement("div",{className:"inputgroup buttongroup settings__export"},u.a.createElement("button",{type:"button",className:"button",onClick:function(){return e.exportJson("debug")}},"Export debug settings"),u.a.createElement("button",{type:"button",className:"button",onClick:function(){return e.exportJson("settings")}},"Export settings"))};$t.propTypes={exportJson:p.a.func.isRequired},$t.defaultProps={};var Wt=$t,Jt=(a(407),Kt(Wt)),Yt=Object(n.b)((function(e){return{socketUrl:e.socketUrl,printerUrl:e.printerUrl}}),(function(e){return{updateSocketUrl:function(t){e({type:"SET_SOCKET_URL",payload:t})},updatePrinterUrl:function(t){e({type:"SET_PRINTER_URL",payload:t})}}})),Xt=Object(n.b)((function(e){return{socketState:e.socketState}}),(function(){return{}})),Qt=function(e){return u.a.createElement("div",{className:y()("socketstate-indicator",{"socketstate-indicator--closed":e.socketState===WebSocket.CLOSED,"socketstate-indicator--closing":e.socketState===WebSocket.CLOSING,"socketstate-indicator--open":e.socketState===WebSocket.OPEN,"socketstate-indicator--connecting":e.socketState===WebSocket.CONNECTING})})};Qt.propTypes={socketState:p.a.number.isRequired},Qt.defaultProps={};var Zt=Qt,ea=(a(408),Xt(Zt)),ta=a(181);function aa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return na(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ra=function(e){var t=aa(Object(s.useState)(e.socketUrl),2),a=t[0],n=t[1],r=aa(Object(s.useState)(e.printerUrl),2),o=r[0],i=r[1];return"webpack-dev"!==Object(Ze.a)().env?null:u.a.createElement(u.a.Fragment,null,u.a.createElement(it,{id:"settings-socket-url",labelText:"Remote Socket URL",type:"text",value:a,onChange:function(e){n(e)},onBlur:function(){n(Object(ta.a)(a,"ws"))},onKeyUp:function(t){switch(t){case"Enter":n(Object(ta.a)(a,"ws"));break;case"Escape":n(e.socketUrl)}},buttonLabel:"Connect",buttonOnClick:function(){e.updateSocketUrl(Object(ta.a)(a,"ws"))}},u.a.createElement(ea,null)),u.a.createElement(it,{id:"settings-socket-url",labelText:"Printer URL",type:"text",value:o,onChange:function(e){i(e)},onBlur:function(){i(Object(ta.a)(o,"http")),e.updatePrinterUrl(o)},onKeyUp:function(t){switch(t){case"Enter":i(Object(ta.a)(o,"http")),e.updatePrinterUrl(o);break;case"Escape":i(e.printerUrl)}}}))};ra.propTypes={printerUrl:p.a.string.isRequired,socketUrl:p.a.string.isRequired,updateSocketUrl:p.a.func.isRequired,updatePrinterUrl:p.a.func.isRequired},ra.defaultProps={};var oa=ra,ia=(a(409),Yt(oa)),la=Object(n.b)((function(){return{}}),(function(){return{}})),ca=(a(157),a(158),a(159),a(160),a(166),function(e){return u.a.createElement("div",{className:y()("wifi-settings__ap-group",{"wifi-settings__ap-group--delete":e.delete})},u.a.createElement(it,{id:"".concat(e.id,"-settings-ap-ssid"),labelText:"Network SSID",type:"text",value:e.ssid,disabled:!e.isNew,onChange:function(t){e.update({ssid:t})},buttonOnClick:function(){e.update({delete:!e.delete})},buttonIcon:"delete"}),u.a.createElement(it,{id:"".concat(e.id,"-settings-ap-psk"),labelText:"Network Password",type:"password",value:e.psk,onChange:function(t){e.update({psk:t})}}))});ca.propTypes={id:p.a.string.isRequired,ssid:p.a.string.isRequired,isNew:p.a.bool.isRequired,delete:p.a.bool.isRequired,psk:p.a.string.isRequired,update:p.a.func.isRequired};var sa=ca;function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(e){return function(e){if(Array.isArray(e))return pa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pa(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return pa(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function fa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function da(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fa(Object(a),!0).forEach((function(t){ba(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ba(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ga(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ya(e,t){return(ya=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ha(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=_a(e);if(t){var r=_a(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return va(this,a)}}function va(e,t){return!t||"object"!==ua(t)&&"function"!=typeof t?Ea(e):t}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _a(e){return(_a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ya(e,t)}(o,e);var t,a,n,r=ha(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).ref=u.a.createRef(),t.saveSettings=t.saveSettings.bind(Ea(t)),t.getSettings=t.getSettings.bind(Ea(t)),t.state={sync:!1,wifiConfig:null},t}return t=o,(a=[{key:"componentDidMount",value:function(){this.getSettings()}},{key:"componentWillUnmount",value:function(){this.emptyPassWordFields()}},{key:"getSettings",value:function(){var e=this;fetch("/wificonfig/get").then((function(e){return e.json()})).then((function(t){t.mdns=t.mdns||"",t.ap=t.ap||{ssid:"",psk:""},t.networks=t.networks||[],e.setState({sync:!0,wifiConfig:t})})).catch((function(){e.setState({sync:!1,wifiConfig:null})}))}},{key:"saveSettings",value:function(){var e=this,t=da(da({},this.state.wifiConfig),{},{networks:this.state.wifiConfig.networks.filter((function(e){return!0===e.delete||e.psk})).filter((function(e){return e.ssid})).filter((function(e){return!(e.delete&&e.isNew)})).map((function(e){var t=e.ssid,a=e.psk;return{delete:e.delete,ssid:t,psk:a}}))});fetch("/wificonfig/set",{method:"post",body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(e.error)throw new Error(e.error)})).catch((function(t){alert(t),e.setState({sync:!1,wifiConfig:null})})).then((function(){e.getSettings()}))}},{key:"emptyPassWordFields",value:function(){ma(this.ref.current.querySelectorAll("[type=password]")).forEach((function(e){e.value=""}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.wifiConfig,n=t.sync;return a?u.a.createElement("div",{className:"wifi-settings",ref:this.ref},u.a.createElement("h3",{className:"wifi-settings__subheadline"},"Host Settings"),u.a.createElement(it,{id:"settings-mdns",labelText:"mDNS Name (Bonjour/Avahi)",type:"text",value:a.mdns,onChange:function(t){e.setState({sync:!1,wifiConfig:da(da({},a),{},{mdns:t.trim()})})}}),u.a.createElement(it,{id:"settings-ap-ssid",labelText:"Accesspoint SSID",type:"text",value:a.ap.ssid,onChange:function(t){e.setState({sync:!1,wifiConfig:da(da({},a),{},{ap:da(da({},a.ap),{},{ssid:t.trim()})})})}}),u.a.createElement(it,{id:"settings-ap-psk",labelText:"Accesspoint Password",type:"password",value:a.ap.psk,onChange:function(t){e.setState({sync:!1,wifiConfig:da(da({},a),{},{ap:da(da({},a.ap),{},{psk:t.trim()})})})}}),u.a.createElement("h3",{className:"wifi-settings__subheadline"},"Networks",u.a.createElement("button",{type:"button",className:"button wifi-settings__button wifi-settings__button--add",onClick:function(){var t=a.networks;t.push({ssid:"",psk:"",delete:!1,isNew:!0}),e.setState({sync:!1,wifiConfig:da(da({},a),{},{networks:t})})}},u.a.createElement(v,{name:"add"}))),u.a.createElement("ul",{className:"wifi-settings__ap-groups"},a.networks.map((function(t,n){var r=t.ssid,o=t.psk,i=void 0===o?"":o,l=t.delete,c=void 0!==l&&l,s=t.isNew,m=void 0!==s&&s;return u.a.createElement(sa,{key:"apconf-".concat(n),id:"apconf-".concat(n),ssid:r,psk:i,isNew:m,delete:c,update:function(r){var o=a.networks;o[n]=da(da({},t),r),e.setState({sync:!1,wifiConfig:da(da({},a),{},{networks:o})})}})}))),u.a.createElement("div",{className:"inputgroup buttongroup"},u.a.createElement("button",{type:"button",disabled:n,className:"button",onClick:this.saveSettings},"Save WiFi-Settings"))):null}}])&&ga(t.prototype,a),n&&ga(t,n),o}(u.a.Component),wa=(a(410),la(Sa));function ka(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Na(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Na(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Oa={generic:{Component:Ht,headline:"Generic Settings"},git:{Component:xt,headline:"Git Settings"}};"esp8266"!==Object(Ze.a)().env&&"webpack-dev"!==Object(Ze.a)().env||(Oa.wifi={Component:wa,headline:"WiFi Settings"}),"webpack-dev"===Object(Ze.a)().env&&(Oa.devurls={Component:ia,headline:"Dev Settings"});var Ra=function(){var e=ka(Object(s.useState)(Object.keys(Oa)[0]),2),t=e[0],a=e[1],n=Oa[t],r=n.Component,o=n.headline;return u.a.createElement("div",{className:"settings"},u.a.createElement("ul",{className:"contenttabs__tabs"},Object.keys(Oa).map((function(e){var n=Oa[e].headline;return u.a.createElement("li",{className:"contenttabs__tab",key:e},u.a.createElement("button",{type:"button",className:y()("button contenttabs__tabs-button",{"button contenttabs__tabs-button--active":e===t}),onClick:function(){return a(e)}},n))}))),u.a.createElement("h2",{className:"settings__headline"},o),u.a.createElement(r,null),u.a.createElement(Jt,null))};Ra.propTypes={},Ra.defaultProps={};var ja=Ra,Pa=(a(411),kt(ja)),Ta=Object(n.b)((function(e){return{showGitLog:!!e.gitLog,showInfoBox:1===e.framesMessage,showProgressBox:!!e.progress.gif,showConfirmation:!!e.confirmation.message,showEditForm:!!e.editImage,showEditPalette:!!e.editPalette.shortName,showVideoForm:!!e.videoParams.imageSelection&&!!e.videoParams.imageSelection.length,showLiveImage:!0,showRGBNImage:!0,showLightbox:null!==e.lightboxImage,showDragOver:!!e.dragover,showFilters:!!e.filter.visible,showSortForm:!!e.sortOptionsVisible}}),(function(){return{}})),Ca=Object(n.b)((function(e){return{messages:e.gitLog,repoUrl:"https://github.com/".concat(e.gitStorage.owner,"/").concat(e.gitStorage.repo,"/tree/").concat(e.gitStorage.branch),repo:e.gitStorage.repo,branch:e.gitStorage.branch}}),(function(e){return{confirm:function(){e({type:"GITSTORAGE_LOG_CLEAR"})}}})),Aa=a(412),xa=a.n(Aa),Ia=Object(n.b)((function(e){return{isFullscreen:e.isFullscreen}}),(function(){return{}})),qa=Object(n.b)((function(){return{}}),(function(){return{}})),Fa=function(e){var t=e.confirm,a=e.deny,n=e.canConfirm;return u.a.createElement("div",{className:"buttons"},a?u.a.createElement("button",{className:"buttons__button buttons__button--deny",type:"button",onClick:a},"Cancel"):null,t?u.a.createElement("button",{disabled:!n,className:"buttons__button buttons__button--confirm",type:"button",onClick:t,autoFocus:!0},"Ok"):null)};Fa.propTypes={confirm:p.a.func,canConfirm:p.a.bool,deny:p.a.func},Fa.defaultProps={confirm:null,canConfirm:!0,deny:null};var za=Fa,Ma=(a(413),qa(za)),Ba=function(e){return u.a.createElement("div",{className:y()("lightbox ".concat(e.className),{"lightbox--fullscreen":e.isFullscreen})},u.a.createElement("button",{type:"button",className:"lightbox__backdrop ".concat(e.className,"__backdrop"),onClick:e.denyOnOverlayClick?e.deny:null}),u.a.createElement("div",{className:"lightbox__box ".concat(e.className,"__box"),style:{height:e.height?"".concat(e.height,"px"):null}},u.a.createElement("div",{className:"lightbox__box-content ".concat(e.className,"__box-content")},e.header?u.a.createElement("div",{className:"lightbox__header ".concat(e.className,"__header")},e.header):null,e.children),e.confirm||e.deny?u.a.createElement(Ma,{confirm:e.confirm,canConfirm:e.canConfirm,deny:e.deny}):null))};Ba.propTypes={height:p.a.number,className:p.a.string,header:p.a.string,isFullscreen:p.a.bool,children:p.a.oneOfType([p.a.arrayOf(p.a.node),p.a.node]),confirm:p.a.func,deny:p.a.func,canConfirm:p.a.bool,denyOnOverlayClick:p.a.bool},Ba.defaultProps={height:null,header:null,isFullscreen:!1,className:"",confirm:null,children:null,deny:null,canConfirm:!0,denyOnOverlayClick:!0};var Da=Ba,Ua=(a(414),Ia(Da));G.a.extend(xa.a);var La=function(e){var t=e.messages,a=e.confirm,n=e.repoUrl,r=e.repo,o=e.branch;if(!t.length)return null;var i=t[t.length-1].timestamp,l=t[0],c=l.timestamp,s="."===l.message;return u.a.createElement(Ua,{className:"git-log",header:"".concat(s?"✔️ Update done -":"⏳ Updating...",' "').concat(r,"/").concat(o,'"'),confirm:s?a:null},u.a.createElement("ul",{className:"git-log__messages"},t.map((function(e,t){var a=e.message,n=e.timestamp;return"."===a?null:u.a.createElement("li",{key:t,className:"git-log__message",title:G.a.unix(n).format("HH:mm:ss")},a)}))),u.a.createElement("div",{className:"git-log__duration"},"Started at: ".concat(G.a.unix(i).format("HH:mm:ss")),u.a.createElement("br",null),"".concat(s?"Finished after":"Running for",": ").concat(G.a.duration(c-i,"seconds").format("HH:mm:ss")),u.a.createElement("br",null),"Repository: ",u.a.createElement("a",{title:n,href:n,target:"_blank",rel:"noreferrer"},"Open GitHub")))};La.propTypes={messages:p.a.arrayOf(p.a.shape({timestamp:p.a.number.isRequired,message:p.a.string.isRequired})).isRequired,confirm:p.a.func.isRequired,repoUrl:p.a.string.isRequired,repo:p.a.string.isRequired,branch:p.a.string.isRequired};var Ga=La,Va=(a(415),Ca(Ga)),Ha=Object(n.b)((function(e){return 1===e.framesMessage?{message:{type:"FRAMES_MESSAGE_HIDE",headline:"You might be temporarily missing some frames",text:["In a recent change the pre-compiled frames have been removed from this application.","The application now however gives you the opportunity to add all fames you like by yourself and also share them with others.","Maybe you have designed some frames by yourself, or you have aquired some previously unknown frames.",'To see how you can add the frames, check the "Frames" explanation on the startpage of this app.']}}:{}}),(function(e){return{confirm:function(t){e({type:t})}}})),Ka=function(e){var t=e.message,a=e.confirm;return t?u.a.createElement(Ua,{className:"info-box",confirm:function(){return a(t.type)},header:t.headline},u.a.createElement("div",{className:"info-box__message"},t.text.map((function(e,t){return u.a.createElement("p",{key:t},e)})))):null};Ka.propTypes={message:p.a.object,confirm:p.a.func.isRequired},Ka.defaultProps={message:null};var $a=Ka,Wa=(a(416),Ha($a)),Ja=Object(n.b)((function(e){return e.progress.gif?{progress:e.progress.gif,message:"Creating GIF animation..."}:{}}),(function(e){return{confirm:function(t){e({type:t})}}})),Ya=function(e){var t=e.message,a=e.progress;return a?u.a.createElement(Ua,{className:"progress-box",header:t.headline},u.a.createElement("div",{className:"progress-box__message"},t),u.a.createElement("progress",{className:"progress-box__progress",value:a,max:1})):null};Ya.propTypes={message:p.a.string,progress:p.a.number},Ya.defaultProps={message:"",progress:0};var Xa=Ya,Qa=(a(417),Ja(Xa)),Za=Object(n.b)((function(e){return{message:e.confirmation.message||null}}),(function(e){return{confirm:function(){e({type:"CONFIRM_CONFIRMATION"})},deny:function(){e({type:"DENY_CONFIRMATION"})}}})),en=function(e){return e.message?u.a.createElement(Ua,{className:"confirmation",confirm:e.confirm,deny:e.deny,header:e.message}):null};en.propTypes={message:p.a.string,confirm:p.a.func.isRequired,deny:p.a.func.isRequired},en.defaultProps={message:null};var tn=en,an=(a(418),Za(tn)),nn=a(199);function rn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function on(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(a),!0).forEach((function(t){ln(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ln(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var cn=Object(n.b)((function(e){var t=e.windowDimensions.width<=600?e.windowDimensions.height:Math.min(800,e.windowDimensions.height),a=function(t){return e.palettes.find((function(e){return t===e.shortName}))},n=e.images.find((function(t){return t.hash===e.editImage.hash})),r=e.editImage,o=r.batch,i=r.tags;return e.editImage&&n?{created:n.created||null,hash:n.hash,tags:o?i:n.tags,title:n.title,hashes:n.hashes,frame:n.frame,lockFrame:n.lockFrame||!1,palette:n.palette,invertPalette:n.invertPalette||!1,batch:o?o.length:0,paletteShort:"string"==typeof n.palette?n.palette:null,paletteRGBN:"string"!=typeof n.palette?n.palette:null,height:t,findPalette:a}:{hash:null,invertPalette:!1,lockFrame:!1,tags:[],batch:0,height:t,findPalette:a}}),(function(e){return{save:function(t,a){var n=t.batch,r=t.tagChanges;e(n?{type:"UPDATE_IMAGES_BATCH",payload:{image:a,batch:n,tagChanges:r}}:{type:"UPDATE_IMAGE",payload:on(on({},a),{},{tags:Object(nn.a)(r)})})},cancel:function(){e({type:"CANCEL_EDIT_IMAGE"})}}})),sn=Object(n.b)((function(){return{}}),(function(){return{}})),un=Object(n.b)((function(e){return{frames:e.frames}}),(function(){return{}})),mn=function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement("select",{className:"frame-select",value:e.frame,onChange:function(t){e.updateFrame(t.target.value)}},u.a.createElement("option",{value:""},e.noFrameOption),e.frames.map((function(e){var t=e.id,a=e.name;return u.a.createElement("option",{key:t,value:t},"".concat(a," (").concat(t,")"))}))),u.a.createElement("label",{className:y()("frame-select__check-label",{"frame-select__check-label--checked":e.lockFrame})},u.a.createElement("input",{type:"checkbox",className:"frame-select__checkbox",checked:e.lockFrame,onChange:function(t){var a=t.target;e.updateFrameLock(a.checked)}}),u.a.createElement(v,{name:"checkmark"}),u.a.createElement("span",{className:"frame-select__check-label-text"},"Palette does not affect frame")))};mn.propTypes={frame:p.a.string.isRequired,frames:p.a.array.isRequired,updateFrame:p.a.func.isRequired,updateFrameLock:p.a.func.isRequired,lockFrame:p.a.bool.isRequired,noFrameOption:p.a.string},mn.defaultProps={noFrameOption:"As imported / No frame"};var pn=mn,fn=(a(419),un(pn)),dn=Object(n.b)((function(){return{}}),(function(){return{}})),bn=a(420),gn=Object(n.b)((function(){return{}}),(function(){return{}})),yn=a(537),hn=function(e){var t=e.domain,a=e.handle,n=(0,e.getHandleProps)(a.id),r=n.onKeyDown,o=n.onMouseDown,i=n.onTouchStart;return u.a.createElement("button",{role:"slider",type:"button","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":a.value,className:"color-slider__handle",style:{left:"".concat(a.percent,"%")},onKeyDown:r,onMouseDown:o,onTouchStart:i})};hn.propTypes={domain:p.a.array.isRequired,handle:p.a.shape({id:p.a.string.isRequired,value:p.a.number.isRequired,percent:p.a.number.isRequired}).isRequired,getHandleProps:p.a.func.isRequired},hn.defaultProps={};var vn=hn,En=function(e){var t=(0,e.getRailProps)(),a=t.onMouseDown,n=t.onTouchStart;return u.a.createElement("button",{type:"button",className:"color-slider__rail",onMouseDown:a,onTouchStart:n,tabIndex:"-1"},u.a.createElement("div",{className:"color-slider__rail-inner"}))};En.propTypes={getRailProps:p.a.func.isRequired};var _n=En,Sn=[0,255],wn=function(e){return u.a.createElement("div",{className:"color-slider","data-color":e.color},u.a.createElement("button",{className:"color-slider__button color-slider__button--reset",type:"button",onClick:function(){e.onChange([0,85,170,255])}},u.a.createElement(v,{name:"reset"})),u.a.createElement(yn.c,{className:"color-slider__root",mode:2,step:4,domain:Sn,onUpdate:e.onChange,onChange:e.onChange,values:e.values},u.a.createElement(yn.b,null,(function(e){var t=e.getRailProps;return u.a.createElement(_n,{getRailProps:t})})),u.a.createElement(yn.a,null,(function(e){var t=e.handles,a=e.getHandleProps;return u.a.createElement("div",{className:"slider-handles"},t.map((function(e){return u.a.createElement(vn,{key:e.id,handle:e,domain:Sn,getHandleProps:a})})))}))))};wn.propTypes={color:p.a.oneOf(["r","g","b","n"]).isRequired,onChange:p.a.func.isRequired,values:p.a.array.isRequired};var kn=wn,Nn=(a(421),gn(kn));function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Cn(e);if(t){var r=Cn(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Tn(this,a)}}function Tn(e,t){return!t||"object"!==On(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(o,e);var t,a,n,r=Pn(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state=e.values,t.sendUpdate=Object(bn.debounce)(t.sendUpdate,150,!1),t}return t=o,(a=[{key:"change",value:function(e,t){var a,n,r;this.setState((r=t,(n=e)in(a={})?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a),this.sendUpdate)}},{key:"sendUpdate",value:function(){this.props.onChange(this.state,!0)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"grey-select"},["r","g","b","n"].map((function(t){return u.a.createElement(Nn,{key:"slider-".concat(t),color:t,values:e.state[t],onChange:function(a){e.change(t,a)}})})))}}])&&Rn(t.prototype,a),n&&Rn(t,n),o}(u.a.Component);An.propTypes={values:p.a.object.isRequired,onChange:p.a.func.isRequired},An.defaultProps={};var xn=An,In=(a(422),dn(xn)),qn=Object(n.b)((function(e){return{palettes:e.palettes}}),(function(){return{}}));function Fn(e){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e){return function(e){if(Array.isArray(e))return Mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Mn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Bn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Gn(e);if(t){var r=Gn(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Ln(this,a)}}function Ln(e,t){return!t||"object"!==Fn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gn(e){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(o,e);var t,a,n,r=Un(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={initiallySelected:e.value},t}return t=o,(a=[{key:"render",value:function(){var e=this,t=zn(this.props.palettes);return this.props.allowEmpty&&t.unshift({shortName:"",name:"As selected per image",palette:[]}),u.a.createElement(u.a.Fragment,null,u.a.createElement("select",{className:"palette-select",value:this.props.value,onChange:function(t){e.props.onChange(t.target.value,!0),e.setState({initiallySelected:t.target.value})}},t.map((function(e){var t=e.shortName,a=e.name;return u.a.createElement("option",{key:t,value:t},a)}))),u.a.createElement("label",{className:y()("palette-select__check-label",{"palette-select__check-label--checked":this.props.invertPalette})},u.a.createElement("input",{type:"checkbox",className:"palette-select__checkbox",checked:this.props.invertPalette,onChange:function(t){var a=t.target;e.props.updateInvertPalette(a.checked)}}),u.a.createElement(v,{name:"checkmark"}),u.a.createElement("span",{className:"palette-select__check-label-text"},"Invert Palette")),this.props.noFancy?null:u.a.createElement("ul",{className:"fancy-palette-select"},t.map((function(t){var a=t.shortName,n=t.name,r=t.palette;return u.a.createElement("li",{key:a,className:y()("fancy-palette-select__entry",{"fancy-palette-select__entry--active":e.state.initiallySelected===a})},u.a.createElement("button",{type:"button",className:"fancy-palette-select__button",title:n,onClick:function(){e.props.onChange(a,!0),e.setState({initiallySelected:a})},onMouseEnter:function(){e.props.onChange(a,!1)},onMouseLeave:function(){e.props.onChange(e.state.initiallySelected)}},u.a.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:r[0]}}),u.a.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:r[1]}}),u.a.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:r[2]}}),u.a.createElement("span",{className:"fancy-palette-select__color",style:{backgroundColor:r[3]}})))}))))}}])&&Bn(t.prototype,a),n&&Bn(t,n),o}(u.a.Component);Vn.propTypes={palettes:p.a.array.isRequired,value:p.a.string.isRequired,onChange:p.a.func.isRequired,invertPalette:p.a.bool.isRequired,updateInvertPalette:p.a.func.isRequired,noFancy:p.a.bool,allowEmpty:p.a.bool},Vn.defaultProps={noFancy:!1,allowEmpty:!1};var Hn=Vn,Kn=(a(423),qn(Hn)),$n=Object(n.b)((function(){return{}}),(function(){return{}})),Wn=a(176);function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xn(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Xn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Qn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=ar(e);if(t){var r=ar(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return tr(this,a)}}function tr(e,t){return!t||"object"!==Jn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(o,e);var t,a,n,r=er(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={newTag:""},t}return t=o,(a=[{key:"addNewTag",value:function(e){e&&(this.props.updateTags("add",e),this.setState({newTag:""}))}},{key:"render",value:function(){var e=this,t=Object(Wn.a)([].concat(Yn(this.props.tags.initial),Yn(this.props.tags.add)));return u.a.createElement("ul",{className:"tags-select"},t.map((function(t){return u.a.createElement("li",{className:y()("tags-select__tag",{"tags-select__tag--add":e.props.tags.add.includes(t),"tags-select__tag--remove":e.props.tags.remove.includes(t)}),key:t},u.a.createElement("button",{type:"button",className:"tags-select__button tags-select__button--add",onClick:function(){return e.props.updateTags("add",t)}},u.a.createElement(v,{name:"add"})),u.a.createElement("button",{type:"button",className:"tags-select__button tags-select__button--remove",onClick:function(){return e.props.updateTags("remove",t)}},u.a.createElement(v,{name:"remove"})),u.a.createElement("span",{className:"tags-select__tag-name"},t))})),u.a.createElement("li",{className:"tags-select__tag tags-select__tag--input"},u.a.createElement("input",{type:"text",className:"tags-select__tag-name",onChange:function(t){var a=t.target;e.setState({newTag:a.value})},onBlur:function(t){var a=t.target;e.addNewTag(a.value)},onKeyUp:function(t){switch(t.key){case"Enter":e.addNewTag(t.target.value)}},value:this.state.newTag})))}}])&&Qn(t.prototype,a),n&&Qn(t,n),o}(u.a.Component);nr.propTypes={tags:p.a.shape({initial:p.a.array.isRequired,add:p.a.array.isRequired,remove:p.a.array.isRequired}).isRequired,updateTags:p.a.func.isRequired},nr.defaultProps={};var rr=nr,or=(a(424),$n(rr)),ir=Object(n.b)((function(){return{}}),(function(){return{}})),lr=function(e){return u.a.createElement("label",{className:"image-meta-form"},u.a.createElement("span",{className:"image-meta-form__label-text"},"Edit Date/Time"),u.a.createElement("input",{type:"datetime-local",className:"image-meta-form__date",value:e.created?G()(e.created).format(D.c):"",onChange:function(t){var a=t.target;e.updatecreated(G()(a.value).format(D.a))}}))};lr.propTypes={created:p.a.string,updatecreated:p.a.func.isRequired},lr.defaultProps={created:null};var cr=lr,sr=(a(425),ir(cr));function ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return mr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var pr=function(e){var t=ur(Object(s.useState)(0),2),a=t[0],n=t[1],r=function(e){return function(){n(e)}};return u.a.createElement("div",{className:"edit-image-tabs"},u.a.createElement("ul",{className:"edit-image-tabs__list",style:{marginLeft:"-".concat(100*a,"%")}},u.a.createElement("li",{className:y()("edit-image-tabs__tab",{"edit-image-tabs__tab--active":0===a}),onFocus:r(0),onClick:r(0)},e.paletteRGBN?u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Edit Greytones"),u.a.createElement(In,{values:e.paletteRGBN,onChange:e.updatePalette})):u.a.createElement(u.a.Fragment,null,u.a.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Select Palette"),u.a.createElement(Kn,{value:e.paletteShort,invertPalette:e.invertPalette,onChange:e.updatePalette,updateInvertPalette:e.updateInvertPalette}))),e.regularImage?u.a.createElement("li",{className:y()("edit-image-tabs__tab",{"edit-image-tabs__tab--active":1===a}),onFocus:r(1),onClick:r(1)},u.a.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Select Frame"),u.a.createElement(fn,{updateFrame:e.updateFrame,updateFrameLock:e.updateFrameLock,frame:e.frame||"",lockFrame:e.lockFrame})):null,u.a.createElement("li",{className:y()("edit-image-tabs__tab",{"edit-image-tabs__tab--active":2===a}),onFocus:r(e.regularImage?2:1),onClick:r(e.regularImage?2:1)},u.a.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Tags"),u.a.createElement(or,{updateTags:e.updateTags,tags:e.tags,batchTags:e.batchTags})),u.a.createElement("li",{className:y()("edit-image-tabs__tab",{"edit-image-tabs__tab--active":3===a}),onFocus:r(e.regularImage?3:2),onClick:r(e.regularImage?3:2)},u.a.createElement("button",{type:"button",className:"edit-image-tabs__button"},"Misc"),u.a.createElement(sr,{created:e.created,updatecreated:e.updateCreated}))))};pr.propTypes={hashes:p.a.object,created:p.a.string,paletteShort:p.a.string,paletteRGBN:p.a.object,invertPalette:p.a.bool.isRequired,frame:p.a.string,tags:p.a.shape({initial:p.a.array.isRequired,add:p.a.array.isRequired,remove:p.a.array.isRequired}).isRequired,batchTags:p.a.shape({initial:p.a.array.isRequired,add:p.a.array.isRequired,remove:p.a.array.isRequired}),regularImage:p.a.bool.isRequired,lockFrame:p.a.bool.isRequired,updateCreated:p.a.func.isRequired,updatePalette:p.a.func.isRequired,updateInvertPalette:p.a.func.isRequired,updateTags:p.a.func.isRequired,updateFrame:p.a.func.isRequired,updateFrameLock:p.a.func.isRequired},pr.defaultProps={hashes:null,batchTags:null,paletteShort:"",paletteRGBN:null,frame:null,created:null};var fr=pr,dr=(a(426),sn(fr));function br(e){return function(e){if(Array.isArray(e))return gr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return gr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var yr=function(e,t){var a=t.mode,n=t.tag;switch(a){case"add":return{add:[].concat(br(e.add),[n]),remove:br(e.remove.filter((function(e){return e!==n})))};case"remove":return{remove:[].concat(br(e.remove),[n]),add:br(e.add.filter((function(e){return e!==n})))};default:return{}}};function hr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function vr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(a),!0).forEach((function(t){Er(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hr(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Er(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Sr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var wr=function(e){var t=_r(Object(s.useState)(e.title),2),a=t[0],n=t[1],r=_r(Object(s.useState)(e.created),2),o=r[0],i=r[1],l=_r(Object(s.useState)(e.frame),2),c=l[0],m=l[1],p=_r(Object(s.useState)(e.lockFrame),2),f=p[0],d=p[1],b=_r(Object(s.useState)(e.invertPalette),2),g=b[0],y=b[1],h=_r(Object(s.useState)(e.paletteShort),2),v=h[0],E=h[1],_=_r(Object(s.useState)(e.paletteRGBN),2),S=_[0],w=_[1],k=_r(Object(s.useState)(!0),2),N=k[0],O=k[1],R=_r(Object(s.useState)({initial:e.tags,add:[],remove:[]}),2),j=R[0],P=R[1],T=_r(Object(s.useState)(!!e.batch&&{created:!1,title:!1,palette:!1,invertPalette:!1,frame:!1,lockFrame:!1,tags:!1}),2),C=T[0],A=T[1];if(!e.hash)return null;var x=v?e.findPalette(v).palette:S,I=function(e){return e?[e.created?"date":null,e.title?"title":null,e.palette?"palette":null,e.invertPalette?"invertPalette":null,e.frame?"frame":null,e.lockFrame?"framePalette":null,e.tags?"tags":null].filter(Boolean).join(", "):""}(C),q=function(e,t){return function(a){A(vr(vr({},C),{},Er({},e,!0))),t(a)}};return u.a.createElement(Ua,{height:e.height,className:"edit-image",confirm:function(){return e.save({batch:!!e.batch&&C,tagChanges:j},{hash:e.hash,title:a,created:o,frame:c,invertPalette:g,lockFrame:f,palette:v||S})},deny:e.cancel},u.a.createElement("label",{className:"edit-image__header"},u.a.createElement("input",{className:"edit-image__header-edit",placeholder:"Add a title",value:a,onChange:function(e){var t=e.target.value;q("title",n)(t)}})),e.batch?u.a.createElement("span",{className:"edit-image__title-hint"},"Use %n to add an index to the image titles"):null,u.a.createElement(fe,{lockFrame:f,invertPalette:g,palette:x,frame:c,hash:e.hash,hashes:e.hashes,reportTileCount:function(e){O(360===e)}}),e.batch?u.a.createElement("div",{className:"edit-image__batch-warn",style:x?{borderLeftColor:x[1],borderTopColor:x[1],backgroundColor:x[2],borderRightColor:x[3],borderBottomColor:x[3],color:x[0]}:null},"You are editing ".concat(e.batch," images"),I?u.a.createElement("p",{className:"edit-image__batch-update-list"},"Will update: ".concat(I)):null):null,u.a.createElement(dr,{created:o,updateCreated:q("created",i),regularImage:N,lockFrame:f,hashes:e.hashes,paletteShort:v,paletteRGBN:S,invertPalette:g,frame:c,tags:j,updatePalette:function(e,t){t&&A(vr(vr({},C),{},{palette:!0})),v?E(e):w(e)},updateInvertPalette:q("invertPalette",y),updateFrame:q("frame",m),updateFrameLock:q("lockFrame",d),updateTags:function(e,t){A(vr(vr({},C),{},{tags:!0})),P(vr(vr({},j),yr(j,{mode:e,tag:t})))}}))};wr.propTypes={batch:p.a.number.isRequired,created:p.a.string,cancel:p.a.func.isRequired,hash:p.a.string,hashes:p.a.object,paletteShort:p.a.string,paletteRGBN:p.a.object,invertPalette:p.a.bool.isRequired,lockFrame:p.a.bool.isRequired,frame:p.a.string,save:p.a.func.isRequired,tags:p.a.array.isRequired,title:p.a.string,height:p.a.number.isRequired,findPalette:p.a.func.isRequired},wr.defaultProps={created:null,title:null,hash:null,hashes:null,paletteShort:null,paletteRGBN:null,frame:null};var kr=wr,Nr=(a(427),cn(kr)),Or=(a(154),function(e){return function(){var t=[];if(e.imageSelection.length>0&&t.push(e.images.find((function(t){return t.hash===e.imageSelection[0]}))),e.imageSelection.length>1&&t.push(e.images.find((function(t){return t.hash===e.imageSelection[e.imageSelection.length-1]}))),2===t.filter(Boolean).length)return t;var a=Object(z.a)(e);return t.push(a[0]),2===t.filter(Boolean).length?t:[].concat(t,[a[a.length-1]])}}),Rr=Object(n.b)((function(e){return{shortName:e.editPalette.shortName,palette:e.editPalette.palette||[],name:e.editPalette.name||"",getPreviewImages:Or(e),shortNameIsValid:function(t){return!!t.match(/^[a-z]+[a-z0-9]*$/gi)&&-1===e.palettes.findIndex((function(e){return e.shortName===t}))}}}),(function(e){return{savePalette:function(t){e({type:"PALETTE_UPDATE",payload:t})},cancelEditPalette:function(){e({type:"PALETTE_CANCEL_EDIT"})}}}));function jr(e){return function(e){if(Array.isArray(e))return Cr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Tr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||Tr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tr(e,t){if(e){if("string"==typeof e)return Cr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Cr(e,t):void 0}}function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Ar=function(e){var t=e.palette,a=e.shortName,n=e.name,r=e.shortNameIsValid,o=e.savePalette,i=e.cancelEditPalette,l=e.getPreviewImages,c=a===pt.e,m=Pr(Object(s.useState)(n),2),p=m[0],f=m[1],d=Pr(Object(s.useState)(t),2),b=d[0],g=d[1],y=Pr(Object(s.useState)(c?"":a),2),h=y[0],v=y[1],E=Pr(Object(s.useState)([]),2),_=E[0],S=E[1];return Object(s.useEffect)((function(){S(l())}),[l]),a?u.a.createElement(Ua,{className:"edit-palette",confirm:function(){return o({shortName:c?h:a,name:p,palette:b,origin:""})},canConfirm:!c||r(h),deny:function(){return i()},denyOnOverlayClick:!1},u.a.createElement("label",{className:"edit-palette__header"},u.a.createElement("input",{className:"edit-palette__header-edit",placeholder:"Add a title",value:p,onChange:function(e){f(e.target.value)}})),u.a.createElement("div",{className:"edit-palette__content"},u.a.createElement(it,{id:"palette-edit-shortname",labelText:"ID/Short name",type:"text",value:h,disabled:!c,onChange:function(e){v(e.toLowerCase())}}),b.map((function(e,t){return u.a.createElement(it,{key:t,id:"palette-color-".concat(t),labelText:"Color ".concat(t+1),type:"color",value:e,onChange:function(e){var a=jr(b);a[t]=e,g(a)}})})),u.a.createElement("ul",{className:"edit-palette__previews"},_.map((function(e){return u.a.createElement("li",{className:"edit-palette__preview-image",key:e.hash},u.a.createElement(fe,{hash:e.hash,invertPalette:!1,lockFrame:!1,palette:b}))}))))):null};Ar.propTypes={shortName:p.a.string,shortNameIsValid:p.a.func.isRequired,palette:p.a.arrayOf(p.a.string).isRequired,name:p.a.string.isRequired,savePalette:p.a.func.isRequired,cancelEditPalette:p.a.func.isRequired,getPreviewImages:p.a.func.isRequired},Ar.defaultProps={shortName:null};var xr=Ar,Ir=(a(428),Rr(xr));function qr(e){return function(e){if(Array.isArray(e))return Fr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Fr(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Fr(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var zr=Object(n.b)((function(e){return{imageCount:e.videoParams.imageSelection?e.videoParams.imageSelection.length:0,scaleFactor:e.videoParams.scaleFactor||qr(e.exportScaleFactors).pop()||4,frameRate:e.videoParams.frameRate||24,yoyo:e.videoParams.yoyo||!1,lockFrame:e.videoParams.lockFrame||!1,invertPalette:e.videoParams.invertPalette||!1,frame:e.videoParams.frame||"",cropFrame:e.videoParams.cropFrame||!1,palette:e.videoParams.palette||""}}),(function(e){return{update:function(t){e({type:"SET_VIDEO_PARAMS",payload:t})},cancel:function(){e({type:"CANCEL_ANIMATE_IMAGES"})},animate:function(){e({type:"ANIMATE_IMAGES"})}}}));function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dr(e,t){return(Dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Vr(e);if(t){var r=Vr(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Lr(this,a)}}function Lr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?Gr(e):t}function Gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dr(e,t)}(o,e);var t,a,n,r=Ur(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).state={frameRate:e.frameRate,scaleFactor:e.scaleFactor,palette:e.palette,invertPalette:e.invertPalette,yoyo:e.yoyo,frame:e.frame,lockFrame:e.lockFrame,cropFrame:e.lockFrame},t.callUpdate=t.callUpdate.bind(Gr(t)),t}return t=o,(a=[{key:"callUpdate",value:function(){var e={frameRate:Math.min(120,Math.max(1,parseInt(this.state.frameRate,10))),scaleFactor:Math.min(12,Math.max(1,parseInt(this.state.scaleFactor,10))),palette:this.state.palette,invertPalette:this.state.invertPalette,yoyo:this.state.yoyo,frame:this.state.frame,lockFrame:this.state.lockFrame,cropFrame:this.state.cropFrame};this.setState(e),this.props.update(e)}},{key:"render",value:function(){var e=this;return this.props.imageCount?u.a.createElement(Da,{className:"video-params",confirm:function(){e.callUpdate(),e.props.animate()},deny:this.props.cancel,header:"Create an animated GIF with ".concat(this.props.imageCount," frames")},u.a.createElement(it,{id:"video-params-frameRate",labelText:"Framerate",type:"number",min:1,max:120,value:this.state.frameRate,onChange:function(t){e.setState({frameRate:t})},onBlur:this.callUpdate}),u.a.createElement(it,{id:"video-params-scaleFactor",labelText:"Scale GIF",type:"number",min:1,max:12,value:this.state.scaleFactor,onChange:function(t){e.setState({scaleFactor:t})},onBlur:this.callUpdate}),u.a.createElement("label",{className:y()("video-params__check-label",{"video-params__check-label--checked":this.state.yoyo}),title:"Enable Yoyo-Effect (loop back to the beginning)"},u.a.createElement("input",{type:"checkbox",className:"video-params__checkbox",checked:this.state.yoyo,onChange:function(t){var a=t.target;e.setState({yoyo:a.checked},e.callUpdate)}}),u.a.createElement(v,{name:"checkmark"}),u.a.createElement("span",{className:"video-params__check-label-text"},"Yoyo-Effect")),u.a.createElement("label",{className:y()("video-params__check-label",{"video-params__check-label--checked":this.props.cropFrame})},u.a.createElement("input",{type:"checkbox",className:"video-params__checkbox",checked:this.state.cropFrame,onChange:function(t){var a=t.target;e.setState({cropFrame:a.checked},e.callUpdate)}}),u.a.createElement(v,{name:"checkmark"}),u.a.createElement("span",{className:"video-params__check-label-text"},"Crop/remove frame")),u.a.createElement("div",{className:"video-params__select-label"},"Palette"),u.a.createElement(Kn,{noFancy:!0,allowEmpty:!0,value:this.state.palette,invertPalette:this.state.invertPalette,onChange:function(t){e.setState({palette:t},e.callUpdate)},updateInvertPalette:function(t){e.setState({invertPalette:t},e.callUpdate)}}),this.state.cropFrame?null:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"video-params__select-label"},"Frame"),u.a.createElement(fn,{frame:this.state.frame,lockFrame:this.state.lockFrame,noFrameOption:"As selected per image",updateFrame:function(t){e.setState({frame:t},e.callUpdate)},updateFrameLock:function(t){e.setState({lockFrame:t},e.callUpdate)}}))):null}}])&&Br(t.prototype,a),n&&Br(t,n),o}(u.a.Component);Hr.propTypes={imageCount:p.a.number.isRequired,frameRate:p.a.number.isRequired,scaleFactor:p.a.number.isRequired,palette:p.a.string.isRequired,invertPalette:p.a.bool.isRequired,yoyo:p.a.bool.isRequired,lockFrame:p.a.bool.isRequired,cropFrame:p.a.bool.isRequired,frame:p.a.string.isRequired,cancel:p.a.func.isRequired,animate:p.a.func.isRequired,update:p.a.func.isRequired};var Kr=Hr,$r=(a(429),zr(Kr)),Wr=Object(n.b)((function(e){return{tiles:e.lineBuffer,palette:e.palettes.find((function(t){return t.shortName===e.activePalette}))||D.h}}),(function(){return{}})),Jr=function(e){return u.a.createElement("div",{className:y()("live-image",{"live-image--receiving":e.tiles.length})},u.a.createElement(ce,{palette:e.palette.palette||e.palette,tiles:e.tiles,lockFrame:!1,invertPalette:!1}))};Jr.propTypes={tiles:p.a.arrayOf(p.a.string).isRequired,palette:p.a.object.isRequired},Jr.defaultProps={};var Yr=Jr,Xr=(a(430),Wr(Yr)),Qr=Object(n.b)((function(e){var t,a,n=Object(z.a)(e),r=n.find((function(t,a){return a===e.lightboxImage}));return r?(r.hashes?(t=r.palette,a=Object(B.a)(e,r.hashes,r.frame)):(t=e.palettes.find((function(e){return e.shortName===r.palette})),a=null),{hash:r.hash,title:r.title,created:r.created,hashes:r.hashes,frame:r.frame,isFullscreen:e.isFullscreen,palette:t,frames:a,lightboxIndex:e.lightboxImage,size:n.length||0,lockFrame:r.lockFrame||!1,invertPalette:r.invertPalette||!1}):{isFullscreen:!1,lockFrame:!1,invertPalette:!1,lightboxIndex:0,size:0}}),(function(e){return{close:function(){e({type:"SET_LIGHTBOX_IMAGE_INDEX",payload:null})},prev:function(){e({type:"LIGHTBOX_PREV"})},next:function(){e({type:"LIGHTBOX_NEXT"})},fullscreen:function(){e({type:"LIGHTBOX_FULLSCREEN"})}}})),Zr=function(e){var t=e.close,a=e.title,n=e.isFullscreen,r=e.fullscreen,o=e.lockFrame,i=e.invertPalette,l=e.palette,c=e.frame,s=e.frames,m=e.hash,p=e.hashes,f=e.prev,d=e.lightboxIndex,b=e.size,g=e.next,y=e.created;return u.a.createElement(Ua,{className:"lightbox-image",deny:t},u.a.createElement("label",{className:"lightbox-image__title"},a),n?null:u.a.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--fullscreen",onClick:r},u.a.createElement(v,{name:"fullscreen"})),u.a.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--close",onClick:t},u.a.createElement(v,{name:"close"})),u.a.createElement(fe,{lockFrame:o,invertPalette:i,palette:l.palette||l,frame:c,frames:s,hash:m,hashes:p}),u.a.createElement("div",{className:"lightbox-image__navigation"},d>0?u.a.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--left",onClick:f},u.a.createElement(v,{name:"left"})):null,d<b-1?u.a.createElement("button",{type:"button",className:"lightbox-image__button lightbox-image__button--right",onClick:g},u.a.createElement(v,{name:"right"})):null),u.a.createElement("div",{className:"lightbox-image__created"},G()(y,D.a).format(D.d)))};Zr.propTypes={created:p.a.string,hash:p.a.string,hashes:p.a.object,palette:p.a.object,invertPalette:p.a.bool.isRequired,frame:p.a.string,frames:p.a.object,lockFrame:p.a.bool.isRequired,title:p.a.string,close:p.a.func.isRequired,prev:p.a.func.isRequired,next:p.a.func.isRequired,fullscreen:p.a.func.isRequired,isFullscreen:p.a.bool.isRequired,lightboxIndex:p.a.number.isRequired,size:p.a.number.isRequired},Zr.defaultProps={created:null,hash:null,hashes:null,palette:null,title:null,frame:null,frames:null};var eo=Zr,to=(a(431),Qr(eo)),ao=Object(n.b)((function(e){return{hashes:{r:e.rgbnImages.r,g:e.rgbnImages.g,b:e.rgbnImages.b,n:e.rgbnImages.n},frames:Object(B.a)(e,e.rgbnImages,null)}}),(function(){return{}})),no=function(e){var t=e.hashes,a=e.frames;return u.a.createElement("div",{className:y()("rgbn-image",{"rgbn-image--has-tiles":t.r||t.g||t.b||t.n})},u.a.createElement(fe,{lockFrame:!1,invertPalette:!1,palette:D.e,frames:a,hash:"newRGBN",hashes:t}),u.a.createElement(J,{hash:"newRGBN",buttons:["saveRGBNImage"]}))};no.propTypes={hashes:p.a.object,frames:p.a.object},no.defaultProps={hashes:null,frames:null};var ro=no,oo=(a(432),ao(ro)),io=Object(n.b)((function(e){return{dragover:e.dragover}}),(function(){return{}})),lo=function(e){return e.dragover?u.a.createElement("div",{className:"drag-over"}):null};lo.propTypes={dragover:p.a.bool.isRequired},lo.defaultProps={};var co=lo,so=(a(433),io(co)),uo=Object(n.b)((function(e){return{availableTags:e.filter.availableTags,activeTags:e.filter.activeTags,visible:e.filter.visible}}),(function(e){return{setActiveTags:function(t){e({type:"SET_ACTIVE_TAGS",payload:t})},hideFilters:function(t){e({type:"HIDE_FILTERS",payload:t})}}})),mo=function(e){var t=e.tagActive,a=e.toggleTag,n=e.title,r=e.icon;return u.a.createElement("li",{title:n,className:y()("filter-form__tag",{"filter-form__tag--active":t})},u.a.createElement("button",{className:"filter-form__tag-button",type:"button",onClick:function(){return a(t?"remove":"add")}},u.a.createElement(v,{name:r}),u.a.createElement("span",{className:"filter-form__tag-text"},n)))};mo.propTypes={title:p.a.string.isRequired,tagActive:p.a.bool.isRequired,toggleTag:p.a.func.isRequired,icon:p.a.string},mo.defaultProps={icon:"checkmark"};var po=mo;function fo(e){return function(e){if(Array.isArray(e))return yo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||go(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||go(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(e,t){if(e){if("string"==typeof e)return yo(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?yo(e,t):void 0}}function yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ho=function(e){var t=bo(Object(s.useState)(e.activeTags),2),a=t[0],n=t[1];Object(s.useEffect)((function(){n(e.activeTags)}),[e.activeTags]);var r=function(e,t){n("add"===t?Object(Wn.a)([].concat(fo(a),[e])):a.filter((function(t){return t!==e})))};return e.visible?u.a.createElement(Ua,{className:"filter-form",confirm:function(){return e.setActiveTags(a)},deny:function(){return e.hideFilters()},header:"Select Filters"},u.a.createElement("ul",{className:"filter-form__tag-list"},u.a.createElement(po,{title:"Untagged",tagActive:a.includes(pt.d),toggleTag:function(e){return r(pt.d,e)}}),u.a.createElement(po,{title:"New",tagActive:a.includes(pt.b),toggleTag:function(e){return r(pt.b,e)}}),u.a.createElement(po,{title:"Monochrome",tagActive:a.includes(pt.a),toggleTag:function(e){return r(pt.a,e)}}),u.a.createElement(po,{title:"RGB",tagActive:a.includes(pt.c),toggleTag:function(e){return r(pt.c,e)}})),u.a.createElement("ul",{className:"filter-form__tag-list"},e.availableTags.map((function(e){return u.a.createElement(po,{key:e,title:e,tagActive:a.includes(e),toggleTag:function(t){return r(e,t)}})}))),u.a.createElement("ul",{className:"filter-form__tag-list filter-form__tag-list--clear"},u.a.createElement(po,{title:"Clear Filters",tagActive:!1,icon:"delete",toggleTag:function(){n([])}}))):null};ho.propTypes={visible:p.a.bool.isRequired,availableTags:p.a.array.isRequired,activeTags:p.a.array.isRequired,setActiveTags:p.a.func.isRequired,hideFilters:p.a.func.isRequired},ho.defaultProps={};var vo=ho,Eo=(a(434),uo(vo));a(146);function _o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return So(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return So(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function So(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var wo=Object(n.b)((function(e){var t=_o(e.sortBy.split("_"),2),a=t[0],n=void 0===a?"":a,r=t[1],o=void 0===r?"":r;return{visible:e.sortOptionsVisible,sortBy:n,sortOrder:o}}),(function(e){return{setSortBy:function(t){e({type:"SET_SORT_BY",payload:t})},hideSortForm:function(){e({type:"HIDE_SORT_OPTIONS"})}}}));function ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return No(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return No(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function No(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Oo=[{title:"Title",key:"title"},{title:"Date",key:"created"},{title:"Palette",key:"palette"}],Ro=function(e){var t=ko(Object(s.useState)(e.sortBy),2),a=t[0],n=t[1],r=ko(Object(s.useState)(e.sortOrder),2),o=r[0],i=r[1];if(Object(s.useEffect)((function(){n(e.sortBy),i(e.sortOrder)}),[n,i,e.visible,e.sortBy,e.sortOrder]),!e.visible)return null;var l=Oo.find((function(e){return e.key===a})),c="asc"===o?"ascending":"descending";return u.a.createElement(Ua,{className:"sort-form",confirm:function(){return e.setSortBy("".concat(a,"_").concat(o))},deny:function(){e.hideSortForm()},header:"Sort by: ".concat(l.title,"/").concat(c)},u.a.createElement("ul",{className:"sort-form__list"},Oo.map((function(e){var t=e.key,r=e.title;return u.a.createElement("li",{key:t},u.a.createElement("button",{className:y()("sort-form__button",{"sort-form__button--selected":a===t}),type:"button",onClick:function(){return n(t)}},r))}))),u.a.createElement("ul",{className:"sort-form__list"},u.a.createElement("li",null,u.a.createElement("button",{className:y()("sort-form__button sort-form__button--order-asc",{"sort-form__button--selected":"asc"===o}),type:"button",onClick:function(){return i("asc")}},"Ascending")),u.a.createElement("li",null,u.a.createElement("button",{className:y()("sort-form__button sort-form__button--order-desc",{"sort-form__button--selected":"desc"===o}),type:"button",onClick:function(){return i("desc")}},"Descending"))))};Ro.propTypes={visible:p.a.bool.isRequired,sortBy:p.a.string.isRequired,sortOrder:p.a.string.isRequired,setSortBy:p.a.func.isRequired,hideSortForm:p.a.func.isRequired},Ro.defaultProps={};var jo=Ro,Po=(a(435),wo(jo)),To=function(e){var t=e.showGitLog,a=e.showInfoBox,n=e.showProgressBox,r=e.showConfirmation,o=e.showEditForm,i=e.showEditPalette,l=e.showVideoForm,c=e.showLiveImage,s=e.showRGBNImage,m=e.showLightbox,p=e.showDragOver,f=e.showFilters,d=e.showSortForm;return u.a.createElement(u.a.Fragment,null,t?u.a.createElement(Va,null):null,a?u.a.createElement(Wa,null):null,n?u.a.createElement(Qa,null):null,r?u.a.createElement(an,null):null,o?u.a.createElement(Nr,null):null,i?u.a.createElement(Ir,null):null,l?u.a.createElement($r,null):null,c?u.a.createElement(Xr,null):null,s?u.a.createElement(oo,null):null,m?u.a.createElement(to,null):null,p?u.a.createElement(so,null):null,f?u.a.createElement(Eo,null):null,d?u.a.createElement(Po,null):null)};To.propTypes={showGitLog:p.a.bool.isRequired,showInfoBox:p.a.bool.isRequired,showProgressBox:p.a.bool.isRequired,showConfirmation:p.a.bool.isRequired,showEditForm:p.a.bool.isRequired,showEditPalette:p.a.bool.isRequired,showVideoForm:p.a.bool.isRequired,showLiveImage:p.a.bool.isRequired,showRGBNImage:p.a.bool.isRequired,showLightbox:p.a.bool.isRequired,showDragOver:p.a.bool.isRequired,showFilters:p.a.bool.isRequired,showSortForm:p.a.bool.isRequired},To.defaultProps={};var Co=Ta(To),Ao=function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",{className:"app__content-headline"},"Gallery",u.a.createElement("span",{className:"app__counter"},"".concat(e.imageCount," images"),e.filteredCount?" / ".concat(e.filteredCount," filtered"):null,e.selectedCount?" / ".concat(e.selectedCount," selected"):null)),u.a.createElement("p",{className:"app__content-hint"},"These images are stored in the localStorage of your browser. That's why you (currently) cannot share a link to one of them.",u.a.createElement("br",null),"Also if you clear your browser's cookies, the images will be gone too."))};Ao.propTypes={imageCount:p.a.number.isRequired,selectedCount:p.a.number.isRequired,filteredCount:p.a.number.isRequired};var xo=Ao,Io=function(e){var t=e.pageSize,a=e.imageCount,n=e.urlParam,r=parseInt(n||"0",10)-1,o=t?Math.ceil(a/t):1,i=Math.max(0,o-1),l=Math.max(0,Math.min(r,i));return{valid:l===r,page:l}},qo=function(e){var t=Object(Ze.a)();return u.a.createElement(f.a,null,u.a.createElement(C,null),u.a.createElement("div",{className:"app__content"},u.a.createElement(d.d,null,u.a.createElement(d.b,{exact:!0,path:"/gallery"},u.a.createElement(d.a,{to:"/gallery/page/1"})),u.a.createElement(d.b,{path:"/gallery/page/:page",render:function(t){var a=t.match,n=Io({urlParam:a.params.page,pageSize:e.pageSize,imageCount:e.filteredCount}),r=n.valid,o=n.page;return r?u.a.createElement(u.a.Fragment,null,u.a.createElement(xo,{imageCount:e.imageCount,selectedCount:e.selectedCount,filteredCount:e.filteredCount}),u.a.createElement(Ge,{page:o})):u.a.createElement(d.a,{to:"/gallery/page/".concat(o+1)})}}),u.a.createElement(d.b,{path:"/palettes"},u.a.createElement("h1",{className:"app__content-headline"},"Palettes"),u.a.createElement(wt,null)),u.a.createElement(d.b,{path:"/settings"},u.a.createElement("h1",{className:"app__content-headline"},"Settings"),u.a.createElement(Pa,null),u.a.createElement("ul",{className:"app__version"},u.a.createElement("li",null,"Web-App version: ".concat("1.10.1")),u.a.createElement("li",null,"Web-App branch: ".concat("master")),u.a.createElement("li",null,"Printer version: ".concat(t.version)),u.a.createElement("li",null,"Max Images: ".concat(t.maximages)),u.a.createElement("li",null,"Localforage driver: ".concat(t.localforage)),u.a.createElement("li",null,"Environment type: ".concat(t.env)),u.a.createElement("li",null,"Compiled Filesystem: ".concat(t.fstype)),u.a.createElement("li",null,"Compiled Bootmode: ".concat(t.bootmode)),u.a.createElement("li",null,"Compiled for OLED: ".concat(t.oled?"yes":"no")))),u.a.createElement(d.b,{path:"/import"},u.a.createElement("h1",{className:"app__content-headline"},"Import"),u.a.createElement(mt,null)),u.a.createElement(d.b,{path:"/"},u.a.createElement(F,null)))),u.a.createElement(Co,null))};qo.propTypes={imageCount:p.a.number.isRequired,selectedCount:p.a.number.isRequired,filteredCount:p.a.number.isRequired,pageSize:p.a.number.isRequired},qo.defaultProps={};var Fo=qo;a(436),t.default=c(Fo)}}]);