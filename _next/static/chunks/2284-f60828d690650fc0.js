"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2284],{933:(e,t,n)=>{n.d(t,{E:()=>u});var r,a=n(97004),o=n(39249),i=n(24463),u=function(e,t){var u,s,l,c,d=(u=(0,a._)(function(){var a;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(r)return[3,2];return[4,Promise.all([n.e(9268),n.e(7431),n.e(6950),n.e(1575)]).then(n.bind(n,94979))];case 1:a=o.sent().dropBoxSyncTool,r=r||a(e,t),o.label=2;case 2:return[2,r]}})}),function(){return u.apply(this,arguments)});return i.A.getState().dropboxStorage.use&&d(),{recoverImageData:(s=(0,a._)(function(e){return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,d()];case 1:return[2,t.sent().recoverImageData(e)]}})}),function(e){return s.apply(this,arguments)}),startAuth:(0,a._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,d()];case 1:return[2,e.sent().startAuth()]}})}),startSyncData:(l=(0,a._)(function(e){return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,d()];case 1:return[2,t.sent().startSyncData(e)]}})}),function(e){return l.apply(this,arguments)}),startSyncImages:(0,a._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,d()];case 1:return[2,e.sent().startSyncImages()]}})}),updateSettings:(c=(0,a._)(function(e){return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,d()];case 1:return[2,t.sent().updateSettings(e)]}})}),function(e){return c.apply(this,arguments)}),subscribe:function(){var e;return i.A.subscribe(function(e){return e.dropboxStorage},(e=(0,a._)(function(e){return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,d()];case 1:return t.sent().updateSettings(e),[2]}})}),function(t){return e.apply(this,arguments)}))}}}},1470:(e,t,n)=>{n.d(t,{t:()=>r,z:()=>a});var r="ROOT",a=function(){return{id:r,slug:"",created:"",title:"Home",coverImage:"",images:[],groups:[],tags:[]}}},7119:(e,t,n)=>{n.d(t,{NavigationToolsProvider:()=>g,g:()=>v});var r=n(95155),a=n(12115),o=n(62570),i=n(35695),u=n(95939),s=n(71620),l=n(52166),c=n(1470),d=n(66785),f=function(){var e=(0,i.useRouter)(),t=(0,u.Z)(),n=t.paths,r=t.root,f=t.isWorking,p=t.path,g=t.getUrl,v=(0,o._)((0,a.useState)(!1),2),h=v[0],m=v[1],I=(0,s.A)(),E=I.sortBy,w=I.filtersActiveTags,b=I.recentImports,P=(0,l.A)().pageSize,T=(0,a.useCallback)(function(e){return(0,d.S)(e,{filtersActiveTags:w,sortBy:E,recentImports:b})},[w,b,E]),_=(0,a.useCallback)(function(e,t){return Math.floor(T(t.images).findIndex(function(t){return t.hash===e})/P)},[T,P]),S=(0,a.useCallback)(function(e,t){var r;return e===c.t?g({pageIndex:t,group:""}):g({pageIndex:t,group:(null==(r=n.find(function(t){return e===t.group.id}))?void 0:r.absolutePath)||""})},[g,n]),x=(0,a.useMemo)(function(){var e;return(null==(e=n.find(function(e){return e.absolutePath===p}))?void 0:e.group)||r},[p,n,r]),A=(0,a.useCallback)(function(e){var t=n.find(function(t){return t.group.images.map(function(e){return e.hash}).includes(e)}),a=(null==t?void 0:t.absolutePath)||"";return g({pageIndex:_(e,(null==t?void 0:t.group)||r),group:a})},[_,g,n,r]),y=(0,a.useCallback)(function(e,t){f||window.setTimeout(function(){m({group:{id:e,pageIndex:t}})},1)},[f]),k=(0,a.useCallback)(function(e){window.setTimeout(function(){m({imageHash:e})},1)},[]);return(0,a.useEffect)(function(){if(!f&&h){var t=window.setTimeout(function(){h.imageHash?(e.push(A(h.imageHash)),m(!1)):h.group&&(e.push(S(h.group.id,h.group.pageIndex)),m(!1))},1);return function(){window.clearTimeout(t)}}},[S,A,f,e,h]),{currentGroup:x,getGroupPath:S,getImagePageIndexInGroup:_,navigateToGroup:y,navigateToImage:k}},p=(0,a.createContext)(null);function g(e){var t=e.children,n=f();return(0,r.jsx)(p.Provider,{value:n,children:t})}var v=function(){var e=(0,a.useContext)(p);if(!e)throw Error("useNavigationToolsContext must be used within an NavigationToolsProvider");return e}},9718:(e,t,n)=>{n.d(t,{OU:()=>l,_Y:()=>i,k4:()=>c,qt:()=>o,vK:()=>u,vx:()=>s});var r,a=n(86447),o=function(e){return e.USB="USB",e.SERIAL="SERIAL",e}({}),i=function(e){return e.UNKNOWN="unknown",e.PASSIVE="passive",e.INACTIVE="inactive",e.PACKET_CAPTURE="packet_capture",e.SUPER_PRINTER_INTERFACE="super_printer_interface",e}({}),u=(r={},(0,a._)(r,"unknown","Unknown Device"),(0,a._)(r,"passive","Passive Device"),(0,a._)(r,"inactive","Inactive Device"),(0,a._)(r,"packet_capture","Packet Capture device"),(0,a._)(r,"super_printer_interface","Super Printer Interface"),r),s=function(e){return e.OPEN="OPEN",e.SEND_DATA="SEND_DATA",e.ANSWER="ANSWER",e}({}),l=function(e){return e.ENABLED_STATE="ENABLED_STATE",e.ERROR="ERROR",e.PORTS_CHANGE="PORTS_CHANGE",e.DATA="DATA",e.RECEIVING="RECEIVING",e.QUESTION="QUESTION",e}({}),c=[{vendorId:9025,productId:32822},{vendorId:9025,productId:32823},{vendorId:9025,productId:32845},{vendorId:9025,productId:32846},{vendorId:9025,productId:32847},{vendorId:9025,productId:32848},{vendorId:9025,productId:32850},{vendorId:9025,productId:32851},{vendorId:9025,productId:32852},{vendorId:9025,productId:32853},{vendorId:9025,productId:32854},{vendorId:9025,productId:32855},{vendorId:9114}]},15821:(e,t,n)=>{n.d(t,{A:()=>E});var r=n(62570),a=n(44054),o=n(95155),i=n(69242),u=n(53267),s=n(7642),l=n(36114),c=n(71977),d=n(99927),f=n(54492),p=n(3127),g=n(16324),v=n(51095),h=n(12115);let m=function(e){var t=e.confirm,n=e.canConfirm,r=e.deny;(0,h.useEffect)(function(){var e=function(e){"Escape"===e.key&&r&&r(),"Enter"===e.key&&e.ctrlKey&&t&&n&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[t,n,r])};var I=function(e,t,n,r){var o={};if(r?(o.padding="8px !important",o.overflowX="hidden",o.overflowY="hidden"):(o.scrollbarGutter="stable",o.overflowY="scroll"),n)return o;switch(void 0===t?"undefined":(0,a._)(t)){case"string":o.height=t;break;case"number":o.height="".concat(t,"px")}switch(void 0===e?"undefined":(0,a._)(e)){case"string":o.width=e;break;case"number":o.width="".concat(e,"px");break;default:o.width="440px"}return o};let E=function(e){var t=e.contentHeight,n=e.contentWidth,a=e.header,E=e.closeTitle,w=e.children,b=e.confirm,P=e.deny,T=e.canConfirm,_=e.headerOnly,S=e.fullSize,x=e.open,A=e.keepMounted,y=e.closeOnOverlayClick,k=e.headerActionButtons,C=e.actionButtons,N=(0,r._)((0,h.useState)(),2),R=N[0],G=N[1];m({confirm:b,canConfirm:T||!1,deny:P}),(0,h.useEffect)(function(){G(document.body)},[]);var D=(0,g.default)(),L=(0,v.A)(D.breakpoints.down("md")),M=I(n,t,L,S),O=b?"Cancel":"Close";return(0,o.jsxs)(l.default,{container:R,fullScreen:L||S,maxWidth:"lg",open:"boolean"!=typeof x||x,onClose:P,"aria-label":"string"==typeof a?a:void 0,keepMounted:"boolean"!=typeof A||A,disableEscapeKeyDown:!("boolean"!=typeof y||y),sx:{paddingRight:"10px"},children:[(0,o.jsxs)(f.default,{sx:{display:"flex",justifyContent:"space-between",gap:2,maxWidth:M.width},children:[(0,o.jsx)(u.default,{sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:a}),(0,o.jsxs)(u.default,{sx:{my:-.5,mr:-2},children:[k,P?(0,o.jsx)(p.default,{title:E||"Close ".concat("string"==typeof a?a:""),color:"inherit",onClick:P,children:(0,o.jsx)(i.A,{})}):null]})]}),!_&&(0,o.jsx)(d.default,{sx:M,children:w}),(0,o.jsxs)(c.default,{children:[C,P?(0,o.jsx)(s.default,{onClick:P,color:"primary",variant:"outlined",children:O}):null,b?(0,o.jsx)(s.default,{disabled:!1===T,color:"primary",variant:"contained",onClick:b,children:"Ok"}):null]})]})}},23747:(e,t,n)=>{n.d(t,{Ay:()=>P,BF:()=>E,Ll:()=>I});var r=n(97004),a=n(693),o=n(60376),i=n(62570),u=n(39249),s=n(30832),l=n.n(s),c=n(12115),d=n(5432),f=n(95939),p=n(7119),g=n(3381),v=n(71620),h=n(11760),m=n(80360),I="NEW_GROUP",E=function(e){return e.trim().replace(/[^A-Z0-9_-]+/gi,"_").toLowerCase()},w=function(e,t){return e.find(function(e){return e.group.groups.find(function(e){return e.id===t})})||null},b=function(e){return e.CREATE_NEW="CREATE_NEW",e.EDIT_EXISTING="EDIT_EXISTING",e.NOT_EDITING="NOT_EDITING",e}(b||{});let P=function(){var e,t=(0,v.A)().imageSelection,n=(0,g.A)(),s=n.editImageGroup,b=n.cancelEditImageGroup,P=(0,h.h)(),T=P.imageGroups,_=P.addImageGroup,S=P.updateImageGroup,x=P.groupImagesAdd,A=P.ungroupImages,y=(0,p.g)(),k=y.navigateToGroup,C=y.navigateToImage,N=(0,f.Z)(),R=N.path,G=N.view,D=N.paths,L=N.pathsOptions,M=t.length,O=(null==s?void 0:s.groupId)?s.groupId===I?"CREATE_NEW":"EDIT_EXISTING":"NOT_EDITING",F=(0,c.useMemo)(function(){switch(O){case"CREATE_NEW":var e=(null==s?void 0:s.newGroupTitle)||"";return{imageGroup:null,parentPathMap:D.find(function(e){return e.group.id===G.id})||null,title:e,slug:E(e),slugTouched:!1};case"EDIT_EXISTING":var t=T.find(function(e){return e.id===(null==s?void 0:s.groupId)})||null;return{imageGroup:t,parentPathMap:(null==s?void 0:s.groupId)?w(D,s.groupId):null,title:(null==t?void 0:t.title)||"",slug:(null==t?void 0:t.slug)||"",slugTouched:!0};default:return{imageGroup:null,parentPathMap:null,title:"",slug:"",slugTouched:!1}}},[s,O,T,D,G]),W=(0,i._)((0,c.useState)(F.title),2),j=W[0],U=W[1],H=(0,i._)((0,c.useState)(F.slug),2),B=H[0],Y=H[1],z=(0,i._)((0,c.useState)(F.slugTouched),2),K=z[0],X=z[1],V=(0,i._)((0,c.useState)((null==(e=F.parentPathMap)?void 0:e.absolutePath)||""),2),Z=V[0],Q=V[1],q=(0,c.useMemo)(function(){if(!(null==s?void 0:s.groupId))return"";if((null==s?void 0:s.groupId)===I)return"".concat(R).concat(B,"/");var e=w(D,s.groupId),t=(null==e?void 0:e.absolutePath)||"";return"".concat(t).concat(B,"/")},[s,D,R,B]),$=(0,c.useMemo)(function(){return!!D.find(function(e){return e.absolutePath===q})},[q,D]),J=(0,c.useMemo)(function(){var e;return B!==(null==(e=F.imageGroup)?void 0:e.slug)},[F,B]),ee=(0,c.useMemo)(function(){return!!B&&("CREATE_NEW"===O?!$:"EDIT_EXISTING"===O&&(!J||!$))},[O,B,$,J]),et=(0,c.useMemo)(function(){var e,t,n=(null==(e=D.find(function(e){return e.absolutePath===Z}))?void 0:e.group.id)||"";return((null==(t=F.parentPathMap)?void 0:t.group.id)||"")!==n},[F,Z,D]),en=(0,c.useMemo)(function(){switch(O){case"EDIT_EXISTING":var e,t=(null==(e=D.find(function(e){return e.group.id===(null==s?void 0:s.groupId)}))?void 0:e.absolutePath)||"";return L.filter(function(e){var n=e.value;return!n.startsWith(q)&&n!==t});case"CREATE_NEW":return L;default:return[]}},[q,s,O,D,L]);return{editId:(null==s?void 0:s.groupId)||null,absoluteSlug:q,possibleParents:en,slug:B,title:j,canConfirm:ee,canMove:et,slugIsInUse:$,slugWasChanged:J,parentSlug:Z,selectionCount:M,setSlug:function(e){Y(e),X(!0)},setTitle:function(e){U(e),(e.length<2||!K)&&(X(!1),Y(E(e)))},setParentSlug:Q,confirm:function(){if(b(),ee&&s){var e,n=(null==(e=D.find(function(e){return e.absolutePath===Z}))?void 0:e.group.id)||"";if(s.groupId===I){if(!s.newGroupCover)return;var r=(0,m.z)();_({id:r,slug:B,title:j,created:l()(Date.now()).format(d.i$),coverImage:s.newGroupCover,images:t,groups:[]},n),k(r,0)}else{if(!F.imageGroup)return;S((0,o._)((0,a._)({},F.imageGroup),{slug:B,title:j}),n),k(s.groupId,0)}}},move:(0,r._)(function(){var e,n;return(0,u.YH)(this,function(r){return b(),et&&((n=(null==(e=D.find(function(e){return e.absolutePath===Z}))?void 0:e.group.id)||"")?x(n,t):A(t),C(t[0])),[2]})}),cancelEditImageGroup:b}}},27299:(e,t,n)=>{n.d(t,{E:()=>a});var r=n(693),a=function(e,t){return(0,r._)({flexGrow:0,flexShrink:1,wordBreak:"break-all",whiteSpace:"no-wrap",overflow:"hidden",width:"100%",borderRadius:"3px"},t)}},29032:(e,t,n)=>{n.d(t,{j:()=>i});var r=n(62570),a=n(35695),o=n(12115),i=function(){var e=(0,a.usePathname)(),t=(0,r._)((0,o.useState)(window.location.search),2),n=t[0],i=t[1],u=(0,o.useMemo)(function(){return new URLSearchParams(n)},[n]);(0,o.useEffect)(function(){var e=function(){window.setTimeout(function(){i(function(e){return window.location.search!==e?window.location.search:e})},1)};e(),window.addEventListener("popstate",e);var t=history.pushState,n=history.replaceState;return history.pushState=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];t.apply(this,r),e()},history.replaceState=function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];n.apply(this,r),e()},function(){window.removeEventListener("popstate",e),history.pushState=t,history.replaceState=n}},[u,e]);var s=(0,o.useMemo)(function(){return u.toString()},[u]);return{fullPath:(0,o.useMemo)(function(){return s?"".concat(e,"?").concat(s):e},[e,s]),pathname:e,query:s,searchParams:u}}},31936:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(95155),a=n(700);n(12115);var o=n(52166),i=n(27299);let u=function(e){var t=e.text;return(0,o.A)().enableDebug?(0,r.jsx)(a.default,{title:t,variant:"caption",fontFamily:"monospace",component:"pre",sx:function(e){return(0,i.E)(e,{px:.5,py:0,mt:1,mb:0,backgroundColor:e.palette.warning[e.palette.mode]})},children:t}):null}},32134:(e,t,n)=>{n.d(t,{GalleryTreeContext:()=>g,K:()=>p});var r=n(62570),a=n(95155),o=n(7062),i=n(12115),u=n(29032),s=n(46498),l=n(11760),c=n(52166),d=n(1470),f="/gallery/",p=(0,i.createContext)({root:(0,d.z)(),view:(0,d.z)(),images:[],covers:[],paths:[],pathsOptions:[],isWorking:!1,pageIndex:0,path:"",lastGalleryLink:"",getUrl:function(){return"".concat(f,"?page=1")}});function g(e){var t=e.children,g=(0,r._)((0,i.useState)(!0),2),v=g[0],h=g[1],m=(0,r._)((0,i.useState)((0,d.z)()),2),I=m[0],E=m[1],w=(0,r._)((0,i.useState)([]),2),b=w[0],P=w[1],T=(0,r._)((0,i.useState)([]),2),_=T[0],S=T[1],x=(0,u.j)(),A=x.searchParams,y=x.pathname,k=(0,r._)((0,i.useState)(""),2),C=k[0],N=k[1],R=(0,c.A)(),G=R.enableImageGroups,D=R.enableDebug,L=(0,s.A)().setError,M=(0,l.h)(),O=M.imageGroups,F=M.images,W=M.setImageGroups,j=(0,i.useMemo)(function(){return G?O:[]},[G,O]);(0,i.useEffect)(function(){var e=new Worker(n.tu(new URL(n.p+n.u(2819),n.b)),{type:void 0}),t=(0,o.LV)(e),r=[],a=(0,o.BX)(function(e){r.push(e)});return h(!0),t.calculate({imageGroups:j,stateImages:F},a).then(function(e){if(E(e.root),P(e.paths),S(e.pathsOptions),r.length&&L(Error(r.join("\n"))),G&&O.length>e.paths.length){var t=e.paths.map(function(e){return e.group.id});W(O.filter(function(e){var n=e.id;return t.includes(n)}))}D&&console.info("worker ran for ".concat(e.duration.toFixed(2),"ms"))}).catch(function(e){console.error(e),L(e)}).finally(function(){h(!1),e.terminate()}),function(){e.terminate(),h(!1)}},[D,G,j,L,W,O,F]);var U=(0,i.useMemo)(function(){var e;return parseInt(null!=(e=A.get("page"))?e:"1",10)-1},[A]),H=(0,i.useMemo)(function(){return A.get("group")||""},[A]),B=(0,i.useCallback)(function(e){var t="number"==typeof e.pageIndex?e.pageIndex:U,n="string"==typeof e.group?e.group:H,r="".concat(f,"?page=").concat(t+1);return n.length&&(r="".concat(r,"&group=").concat(encodeURIComponent(n))),r},[U,H]);(0,i.useEffect)(function(){y===f&&N(B({pageIndex:U,group:H}))},[H,U,y,B]);var Y=(0,i.useMemo)(function(){var e,t=(null==(e=b.find(function(e){return e.absolutePath===H}))?void 0:e.group)||I,n=t.groups.map(function(e){return e.coverImage}),r=t.images.filter(function(e){return!n.includes(e.hash)});return{view:t,covers:n,paths:b,images:r,pathsOptions:_,root:I,isWorking:v,pageIndex:U,path:H,lastGalleryLink:C,getUrl:B}},[b,I,_,v,U,H,C,B]);return(0,a.jsx)(p.Provider,{value:Y,children:t})}},32521:(e,t,n)=>{n.d(t,{U:()=>a,Z:()=>o});var r=n(12115),a=(0,r.createContext)({webSerialActivePorts:[],webSerialIsReceiving:!1,webSerialEnabled:!1,openWebSerial:function(){throw Error("PortsContext is missing")},webUSBActivePorts:[],webUSBIsReceiving:!1,webUSBEnabled:!1,openWebUSB:function(){throw Error("PortsContext is missing")},unknownDeviceResponse:null,hasInactiveDevices:!1,sendDeviceMessage:function(){throw Error("PortsContext is missing")},worker:null}),o=function(){return(0,r.useContext)(a)}},40082:(e,t,n)=>{n.d(t,{A:()=>I});var r=n(95155),a=n(12115),o=n(97004),i=n(62570),u=n(39249),s=n(5432),l=n(83936),c=n(633),d=n(11760),f=n(53982),p=n(933),g=n(5847),v=function(e){var t,n=e.hash,r=e.hashes,v=e.palette,h=e.invertPalette,m=e.framePalette,I=e.invertFramePalette,E=e.lockFrame,w=e.frameId,b=e.rotation,P=(0,i._)((0,a.useState)(null),2),T=P[0],_=P[1],S=(0,c.g)(),x=(0,l.W)().remoteImport,A=(0,d.h)(),y=A.frames,k=A.palettes,C=A.images,N=null==(t=y.find(function(e){return e.id===w}))?void 0:t.hash,R=(0,a.useCallback)(function(e,t,n){return(0,g.T)(C,y,function(){(0,p.E)(S,x).recoverImageData(e)})(e,t,n,r)},[C,y,r,S,x]),G=(0,a.useMemo)(function(){return"string"==typeof v?(k.find(function(e){return e.shortName===v})||s.Fv).palette:v},[k,v]);return(0,a.useEffect)(function(){var e,t=!1;return n||_(null),(e=(0,o._)(function(){var e,r,a,o;return(0,u.YH)(this,function(i){switch(i.label){case 0:if(t)return[2];return[4,R(n,!1,w)];case 1:if(e=i.sent(),!N)return[3,3];return[4,(0,f.mZ)(N)];case 2:return a=i.sent(),[3,4];case 3:a=null,i.label=4;case 4:if(o=(r=a)?r.upper.length/20:2,t)return[2];return e&&_({tiles:e,palette:G,invertPalette:h,imageStartLine:o,lockFrame:E,rotation:b,framePalette:E?m:v,invertFramePalette:E?I:h}),[2]}})}),function(){return e.apply(this,arguments)})(),function(){t=!0}},[R,n,w,v,h,E,b,G,N,m,I]),{gbImageProps:T}},h=n(93370),m=n(66564);let I=function(e){var t=e.hash,n=e.hashes,a=e.frameId,o=e.lockFrame,i=e.invertPalette,u=e.invertFramePalette,s=e.palette,l=e.framePalette,c=e.rotation,d=e.asThumb,f=v({hash:t,hashes:n,frameId:a,lockFrame:o,invertPalette:i,invertFramePalette:u,palette:s,framePalette:l,rotation:c}).gbImageProps;return f?(0,r.jsx)(h.A,{lockFrame:f.lockFrame,invertPalette:f.invertPalette,invertFramePalette:f.invertFramePalette,tiles:f.tiles,palette:f.palette,framePalette:f.framePalette,imageStartLine:f.imageStartLine,rotation:f.rotation,asThumb:d}):(0,r.jsx)(m.A,{})}},41476:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(86447),a=n(693),o=n(60376),i=n(577),u=n(51368);let s=(0,n(65453).v)(function(e,t){return{progress:[],progressLog:{git:[],dropbox:[]},resetProgressLog:function(){return e({progressLog:{git:[],dropbox:[]}})},startProgress:function(t){var n={id:(0,u.A)(),label:t,value:0};return e(function(e){var t=e.progress;return{progress:(0,i._)(t).concat([n])}}),n.id},setProgress:function(t,n){e(function(e){return{progress:e.progress.map(function(e){return e.id!==t?e:(0,o._)((0,a._)({},e),{value:n})})}})},stopProgress:function(t){e(function(e){return{progress:e.progress.filter(function(e){return e.id!==t})}})},setProgressLog:function(n,u){var s=t().progressLog;e({progressLog:(0,o._)((0,a._)({},s),(0,r._)({},n,[u].concat((0,i._)(s[n]))))})}}})},66564:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(95155),a=n(53267),o=n(14426);n(12115);let i=function(){return(0,r.jsx)(a.default,{sx:{width:"100%",paddingTop:"90%",height:0,display:"block",background:"transparent",position:"relative"},children:(0,r.jsx)(a.default,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,r.jsx)(o.default,{color:"primary",size:40})})})}},75097:(e,t,n)=>{n.d(t,{No:()=>a,Q3:()=>o,RQ:()=>i,x6:()=>r});var r=function(e){return e.DELETE="delete",e.ANIMATE="animate",e.DOWNLOAD="download",e.EDIT="edit",e.RGB="rgb",e}({}),a=function(e){return e.LOCK_FRAME="lockFrame",e.FRAME="frame",e.PALETTE="palette",e.TITLE="title",e.TAGS="tags",e.CREATED="created",e.ROTATION="rotation",e}({}),o=function(e){return e.INVERT_PALETTE="invertPalette",e.FRAME_PALETTE="framePalette",e.INVERT_FRAME_PALETTE="invertFramePalette",e}({}),i=["lockFrame","frame","title","tags","created","rotation","palette","invertPalette","framePalette","invertFramePalette"]},80360:(e,t,n)=>{n.d(t,{z:()=>r});var r=n(51368).A},93370:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(97004),a=n(693),o=n(62570),i=n(39249),u=n(95155),s=n(53267),l=n(15905),c=n(12115),d=n(77683);let f=function(e){var t=e.palette,n=e.tiles,f=e.imageStartLine,p=e.lockFrame,g=e.invertPalette,v=e.framePalette,h=e.invertFramePalette,m=e.asThumb,I=void 0!==m&&m,E=e.rotation,w=void 0===E?l.pL.DEG_0:E,b=!(t instanceof Array),P=(0,o._)((0,c.useState)(null),2),T=P[0],_=P[1],S=(0,o._)((0,c.useState)(""),2),x=S[0],A=S[1];(0,c.useEffect)(function(){if(t&&n){var e=setTimeout((0,r._)(function(){var e;return(0,i.YH)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,5,,6]),!b)return[3,2];return[4,(0,l.uL)({tiles:n,palette:t,lockFrame:p||!1,rotation:w})];case 1:return _.apply(void 0,[r.sent()]),[3,4];case 2:if(!(null==n?void 0:n.length))return[3,4];return[4,(0,l.qO)((0,a._)({tiles:n,imageStartLine:f,rotation:w},(0,d.C)({imagePalette:t,framePalette:v,invertPalette:g,invertFramePalette:h})))];case 3:_.apply(void 0,[r.sent()]),r.label=4;case 4:return A(""),[3,6];case 5:return(e=r.sent())instanceof Error&&(console.error(e),A(e.message)),[3,6];case 6:return[2]}})}),1);return function(){clearTimeout(e)}}},[n,t,p,g,w,b,f,v,h]);var y=(0,c.useMemo)(function(){var e=w===l.pL.DEG_90||w===l.pL.DEG_270,t=(b?(0,l.EK)(n):n.length)<=360,r=e&&t;return{display:"block",imageRendering:I?"auto":"pixelated",margin:r?"0 5%":0,width:r?"90%":"100%",maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}},[I,b,w,n]);return(0,u.jsx)(s.default,{className:"gameboy-image",sx:{display:"flex",width:"100%",height:"100%"},children:!x&&T&&(0,u.jsx)(s.default,{component:"img",width:160,src:T,sx:y,alt:""})})}},95939:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(12115),a=n(32134),o=function(){return(0,r.useContext)(a.K)}},98250:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(62570),a=n(12115),o=function(){var e;return{width:window.innerWidth,height:window.innerHeight,ddpx:window.devicePixelRatio<=2?window.devicePixelRatio:window.devicePixelRatio/2,layoutWidth:(e=window.innerWidth)>1220?1155:e>1025?960:e>830?765:e>635?570:e>440?375:e-40}},i=function(){var e=(0,r._)((0,a.useState)(o()),2),t=e[0],n=e[1];return(0,a.useEffect)(function(){var e=function(){n(o())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[n]),t}}}]);