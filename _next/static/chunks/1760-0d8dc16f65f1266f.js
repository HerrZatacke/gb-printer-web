"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1760],{5432:(e,t,n)=>{n.d(t,{Fv:()=>f,R2:()=>s,YP:()=>c,Ys:()=>o,dm:()=>u,g0:()=>i});var r=n(15905),a=[0,85,170,255],u='{"command":"INIT"}',i='{"command":"DATA", "compressed":0, "more":1}',s='{"command":"DATA","compressed":0,"more":0}',o='{"command":"PRNT","sheets":1,"margin_upper":1,"margin_lower":3,"pallet":228,"density":64 }',c={r:a.slice(),g:a.slice(),b:a.slice(),n:a.slice(),blend:r.Nx.MULTIPLY},f={shortName:"-",name:"Missing Palette",palette:["#aaaaaa","#999999","#888888","#777777"],isPredefined:!0,origin:"technical"}},10746:(e,t,n)=>{n.d(t,{z:()=>r});var r="gbp-z-web"},11760:(e,t,n)=>{n.d(t,{A:()=>P,h:()=>O});var r=n(97004),a=n(86447),u=n(693),i=n(60376),s=n(87025),o=n(39249),c=n(36952),f=n.n(c),l=n(65453),m=n(46786),_=n(19864),p=n(87031),d=n(55685),g=n(85546),h=n(10746),v=n(15905),I=n(5432),w=n(55364),G=n(46594),b=n(52324),y=function(){var e=(0,r._)(function(e){var t,n,r,a,s,c,f,l;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(l={},!(null==(t=(f=e).frames)?void 0:t.length))return[3,2];return[4,(0,b.g)(f.frames)];case 1:l.frames=o.sent(),o.label=2;case 2:return(null==(n=f.frameGroupNames)?void 0:n.length)&&(l.frameGroups=f.frameGroupNames),(null==(r=f.palettes)?void 0:r.length)&&(l.palettes=f.palettes),(null==(a=f.plugins)?void 0:a.length)&&(l.plugins=f.plugins),(null==(s=f.imageGroups)?void 0:s.length)&&(l.imageGroups=f.imageGroups),(null==(c=f.images)?void 0:c.length)&&(l.images=f.images.map(function(e){return(0,i._)((0,u._)({},e),{created:(0,G.J)(e.created)})}).map(function(e){return(0,i._)((0,u._)({},e),{tags:e.tags||[]})}).map(function(e){if((0,w.pl)(e)){var t=(0,u._)({},e);return t.palette||Object.assign(t,{palette:I.YP}),t.palette.blend||Object.assign(t.palette,{blend:v.Nx.MULTIPLY}),t.frame=e.frame||void 0,t}var n=(0,u._)({},e);return void 0===n.framePalette&&(n.lockFrame?n.framePalette="bw":n.framePalette=n.palette),void 0===n.lockFrame&&(n.lockFrame=!1),void 0===n.invertFramePalette&&(n.invertFramePalette=n.invertPalette),n.frame=e.frame||void 0,n})),[2,l]}})});return function(t){return e.apply(this,arguments)}}(),P=1,A=(0,g.A)("id"),E=(0,g.A)("id"),F=(0,g.A)("id"),T=(0,g.A)("url"),N=(0,p.A)("id"),Y=(0,g.A)("shortName"),R=(0,p.A)("name"),H=(0,g.A)("hash"),U=function(e){return N(A(e))},L=function(e){return R(T(e))},M=function(e){return Y((0,s._)(f().map(function(e){return(0,i._)((0,u._)({},e),{isPredefined:!0})})).concat((0,s._)(e)))};let O=(0,l.v)()((0,m.Zr)(function(e,t){return{frames:[],palettes:[],frameGroups:[],plugins:[],imageGroups:[],images:[],addFrames:function(t){return e(function(e){return{frames:U((0,s._)(t).concat((0,s._)(e.frames)))}})},addPalettes:function(n){var r=t().palettes,a=n.reduce(function(e,t){return r.find(function(e){return e.shortName===t.shortName})?{update:(0,s._)(e.update).concat([t]),add:e.add}:{update:e.update,add:(0,s._)(e.add).concat([t])}},{add:[],update:[]}),u=a.update,i=a.add;e({palettes:Y((0,s._)(i).concat((0,s._)(r.map(function(e){return u.find(function(t){return t.shortName===e.shortName})||e}))))})},deleteFrame:function(t){return e(function(e){return{frames:U(e.frames.filter(function(e){return t!==e.id}))}})},deletePalette:function(t){return e(function(e){return{palettes:e.palettes.filter(function(e){return t!==e.shortName})}})},deletePlugin:function(t){return e(function(e){return{plugins:L(e.plugins.filter(function(e){return t!==e.url}))}})},updateFrameGroups:function(t){return e(function(e){return{frameGroups:E((0,s._)(t).concat((0,s._)(e.frameGroups)))}})},updatePluginConfig:function(n,r,s){var o=t().plugins,c=o.find(function(e){return e.url===n});if(!c)throw Error('Plugin "'.concat(n,'" not found'));var f=c,l=(0,i._)((0,u._)({},f.config||{}),(0,a._)({},r,s));return f=(0,i._)((0,u._)({},f),{config:l}),e({plugins:o.map(function(e){return e.url!==n?e:f})}),l},addUpdatePluginProperties:function(n){var r=t().plugins,a=(0,s._)(r);r.find(function(e){var t=e.url;return n.url===t})||a.push(n),e({plugins:L(a.map(function(e){return e.url!==n.url?e:(0,u._)({},e,n)}))})},addImageGroup:function(n,r){var a=t().imageGroups.map(function(e){var t=e.images.filter(function(e){return!n.images.includes(e)}),a=e.id===r?(0,s._)(e.groups).concat([n.id]):e.groups;return(0,i._)((0,u._)({},e),{groups:a,images:t})});e({imageGroups:F((0,s._)(a).concat([n]))})},deleteImageGroup:function(n){var r=t().imageGroups,a=r.find(function(e){return e.id===n});a&&e({imageGroups:r.reduce(function(e,t){return t.id===n?e:t.groups.includes(n)?(0,s._)(e).concat([(0,i._)((0,u._)({},t),{images:(0,s._)(t.images).concat((0,s._)(a.images)),groups:(0,s._)(t.groups).concat((0,s._)(a.groups)).filter(function(e){return e!==a.id})})]):(0,s._)(e).concat([t])},[])})},updateImageGroup:function(n,r){e({imageGroups:t().imageGroups.map(function(e){var t=(0,u._)({},e);return t.groups=t.groups.filter(function(e){return e!==n.id}),r===t.id&&(t.groups=(0,s._)(t.groups).concat([n.id])),t.id===n.id?n:t})})},groupImagesAdd:function(t,n){return e(function(e){return{imageGroups:e.imageGroups.map(function(e){return e.id===t?(0,i._)((0,u._)({},e),{images:(0,s._)(e.images).concat((0,s._)(n))}):(0,i._)((0,u._)({},e),{images:e.images.filter(function(e){return!n.includes(e)})})})}})},ungroupImages:function(t){return e(function(e){return{imageGroups:e.imageGroups.map(function(e){return(0,i._)((0,u._)({},e),{images:e.images.filter(function(e){return!t.includes(e)})})})}})},setImageGroups:function(t){return e({imageGroups:t})},addImages:function(t){return e(function(e){return{images:H((0,s._)(e.images).concat((0,s._)(t)))}})},deleteImages:function(t){return e(function(e){return{images:(0,s._)(e.images.filter(function(e){var n=e.hash;return!t.includes(n)}))}})},updateImageHash:function(t,n){return e(function(e){return{images:e.images.map(function(e){return e.hash===t?n:e})}})},updateImageFavouriteTag:function(t,n){return e(function(e){return{images:e.images.map(function(e){return e.hash===n?(0,i._)((0,u._)({},e),{tags:(0,d.A)(t?[_.X3.FILTER_FAVOURITE].concat((0,s._)(e.tags)):e.tags.filter(function(e){return e!==_.X3.FILTER_FAVOURITE}))}):e})}})},updateImages:function(t){return e(function(e){return{images:e.images.map(function(e){return t.find(function(t){return t.hash===e.hash})||e})}})},setFrames:function(t){return e({frames:A(t)})},setImages:function(t){return e({images:H(t)})},setPalettes:function(t){return e({palettes:M(t)})}}},{name:"".concat(h.z,"-items"),storage:(0,m.KU)(function(){return localStorage}),merge:function(e,t){var n=(0,u._)({},t,e);return(0,i._)((0,u._)({},n),{palettes:M(n.palettes),plugins:n.plugins.map(function(e){return(0,i._)((0,u._)({},e),{loading:!1})})})},partialize:function(e){return{frames:e.frames,frameGroups:e.frameGroups,imageGroups:e.imageGroups,images:e.images,plugins:e.plugins.map(function(e){return(0,i._)((0,u._)({},e),{loading:void 0,error:void 0})}),palettes:e.palettes.filter(function(e){return!e.isPredefined})}},version:P,migrate:function(){var e=(0,r._)(function(e,t){var n;return(0,o.YH)(this,function(r){switch(r.label){case 0:if(0!==t)return[3,2];return[4,y(e)];case 1:n=r.sent(),r.label=2;case 2:return[2,n]}})});return function(t,n){return e.apply(this,arguments)}}()}))},19864:(e,t,n)=>{n.d(t,{X3:()=>r,mI:()=>u,rx:()=>a});var r=function(e){return e.FILTER_UNTAGGED="__filter:untagged__",e.FILTER_NEW="__filter:new__",e.FILTER_MONOCHROME="__filter:mono__",e.FILTER_RGB="__filter:rgb__",e.FILTER_RECENT="__filter:recent__",e.FILTER_FAVOURITE="__filter:favourite__",e.FILTER_COMMENTS="__filter:comments__",e.FILTER_USERNAME="__filter:username__",e}({}),a=["__filter:untagged__","__filter:new__","__filter:mono__","__filter:rgb__","__filter:recent__","__filter:favourite__","__filter:comments__","__filter:username__"],u="__new:palette__"},46594:(e,t,n)=>{n.d(t,{J:()=>r});var r=function(e){var t=e?new Date(e):new Date,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")};return[t.getFullYear(),"-",n(t.getMonth()+1),"-",n(t.getDate())," ",n(t.getHours()),":",n(t.getMinutes()),":",n(t.getSeconds()),":",n(t.getMilliseconds(),3)].join("")}},52324:(e,t,n)=>{n.d(t,{g:()=>l,i:()=>m});var r=n(97004),a=n(693),u=n(60376),i=n(39249),s=n(52491),o=n.n(s),c=n(75380),f=function(e){return!!e.find(function(e){return!e.hash})},l=function(){var e=(0,r._)(function(e){return(0,i.YH)(this,function(t){var n;return f(e)?[2,Promise.all(e.map((n=(0,r._)(function(e){var t,n;return(0,i.YH)(this,function(r){switch(r.label){case 0:if(e.hash)return[2,e];return[4,c.Uv.getItem(e.id)];case 1:if(!(t=r.sent()))return console.warn("could not load frame data for hashing"),[2,e];return n=o()(t),[4,c.Uv.removeItem(e.id)];case 2:return r.sent(),[4,c.Uv.setItem(n,t)];case 3:return r.sent(),[2,(0,u._)((0,a._)({},e),{hash:n})]}})}),function(e){return n.apply(this,arguments)})))]:[2,e]})});return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r._)(function(e){var t,n;return(0,i.YH)(this,function(s){switch(s.label){case 0:var c;if(!(t=e).state.frames||!f(t.state.frames))return[2,e];return[4,Promise.all(t.state.frames.map((c=(0,r._)(function(e){var n,r,s;return(0,i.YH)(this,function(i){return e.hash?[2,e]:(r=t[n="frame-".concat(e.id)])?(s=o()(r),delete t[n],t["frame-".concat(s)]=r,[2,(0,u._)((0,a._)({},e),{hash:s})]):(console.warn("could not load ".concat(n," from json import")),[2,e])})}),function(e){return c.apply(this,arguments)})))];case 1:return n=s.sent(),[2,(0,u._)((0,a._)({},t),{state:(0,u._)((0,a._)({},t.state),{frames:n})})]}})});return function(t){return e.apply(this,arguments)}}()},55364:(e,t,n)=>{n.d(t,{iy:()=>u,pl:()=>a});var r=n(87025),a=function(e){return!!(e.hasOwnProperty("hashes")&&e.hashes)},u=function(e,t){return!t||a(t)?e:(0,r._)(e).concat([t])}},55685:(e,t,n)=>{n.d(t,{A:()=>r});let r=function(e){return Array.from(new Set(e))}},75380:(e,t,n)=>{n.d(t,{Uv:()=>f,mU:()=>c,ZU:()=>l});var r=n(97004),a=n(39249),u=n(77271),i=n.n(u),s="dummy".concat(new Date().getTime());let o=function(e){var t,n,u,o,c=i().createInstance(e),f=(t=(0,r._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,c.setItem(s,s)];case 1:return e.sent(),[4,c.removeItem(s)];case 2:return e.sent(),[2]}})}),function(){return t.apply(this,arguments)});return{ready:(0,r._)(function(){var t;return(0,a.YH)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,c.ready()];case 1:return n.sent(),[2,f()];case 2:throw t=n.sent(),c=i().createInstance(e),t;case 3:return[2]}})}),keys:(0,r._)(function(){return(0,a.YH)(this,function(t){try{return[2,c.keys()]}catch(t){throw c=i().createInstance(e),t}})}),driver:(0,r._)(function(){var t;return(0,a.YH)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,c.driver()];case 1:return[2,n.sent()];case 2:throw t=n.sent(),c=i().createInstance(e),t;case 3:return[2]}})}),setItem:(n=(0,r._)(function(t,n){var r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,c.setItem(t,n)];case 1:return[2,a.sent()];case 2:throw r=a.sent(),c=i().createInstance(e),r;case 3:return[2]}})}),function(e,t){return n.apply(this,arguments)}),getItem:(u=(0,r._)(function(t){var n;return(0,a.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c.getItem(t)];case 1:return[2,r.sent()];case 2:throw n=r.sent(),c=i().createInstance(e),n;case 3:return[2]}})}),function(e){return u.apply(this,arguments)}),removeItem:(o=(0,r._)(function(t){var n;return(0,a.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,c.removeItem(t)];case 1:return[2,r.sent()];case 2:throw n=r.sent(),c=i().createInstance(e),n;case 3:return[2]}})}),function(e){return o.apply(this,arguments)})}};var c=o({name:"GB Printer Web",storeName:"gb-printer-web-images"}),f=o({name:"GB Printer Web",storeName:"gb-printer-web-frames"});window.lfi=c,window.lff=f;var l=function(){var e=(0,r._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,f.ready()];case 1:return e.sent(),[4,c.ready()];case 2:return e.sent(),[4,new Promise(function(e){window.setTimeout(e,5)})];case 3:return e.sent(),[2]}})});return function(){return e.apply(this,arguments)}}()},85546:(e,t,n)=>{n.d(t,{A:()=>r});let r=function(e){return function(t){var n=new Set;return t.filter(function(t){var r=t[e];return!n.has(r)&&(n.add(r),!0)})}}},87031:(e,t,n)=>{n.d(t,{A:()=>u,U:()=>a});var r=n(87025),a=function(e){return e.ASC="asc",e.DESC="desc",e}({});let u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(n){var a="desc"===t?-1:1;return(0,r._)(n).sort(function(t,n){return"string"==typeof t[e]?t[e].localeCompare(n[e]):t[e]>n[e]?a:t[e]<n[e]?-a:0})}}}}]);