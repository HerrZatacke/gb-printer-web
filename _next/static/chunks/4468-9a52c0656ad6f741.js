"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4468],{6818:(e,t,r)=>{r.d(t,{A:()=>o});var n=r(61975),a=r(45377),u=r(71450),s=r(96569),i=r(41175);let o=function(e,t){return(0,n._)(function(){var r,n,o,c,l,f;return(0,u.YH)(this,function(u){switch(u.label){case 0:if(360!==e.length)return[2,e];return[4,(0,i.mZ)(t)];case 1:if(!(n=u.sent()))return[2,e];if(14!==n.left.length||14!==n.right.length)return console.error("Invalid frameData"),[2,e];for(l=0,o=e.reduce(function(e,t,r){return(0,s.o1)(r,2,s.H.FRAMEMODE_KEEP)?e:(0,a._)(e).concat([t])},[]),c=(0,a._)(n.upper);l<14;l+=1)(f=c).push.apply(f,(0,a._)(n.left[l]).concat((0,a._)(o.slice(16*l,(l+1)*16)),(0,a._)(n.right[l])));return(r=c).push.apply(r,(0,a._)(n.lower)),[2,c]}})})()}},10022:(e,t,r)=>{r.d(t,{M2:()=>R,vT:()=>T,cr:()=>N,lJ:()=>U,I0:()=>C,Vs:()=>M,Ml:()=>H,C$:()=>Y,N$:()=>x});var n=r(45377),a=r(25959),u=r(57203),s=r(82732),i=r(45849),o=r(36117),c=r.n(o),l=r(44344),f=r(74879),m=r(72879),p=r(26213),F=r(22043),d=r(96569),g=r(89863),_=r(92564),h=r(89922),A=r(45485),v=r(94529),I=r(73204),D=r(96132),E=r(18282),S=r(11496),b=r(32537),y=r(25764),w=function(){var e="";if("undefined"!=typeof navigator){var t=(0,F._)(navigator.language.split("-"),2);e=[t[0],t[1]].filter(Boolean).join("-")}return S.IB.includes(e)?e:S.q},P=r(87922),G={use:!1,refreshToken:"",accessToken:"",expiresAt:0,path:"",autoDropboxSync:!1},B={branch:"",owner:"",repo:"",throttle:10,token:"",use:!1},L={use:!1,sheetId:"",token:"",tokenExpiry:0},R=(0,a.v)(function(e){return{dialogs:[],dismissDialog:function(t){return e(function(e){return{dialogs:e.dialogs.filter(function(e,r){return t!==r})}})},setDialog:function(t){return e(function(e){var r=e.dialogs;return{dialogs:[t].concat((0,n._)(r))}})}}}),T=(0,a.v)(function(e){return{editFrame:null,editPalette:null,pickColors:null,editImageGroup:null,editImages:null,editRGBNImages:[],setEditFrame:function(t){return e({editFrame:t})},setEditImageGroup:function(t){return e({editImageGroup:t})},setEditPalette:function(t){return e({editPalette:t,pickColors:null})},setEditRGBNImages:function(t){return e({editRGBNImages:t})},setPickColors:function(t){return e({pickColors:t})},setEditImages:function(t){return e({editImages:t})},cancelEditFrame:function(){return e({editFrame:null})},cancelEditImageGroup:function(){return e({editImageGroup:null})},cancelEditPalette:function(){return e({editPalette:null})},cancelEditRGBNImages:function(){return e({editRGBNImages:[]})},cancelPickColors:function(){return e({pickColors:null})},cancelEditImages:function(){return e({editImages:null})}}}),N=(0,u.j)(),U=(0,a.v)(function(e,t){return{bitmapQueue:[],frameQueue:[],importQueue:[],bitmapQueueAdd:function(t){return e(function(e){var r=e.bitmapQueue;return{bitmapQueue:(0,n._)(r).concat((0,n._)(t))}})},bitmapQueueCancel:function(){return e({bitmapQueue:[]})},frameQueueAdd:function(t){return e(function(e){var r=e.frameQueue;return{frameQueue:(0,n._)(r).concat((0,n._)(t))}})},frameQueueCancelOne:function(t){return e(function(e){return{frameQueue:e.frameQueue.filter(function(e){return e.tempId!==t})}})},importQueueAdd:function(r){var a=t(),u=a.bitmapQueue,s=a.importQueue,i=r.map(function(e){return e.fileName});e({bitmapQueue:u.filter(function(e){var t=e.fileName;return!i.includes(t)}),importQueue:(0,n._)(s).concat((0,n._)(r))})},importQueueSet:function(t){e({importQueue:t})},importQueueCancel:function(){e({importQueue:[]})},importQueueCancelOne:function(t){return e(function(e){return{importQueue:e.importQueue.filter(function(e){return e.tempId!==t})}})},getImportItem:function(e){return t().importQueue.find(function(t){return t.tempId===e})||null}}}),C=(0,a.v)(function(e,t){return{downloadHashes:[],dragover:!1,errors:[],isFullscreen:!1,lightboxImage:null,printerBusy:!1,printerData:null,printerFunctions:[],showSerials:!1,syncBusy:!1,syncSelect:!1,trashBusy:!1,trashCount:{frames:0,images:0,show:!1},videoSelection:[],dismissError:function(r){return e({errors:t().errors.filter(function(e,t){return t!==r})})},setDownloadHashes:function(t){return e({downloadHashes:t})},setDragover:function(t){return e({dragover:t})},setError:function(r){return e({errors:(0,n._)(t().errors).concat([{error:r,timestamp:c()().unix(),id:(0,f.A)()}])})},setIsFullscreen:function(t){return e({isFullscreen:t})},setPrinterBusy:function(t){return e({printerBusy:t})},setPrinterData:function(t){return e({printerData:t})},setPrinterFunctions:function(t){return e({printerFunctions:t})},setShowSerials:function(t){return e({showSerials:t})},setSyncBusy:function(t){return e({syncBusy:t})},setSyncSelect:function(t){return e({syncSelect:t})},showTrashCount:function(r){return e({trashCount:(0,i._)((0,s._)({},t().trashCount),{show:r})})},setTrashBusy:function(t){return e({trashBusy:t})},updateTrashCount:function(r,n){return e({trashCount:(0,i._)((0,s._)({},t().trashCount),{frames:r,images:n})})},setVideoSelection:function(t){return e({videoSelection:t})},setLightboxImage:function(t){null===t&&l.A.isEnabled&&l.A.exit(),e({lightboxImage:t})}}}),M=(0,m.K)(),H=(0,p.r)(),Y=(0,a.v)((0,g.Zr)(function(e){return{activePalette:"bw",alwaysShowDownloadDialog:!0,bitmapQueueDither:!0,bitmapQueueSetting:_.f.WIDE,createGroup:!0,enableDebug:!1,exportFileTypes:["png"],exportScaleFactors:[4],featureFlags:[],fileNameStyle:h.B.FULL,forceMagicCheck:!1,galleryView:v.j.GALLERY_VIEW_1X,galleryClickAction:A.n.SELECT,handleExportFrame:d.H.FRAMEMODE_KEEP,hideDates:!1,importDeleted:!0,importLastSeen:!0,importPad:!1,lastBaudRate:115200,pageSize:30,preferredLocale:w(),printerParams:"",printerUrl:"",savFrameTypes:"int",savImportOrder:D.K.CART_INDEX,themeName:E.V.BRIGHT,sortPalettes:I.V.DEFAULT_DESC,useSerials:!1,videoParams:{},setActivePalette:function(t){return e({activePalette:t})},setAlwaysShowDownloadDialog:function(t){return e({alwaysShowDownloadDialog:t})},setBitmapQueueDither:function(t){return e({bitmapQueueDither:t})},setBitmapQueueSetting:function(t){return e({bitmapQueueSetting:t})},setCreateGroup:function(t){return e({createGroup:t})},setEnableDebug:function(t){return e({enableDebug:t})},setFileNameStyle:function(t){return e({fileNameStyle:t})},setForceMagicCheck:function(t){return e({forceMagicCheck:t})},setGalleryView:function(t){return e({galleryView:t})},setGalleryClickAction:function(t){return e({galleryClickAction:t})},setHandleExportFrame:function(t){return e({handleExportFrame:t})},setHideDates:function(t){return e({hideDates:t})},setImportDeleted:function(t){return e({importDeleted:t})},setImportLastSeen:function(t){return e({importLastSeen:t})},setImportPad:function(t){return e({importPad:t})},setLastBaudRate:function(t){return e({lastBaudRate:t})},setPageSize:function(t){return e({pageSize:t})},setPrinterParams:function(t){return e({printerParams:t})},setPrinterUrl:function(t){return e({printerUrl:(0,b.A)(t,"http")})},setSavFrameTypes:function(t){return e({savFrameTypes:t})},setSavImportOrder:function(t){return e({savImportOrder:t})},setThemeName:function(t){return e({themeName:t})},setSortPalettes:function(t){return e({sortPalettes:t})},setUseSerials:function(t){return e({useSerials:t})},setVideoParams:function(t){return e(function(e){return{videoParams:(0,s._)({},e.videoParams,t)}})},setExportScaleFactors:function(t){return e({exportScaleFactors:t})},setFeatureFlags:function(t,r){return e(function(e){var a=new Set(e.featureFlags);return r?a.add(t):a.delete(t),{featureFlags:(0,n._)(a)}})},setExportFileTypes:function(t){return e({exportFileTypes:t})},setPreferredLocale:function(t){S.IB.includes(t)?e({preferredLocale:t}):console.log('unknown locale "'.concat(t,'"'))}}},{name:"".concat(y.z,"-settings"),storage:(0,g.KU)(function(){return localStorage})})),x=(0,a.v)((0,g.eh)((0,g.Zr)(function(e){return{dropboxStorage:{},gitStorage:{},gapiStorage:{},syncLastUpdate:{dropbox:0,local:0},dropboxLogout:function(){return e(function(e){var t=e.dropboxStorage;return{dropboxStorage:(0,i._)((0,s._)({},G),{use:t.use,path:t.path})}})},setDropboxStorage:function(t){return e(function(e){var r=e.dropboxStorage;return{dropboxStorage:(0,s._)({},G,r,t)}})},setGitStorage:function(t){return e(function(e){var r=e.gitStorage;return{gitStorage:(0,s._)({},B,r,t)}})},setGapiSettings:function(t){return e(function(e){var r=e.gapiStorage;return{gapiStorage:(0,s._)({},L,r,t)}})},setSyncLastUpdate:function(t,r){return e(function(e){var n=e.syncLastUpdate;return{syncLastUpdate:(0,i._)((0,s._)({},n),(0,P._)({},t,r))}})}}},{name:"".concat(y.z,"-storages"),storage:(0,g.KU)(function(){return localStorage})})))},11496:(e,t,r)=>{r.d(t,{Gw:()=>s,IB:()=>u,q:()=>a});var n=r(36336),a="en-GB",u=["de-DE","en-CA",a,"en-US","fr-FR"],s=(0,n.A)(u.map(function(e){return e.split("-")[0]}))},15719:(e,t,r)=>{r.d(t,{Fv:()=>l,R2:()=>i,YP:()=>c,Ys:()=>o,dm:()=>u,g0:()=>s});var n=r(96569),a=[0,85,170,255],u='{"command":"INIT"}',s='{"command":"DATA", "compressed":0, "more":1}',i='{"command":"DATA","compressed":0,"more":0}',o='{"command":"PRNT","sheets":1,"margin_upper":1,"margin_lower":3,"pallet":228,"density":64 }',c={r:a.slice(),g:a.slice(),b:a.slice(),n:a.slice(),blend:n.Nx.MULTIPLY},l={shortName:"-",name:"Missing Palette",palette:["#aaaaaa","#999999","#888888","#777777"],isPredefined:!0,origin:"technical"}},17403:(e,t,r)=>{r.d(t,{Mg:()=>s,iy:()=>u,pl:()=>a});var n=r(45377),a=function(e){return!!(e.hasOwnProperty("hashes")&&e.hashes)},u=function(e,t){return!t||a(t)?e:(0,n._)(e).concat([t])},s=function(e,t){return t&&a(t)?(0,n._)(e).concat([t]):e}},18282:(e,t,r)=>{r.d(t,{V:()=>n});var n=function(e){return e.BRIGHT="theme-bright",e.DARK="theme-dark",e}({})},25764:(e,t,r)=>{r.d(t,{z:()=>n});var n="gbp-z-web"},26213:(e,t,r)=>{r.d(t,{F:()=>c,r:()=>l});var n=r(87922),a=r(82732),u=r(45849),s=r(45377),i=r(74879),o=r(25959),c=function(e){return e.ERROR="error",e.DONE="done",e.MESSAGE="message",e}({}),l=function(){return(0,o.v)(function(e,t){return{progress:[],progressLog:{git:[],dropbox:[]},resetProgressLog:function(){return e({progressLog:{git:[],dropbox:[]}})},startProgress:function(t){var r={id:(0,i.A)(),label:t,value:0};return e(function(e){var t=e.progress;return{progress:(0,s._)(t).concat([r])}}),r.id},setProgress:function(t,r){e(function(e){return{progress:e.progress.map(function(e){return e.id!==t?e:(0,u._)((0,a._)({},e),{value:r})})}})},stopProgress:function(t){e(function(e){return{progress:e.progress.filter(function(e){return e.id!==t})}})},setProgressLog:function(r,i){var o=t().progressLog;e({progressLog:(0,u._)((0,a._)({},o),(0,n._)({},r,[i].concat((0,s._)(o[r]))))})}}})}},30986:(e,t,r)=>{r.d(t,{A:()=>u,U:()=>a});var n=r(45377),a=function(e){return e.ASC="asc",e.DESC="desc",e}({});let u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(r){var a="desc"===t?-1:1;return(0,n._)(r).sort(function(t,r){return"string"==typeof t[e]?t[e].localeCompare(r[e]):t[e]>r[e]?a:t[e]<r[e]?-a:0})}}},32537:(e,t,r)=>{r.d(t,{A:()=>n});let n=function(e,t){if(!e.trim())return"";if("/"===e&&"ws"!==t)return e;var r=!!e.match(RegExp("^".concat(t,"(s)?:\\/\\/"),"gi"));return"".concat(r?"":"".concat(t,"://")).concat(e).concat(e.endsWith("/")?"":"/")}},36336:(e,t,r)=>{r.d(t,{A:()=>n});let n=function(e){return Array.from(new Set(e))}},37145:(e,t,r)=>{r.d(t,{A:()=>n});let n=function(e){return function(t){var r=new Set;return t.filter(function(t){var n=t[e];return!r.has(n)&&(r.add(n),!0)})}}},41175:(e,t,r)=>{r.d(t,{Bf:()=>o,R_:()=>c,mZ:()=>l});var n=r(61975),a=r(71450),u=r(73038),s=r(94468),i=r(98050),o=function(e,t){return(0,n._)(function(){var n,s,o;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(r.t.bind(r,79452,23))];case 1:return n=a.sent().default,s=JSON.stringify((0,u.I)(e,t)),[4,(0,i.K)(s)];case 2:return o=a.sent(),[2,{dataHash:n(o),compressed:o}]}})})()},c=function(e,t){return(0,n._)(function(){var r,n,u;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,o(e,t)];case 1:return n=(r=a.sent()).dataHash,u=r.compressed,[4,s.Uv.setItem(n,u)];case 2:return a.sent(),[2,n]}})})()},l=function(e){return(0,n._)(function(){var t,r,n;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(!e)return[2,null];return[4,s.Uv.getItem(e)];case 1:if(!(t=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(0,i.U)(t)];case 3:return r=a.sent(),[3,5];case 4:return a.sent(),[2,null];case 5:try{return[2,JSON.parse(r)]}catch(e){}try{return n=r.split("\n"),[2,{upper:n.slice(0,40),left:Array(14).fill(0).map(function(e,t){return n.slice(4*t+40,4*t+42)}),right:Array(14).fill(0).map(function(e,t){return n.slice(4*t+42,4*t+44)}),lower:n.slice(96,136)}]}catch(e){return[2,null]}}})})()}},45073:(e,t,r)=>{r.d(t,{X3:()=>n,mI:()=>u,rx:()=>a});var n=function(e){return e.FILTER_UNTAGGED="__filter:untagged__",e.FILTER_NEW="__filter:new__",e.FILTER_MONOCHROME="__filter:mono__",e.FILTER_RGB="__filter:rgb__",e.FILTER_RECENT="__filter:recent__",e.FILTER_FAVOURITE="__filter:favourite__",e.FILTER_COMMENTS="__filter:comments__",e.FILTER_USERNAME="__filter:username__",e}({}),a=["__filter:untagged__","__filter:new__","__filter:mono__","__filter:rgb__","__filter:recent__","__filter:favourite__","__filter:comments__","__filter:username__"],u="__new:palette__"},45485:(e,t,r)=>{r.d(t,{n:()=>n});var n=function(e){return e.SELECT="select",e.EDIT="edit",e.VIEW="view",e}({})},57203:(e,t,r)=>{r.d(t,{N:()=>m,j:()=>p});var n=r(45377),a=r(36117),u=r.n(a),s=r(25959),i=r(89863),o=r(17403),c=r(36336),l=r(37145),f=r(25764),m=function(e){return e.ADD="add",e.REMOVE="remove",e}({}),p=function(){return(0,s.v)((0,i.Zr)(function(e,t){return{filtersTags:[],filtersPalettes:[],filtersFrames:[],filtersVisible:!1,imageSelection:[],lastSelectedImage:null,recentImports:[],sortBy:"created_asc",sortOptionsVisible:!1,setFilters:function(t,r,n){e({filtersTags:t,filtersPalettes:r,filtersFrames:n,filtersVisible:!1})},setFiltersVisible:function(t){return e({filtersVisible:t})},setImageSelection:function(t){return e({imageSelection:t,lastSelectedImage:null})},setSortBy:function(t){return e({sortBy:t,sortOptionsVisible:!1})},setSortOptionsVisible:function(t){return e({sortOptionsVisible:t})},cleanRecentImports:function(r){var n=t().recentImports,a=u()().subtract(6,"hour").unix();e({recentImports:n.filter(function(e){var t=e.hash,n=e.timestamp;return r.includes(t)&&n>a})})},updateRecentImports:function(r){var a=t().recentImports,s=r.reduce(function(e,t){return(0,o.pl)(t)?e:(0,n._)(e).concat([{hash:t.hash,timestamp:u()().unix()}])},[]);e({recentImports:(0,l.A)("hash")((0,n._)(a).concat((0,n._)(s)))})},updateImageSelection:function(r,a){var u=t().imageSelection;switch(r){case"add":e({imageSelection:(0,c.A)((0,n._)(u).concat((0,n._)(a))),lastSelectedImage:a[0]});break;case"remove":e({imageSelection:u.filter(function(e){return!a.includes(e)}),lastSelectedImage:null})}}}},{name:"".concat(f.z,"-filters"),storage:(0,i.KU)(function(){return localStorage})}))}},65113:(e,t,r)=>{r.d(t,{g:()=>f,i:()=>m});var n=r(61975),a=r(82732),u=r(45849),s=r(71450),i=r(79452),o=r.n(i),c=r(94468),l=function(e){return!!e.find(function(e){return!e.hash})},f=function(e){return(0,n._)(function(){return(0,s.YH)(this,function(t){return l(e)?[2,Promise.all(e.map(function(e){return(0,n._)(function(){var t,r;return(0,s.YH)(this,function(n){switch(n.label){case 0:if(e.hash)return[2,e];return[4,c.Uv.getItem(e.id)];case 1:if(!(t=n.sent()))return console.warn("could not load frame data for hashing"),[2,e];return r=o()(t),[4,c.Uv.removeItem(e.id)];case 2:return n.sent(),[4,c.Uv.setItem(r,t)];case 3:return n.sent(),[2,(0,u._)((0,a._)({},e),{hash:r})]}})})()}))]:[2,e]})})()},m=function(e){return(0,n._)(function(){var t,r;return(0,s.YH)(this,function(i){switch(i.label){case 0:if(!(t=e).state.frames||!l(t.state.frames))return[2,e];return[4,Promise.all(t.state.frames.map(function(e){return(0,n._)(function(){var r,n,i;return(0,s.YH)(this,function(s){return e.hash?[2,e]:(n=t[r="frame-".concat(e.id)])?(i=o()(n),delete t[r],t["frame-".concat(i)]=n,[2,(0,u._)((0,a._)({},e),{hash:i})]):(console.warn("could not load ".concat(r," from json import")),[2,e])})})()}))];case 1:return r=i.sent(),[2,(0,u._)((0,a._)({},t),{state:(0,u._)((0,a._)({},t.state),{frames:r})})]}})})()}},65486:(e,t,r)=>{r.d(t,{Pu:()=>n,UU:()=>s,_C:()=>u,kD:()=>a});var n=function(e){return e.BIN_FRAMES="binFrames",e.BIN_IMAGES="binImages",e.FRAME_GROUPS="frameGroups",e.FRAMES="frames",e.IMAGE_GROUPS="imageGroups",e.IMAGES="images",e.PALETTES="palettes",e.PLUGINS="plugins",e.RGBN_IMAGES="rgbnImages",e}({}),a=["images","rgbnImages","binImages","imageGroups","frames","binFrames","frameGroups","palettes","plugins"],u="lastUpdate",s="__HASH__"},71667:(e,t,r)=>{r.d(t,{J:()=>n});var n=function(e){var t=e?new Date(e):new Date,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")};return t.getFullYear()+"-"+r(t.getMonth()+1)+"-"+r(t.getDate())+" "+r(t.getHours())+":"+r(t.getMinutes())+":"+r(t.getSeconds())+":"+r(t.getMilliseconds(),3)}},72879:(e,t,r)=>{r.d(t,{A:()=>U,K:()=>X});var n=r(61975),a=r(87922),u=r(82732),s=r(45849),i=r(45377),o=r(71450),c=r(81575),l=r.n(c),f=r(25959),m=r(89863),p=r(45073),F=r(65486),d=r(25764),g=r(41175),_=r(17403),h=r(75036),A=r(96569),v=r(15719),I=r(71667),D=r(65113),E=r(22043),S=r(32893),b=r.n(S),y=r(29832),w=r.n(y),P=r(21739),G=r(30986),B=function(e){return{images:e,rgbnImages:e,frames:e,palettes:e,plugins:e,imageGroups:e,frameGroups:e,binImages:e,binFrames:e}},L=function(e,t){var r=w().createInstance({name:"GB Printer Web",storeName:e}),a=new Map;return{dropDB:function(){return(0,n._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,r.dropInstance()];case 1:return e.sent(),[2]}})})()},loadData:function(){return(0,n._)(function(){var e;return(0,o.YH)(this,function(t){switch(t.label){case 0:return e=[],[4,r.iterate(function(t,r){var n=(0,P.tW)(t);e.push(t),a.set(r,n)})];case 1:return t.sent(),[2,e]}})})()},setData:function(e){return(0,n._)(function(){var n,u,s,i,c,l,f,m,p,F,d,g,_,h,A,v;return(0,o.YH)(this,function(o){switch(o.label){case 0:n=new Set,u=!0,s=!1,i=void 0,o.label=1;case 1:o.trys.push([1,7,8,9]),c=e[Symbol.iterator](),o.label=2;case 2:if(u=(l=c.next()).done)return[3,6];if(m=String((f=l.value)[t]),p=(0,P.tW)(f),a.get(m)===p)return[3,4];return[4,r.setItem(m,f)];case 3:o.sent(),a.set(m,p),o.label=4;case 4:n.add(m),o.label=5;case 5:return u=!0,[3,2];case 6:return[3,9];case 7:return F=o.sent(),s=!0,i=F,[3,9];case 8:try{u||null==c.return||c.return()}finally{if(s)throw i}return[7];case 9:d=!0,g=!1,_=void 0,o.label=10;case 10:o.trys.push([10,15,16,17]),h=a.keys()[Symbol.iterator](),o.label=11;case 11:if(d=(A=h.next()).done)return[3,14];if(v=A.value,n.has(v))return[3,13];return[4,r.removeItem(v)];case 12:o.sent(),a.delete(v),o.label=13;case 13:return d=!0,[3,11];case 14:return[3,17];case 15:return F=o.sent(),g=!0,_=F,[3,17];case 16:try{d||null==h.return||h.return()}finally{if(g)throw _}return[7];case 17:return[2]}})})()}}},R=function(e){var t=L("".concat(e,"--frames"),"id"),r=L("".concat(e,"--framegroups"),"id"),a=L("".concat(e,"--images"),"hash"),u=L("".concat(e,"--imagegroups"),"id"),s=L("".concat(e,"--palettes"),"shortName"),i=L("".concat(e,"--plugins"),"url"),c=(0,G.A)("shortName"),l=(0,G.A)("name"),f=(0,G.A)("id"),p=(0,G.A)("slug"),F=function(e){e.preventDefault(),e.returnValue=""},d=w().createInstance({name:"GB Printer Web",storeName:"gb-printer-web--items--root"}),g=null,_=!1,h=function(e){return(0,n._)(function(){var n,c,l,f;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(_)return g=e,[2];return window.addEventListener("beforeunload",F),_=!0,console.log("⚙️ start storing items"),n=performance.now(),c=e.state,l=e.version,[4,d.setItem("version",l)];case 1:return o.sent(),[4,d.setItem("gapiLastLocalUpdates",JSON.stringify(c.gapiLastLocalUpdates))];case 2:return o.sent(),[4,r.setData(c.frameGroups)];case 3:return o.sent(),[4,t.setData(c.frames)];case 4:return o.sent(),[4,a.setData(c.images)];case 5:return o.sent(),[4,u.setData(c.imageGroups)];case 6:return o.sent(),[4,s.setData(c.palettes)];case 7:return o.sent(),[4,i.setData(c.plugins)];case 8:if(o.sent(),console.log("⚙️ saved in ".concat((performance.now()-n).toFixed(2),"ms")),_=!1,!g)return[3,10];return f=g,g=null,[4,h(f)];case 9:o.sent(),o.label=10;case 10:return window.removeEventListener("beforeunload",F),[2]}})})()},A=(0,m.KU)(function(){return localStorage});return{getItem:function(e){return(0,n._)(function(){var m,F,g;return(0,o.YH)(this,function(_){switch(_.label){case 0:return[4,Promise.all([(0,n._)(function(){var e,m,F,g;return(0,o.YH)(this,function(_){switch(_.label){case 0:return[4,(0,n._)(function(){return(0,o.YH)(this,function(e){try{return[2,d.getItem("version")]}catch(e){return[2,null]}})})()];case 1:if("number"!=typeof(e=_.sent()))return[2,null];return console.log("⚙️ start loading items"),m=performance.now(),g={},[4,r.loadData()];case 2:return g.frameGroups=_.sent(),[4,t.loadData()];case 3:return g.frames=f.apply(void 0,[_.sent()]),[4,u.loadData()];case 4:return g.imageGroups=p.apply(void 0,[_.sent()]),[4,a.loadData()];case 5:return g.images=_.sent(),[4,s.loadData()];case 6:return g.palettes=c.apply(void 0,[_.sent()]),[4,i.loadData()];case 7:return g.plugins=l.apply(void 0,[_.sent()]),[4,(0,n._)(function(){var e;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,d.getItem("gapiLastLocalUpdates")];case 1:if(!(e=t.sent()))return[2,B(0)];return[2,JSON.parse(e||"null")||B(0)]}})})()];case 8:return g.gapiLastLocalUpdates=_.sent(),F=g,console.log("⚙️ loaded in ".concat((performance.now()-m).toFixed(2),"ms")),[2,{state:F,version:e}]}})})(),A.getItem(e)])];case 1:if(F=(m=E._.apply(void 0,[_.sent(),2]))[0],g=m[1],(null==F?void 0:F.state.images.length)!==(null==g?void 0:g.state.images.length)&&console.warn("indexedDB images: ".concat(null==F?void 0:F.state.images.length,"\njsonStorage images: ").concat(null==g?void 0:g.state.images.length)),!F)return console.warn("could not load items from indexedDB - falling back to localStorage"),[2,g];return[2,F]}})})()},setItem:function(e,t){return(0,n._)(function(){var r;return(0,o.YH)(this,function(n){switch(n.label){case 0:return console.log("⚙️ Items storage will use roughly ".concat(b()(JSON.stringify(t).length))),[4,Promise.allSettled([Promise.resolve().then(function(){return A.setItem(e,t)}),h(t)])];case 1:return"rejected"===(r=n.sent())[0].status&&console.warn("Error: jsonStorage.setItem failed:",r[0].reason),"rejected"===r[1].status&&console.warn("Error: storeRootData failed:",r[1].reason),[2]}})})()},removeItem:function(){return(0,n._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,Promise.all([r.dropDB(),t.dropDB(),u.dropDB(),a.dropDB(),s.dropDB(),i.dropDB(),d.dropInstance()])];case 1:return e.sent(),[2]}})})()}}},T=r(36336),N=r(37145),U=1,C=(0,N.A)("id"),M=(0,N.A)("id"),H=(0,N.A)("id"),Y=(0,N.A)("url"),x=(0,G.A)("id"),O=(0,N.A)("shortName"),V=(0,G.A)("name"),k=(0,N.A)("hash"),Q=function(e){return x(C(e))},K=function(e){return V(Y(e))},W=function(e){return O((0,i._)(l().map(function(e){return(0,s._)((0,u._)({},e),{isPredefined:!0})})).concat((0,i._)(e)))},j=function(e,t,r){var n=e().gapiLastLocalUpdates,a="number"==typeof r?r:Date.now(),s=(0,u._)({},n);return t.forEach(function(e){s[e]=a}),{gapiLastLocalUpdates:s}},X=function(){return(0,f.v)()((0,m.Zr)(function(e,t){return{frames:[],palettes:[],frameGroups:[],plugins:[],imageGroups:[],images:[],gapiLastLocalUpdates:B(0),addFrames:function(r){return e(function(e){return(0,u._)({frames:Q((0,i._)(r).concat((0,i._)(e.frames)))},j(t,[F.Pu.FRAMES]))})},addPalettes:function(r){var n=t().palettes,a=r.reduce(function(e,t){return n.find(function(e){return e.shortName===t.shortName})?{update:(0,i._)(e.update).concat([t]),add:e.add}:{update:e.update,add:(0,i._)(e.add).concat([t])}},{add:[],update:[]}),s=a.update,o=a.add;e((0,u._)({palettes:O((0,i._)(o).concat((0,i._)(n.map(function(e){return s.find(function(t){return t.shortName===e.shortName})||e}))))},j(t,[F.Pu.PALETTES])))},deleteFrame:function(r){return e(function(e){var n=e.frames;return(0,u._)({frames:Q(n.filter(function(e){return r!==e.id}))},j(t,[F.Pu.FRAMES]))})},deletePalette:function(r){return e(function(e){var n=e.palettes;return(0,u._)({palettes:n.filter(function(e){return r!==e.shortName})},j(t,[F.Pu.PALETTES]))})},deletePlugin:function(r){return e(function(e){var n=e.plugins;return(0,u._)({plugins:K(n.filter(function(e){return r!==e.url}))},j(t,[F.Pu.PLUGINS]))})},updateFrameGroups:function(r){return e(function(e){return(0,u._)({frameGroups:M((0,i._)(r).concat((0,i._)(e.frameGroups)))},j(t,[F.Pu.FRAME_GROUPS]))})},updatePluginConfig:function(r,n,i){var o=t().plugins,c=o.find(function(e){return e.url===r});if(!c)throw Error('Plugin "'.concat(r,'" not found'));var l=c,f=(0,s._)((0,u._)({},l.config||{}),(0,a._)({},n,i));return l=(0,s._)((0,u._)({},l),{config:f}),e((0,u._)({plugins:o.map(function(e){return e.url!==r?e:l})},j(t,[F.Pu.PLUGINS]))),f},addUpdatePluginProperties:function(r){var n=t().plugins,a=(0,i._)(n);n.find(function(e){var t=e.url;return r.url===t})||a.push(r),e((0,u._)({plugins:K(a.map(function(e){return e.url!==r.url?e:(0,u._)({},e,r)}))},j(t,[F.Pu.PLUGINS])))},addImageGroup:function(r,n){var a=t().imageGroups.map(function(e){var t=e.images.filter(function(e){return!r.images.includes(e)}),a=e.id===n?(0,i._)(e.groups).concat([r.id]):e.groups;return(0,s._)((0,u._)({},e),{groups:a,images:t})});e((0,u._)({imageGroups:H((0,i._)(a).concat([r]))},j(t,[F.Pu.IMAGE_GROUPS])))},deleteImageGroup:function(r){var n=t().imageGroups,a=n.find(function(e){return e.id===r});if(a){var o=n.reduce(function(e,t){return t.id===r?e:t.groups.includes(r)?(0,i._)(e).concat([(0,s._)((0,u._)({},t),{images:(0,i._)(t.images).concat((0,i._)(a.images)),groups:(0,i._)(t.groups).concat((0,i._)(a.groups)).filter(function(e){return e!==a.id})})]):(0,i._)(e).concat([t])},[]);e((0,u._)({imageGroups:o},j(t,[F.Pu.IMAGE_GROUPS])))}},updateImageGroup:function(r,n){var a=t().imageGroups.map(function(e){var t=(0,u._)({},e);return t.groups=t.groups.filter(function(e){return e!==r.id}),n===t.id&&(t.groups=(0,i._)(t.groups).concat([r.id])),t.id===r.id?r:t});e((0,u._)({imageGroups:a},j(t,[F.Pu.IMAGE_GROUPS])))},groupImagesAdd:function(r,n){return e(function(e){return(0,u._)({imageGroups:e.imageGroups.map(function(e){return e.id===r?(0,s._)((0,u._)({},e),{images:(0,i._)(e.images).concat((0,i._)(n))}):(0,s._)((0,u._)({},e),{images:e.images.filter(function(e){return!n.includes(e)})})})},j(t,[F.Pu.IMAGE_GROUPS]))})},ungroupImages:function(r){return e(function(e){return(0,u._)({imageGroups:e.imageGroups.map(function(e){return(0,s._)((0,u._)({},e),{images:e.images.filter(function(e){return!r.includes(e)})})})},j(t,[F.Pu.IMAGE_GROUPS]))})},addImages:function(r){return e(function(e){return(0,u._)({images:k((0,i._)(e.images).concat((0,i._)(r)))},j(t,[F.Pu.IMAGES,F.Pu.RGBN_IMAGES]))})},deleteImages:function(r){return e(function(e){return(0,u._)({images:(0,i._)(e.images.filter(function(e){var t=e.hash;return!r.includes(t)}))},j(t,[F.Pu.IMAGES,F.Pu.RGBN_IMAGES]))})},updateImageFavouriteTag:function(r,n){return e(function(e){return(0,u._)({images:e.images.map(function(e){return e.hash===n?(0,s._)((0,u._)({},e),{tags:(0,T.A)(r?[p.X3.FILTER_FAVOURITE].concat((0,i._)(e.tags)):e.tags.filter(function(e){return e!==p.X3.FILTER_FAVOURITE}))}):e})},j(t,[F.Pu.IMAGES,F.Pu.RGBN_IMAGES]))})},updateImages:function(r){return e(function(e){var n=new Map(r.map(function(e){return[e.hash,e]}));return(0,u._)({images:e.images.map(function(e){return n.get(e.hash)||e})},j(t,[F.Pu.IMAGES,F.Pu.RGBN_IMAGES]))})},updateFrames:function(r){return e(function(e){console.log("updateFrames",r);var n=new Map(r.map(function(e){return[e.hash,e]}));return(0,u._)({frames:e.frames.map(function(e){return n.get(e.hash)||e})},j(t,[F.Pu.FRAMES]))})},setFrames:function(r,n){return e((0,u._)({frames:C(r)},j(t,[F.Pu.FRAMES],n)))},setFrameGroups:function(r,n){return e((0,u._)({frameGroups:M(r)},j(t,[F.Pu.FRAME_GROUPS],n)))},setImages:function(r,n){return e((0,u._)({images:k(r)},j(t,[F.Pu.IMAGES,F.Pu.RGBN_IMAGES],n)))},setImageGroups:function(r,n){return e((0,u._)({imageGroups:r},j(t,[F.Pu.IMAGE_GROUPS],n)))},setPalettes:function(r,n){return e((0,u._)({palettes:W(r)},j(t,[F.Pu.PALETTES],n)))},setPlugins:function(r,n){return e((0,u._)({plugins:Y(r)},j(t,[F.Pu.PLUGINS],n)))},setLastUpdate:function(r,n){return e((0,u._)({},j(t,[r],n)))}}},{name:"".concat(d.z,"-items"),storage:R("gb-printer-web--items"),merge:function(e,t){var r=(0,u._)({},t,e);return(0,s._)((0,u._)({},r),{palettes:W(r.palettes),plugins:r.plugins.map(function(e){return(0,s._)((0,u._)({},e),{loading:!1})})})},partialize:function(e){return{frames:e.frames,frameGroups:e.frameGroups,imageGroups:e.imageGroups,images:e.images,plugins:e.plugins.map(function(e){return(0,s._)((0,u._)({},e),{loading:void 0,error:void 0})}),palettes:e.palettes.filter(function(e){return!e.isPredefined}),gapiLastLocalUpdates:e.gapiLastLocalUpdates}},onRehydrateStorage:function(){return function(e){e&&(0,n._)(function(){var t,r,n,a,i,c,l,f,m,p,F,d,A,v,I,D,E,S,b,y,w,P;return(0,o.YH)(this,function(o){switch(o.label){case 0:t=e.images,r=e.updateImages,n=e.frames,a=e.updateFrames,i=[],c=t.reduce(_.iy,[]),l=!0,f=!1,m=void 0,o.label=1;case 1:o.trys.push([1,6,7,8]),p=c[Symbol.iterator](),o.label=2;case 2:if(l=(F=p.next()).done)return[3,5];if((d=F.value).lines)return[3,4];return[4,(0,h.Hh)(d.hash,"",!0)];case 3:(null==(A=o.sent())?void 0:A.length)&&i.push((0,s._)((0,u._)({},d),{lines:A.length})),o.label=4;case 4:return l=!0,[3,2];case 5:return[3,8];case 6:return v=o.sent(),f=!0,m=v,[3,8];case 7:try{l||null==p.return||p.return()}finally{if(f)throw m}return[7];case 8:i.length&&r(i),I=[],D=!0,E=!1,S=void 0,o.label=9;case 9:o.trys.push([9,14,15,16]),b=n[Symbol.iterator](),o.label=10;case 10:if(D=(y=b.next()).done)return[3,13];if((w=y.value).lines)return[3,12];return[4,(0,g.mZ)(w.hash)];case 11:(P=o.sent())&&I.push((0,s._)((0,u._)({},w),{lines:P.upper.length+20*P.left.length+P.lower.length})),o.label=12;case 12:return D=!0,[3,10];case 13:return[3,16];case 14:return v=o.sent(),E=!0,S=v,[3,16];case 15:try{D||null==b.return||b.return()}finally{if(E)throw S}return[7];case 16:return I.length&&a(I),[2]}})})()}},version:U,migrate:function(e,t){return(0,n._)(function(){var r;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(0!==t)return[3,2];return[4,(0,n._)(function(){var t,r,n,a,i,c,l,f;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(f={},!(null==(t=(l=e).frames)?void 0:t.length))return[3,2];return[4,(0,D.g)(l.frames)];case 1:f.frames=o.sent(),o.label=2;case 2:return(null==(r=l.frameGroupNames)?void 0:r.length)&&(f.frameGroups=l.frameGroupNames),(null==(n=l.palettes)?void 0:n.length)&&(f.palettes=l.palettes),(null==(a=l.plugins)?void 0:a.length)&&(f.plugins=l.plugins),(null==(i=l.imageGroups)?void 0:i.length)&&(f.imageGroups=l.imageGroups),(null==(c=l.images)?void 0:c.length)&&(f.images=l.images.map(function(e){return(0,s._)((0,u._)({},e),{created:(0,I.J)(e.created)})}).map(function(e){return(0,s._)((0,u._)({},e),{tags:e.tags||[]})}).map(function(e){if((0,_.pl)(e)){var t=(0,u._)({},e);return t.palette||Object.assign(t,{palette:v.YP}),t.palette.blend||Object.assign(t.palette,{blend:A.Nx.MULTIPLY}),t.frame=e.frame||void 0,t}var r=(0,u._)({},e);return void 0===r.framePalette&&(r.lockFrame?r.framePalette="bw":r.framePalette=r.palette),void 0===r.lockFrame&&(r.lockFrame=!1),void 0===r.invertFramePalette&&(r.invertFramePalette=r.invertPalette),r.frame=e.frame||void 0,r})),[2,f]}})})()];case 1:r=a.sent(),a.label=2;case 2:return[2,r]}})})()}}))}},73038:(e,t,r)=>{r.d(t,{I:()=>a});var n=function(e){return e.toUpperCase()},a=function(e,t){var r=e.slice(0,20*t).map(n),a=e.slice((t+14)*20).map(n);return{upper:r,left:Array(14).fill(0).map(function(r,a){var u=(a+t)*20;return e.slice(u,u+2).map(n)}),right:Array(14).fill(0).map(function(r,a){var u=(a+t)*20;return e.slice(u+18,u+20).map(n)}),lower:a}}},73204:(e,t,r)=>{r.d(t,{V:()=>n});var n=function(e){return e.DEFAULT_ASC="default_asc",e.DEFAULT_DESC="default_desc",e.USAGE_ASC="usage_asc",e.USAGE_DESC="usage_desc",e.NAME_ASC="name_asc",e.NAME_DESC="name_desc",e}({})},75036:(e,t,r)=>{r.d(t,{cg:()=>l,yH:()=>p,t9:()=>F,Hh:()=>m,UN:()=>f});var n=r(61975),a=r(71450),u=r(6818),s=r(94468),i=r(98050),o=r(86331);let c=function(e){var t="\nThe following hash is missing in\nyour indexedDb:\n".concat(e,"\n\nEither you imported a debug dump\nor your browser decided to do a\ncleanup.\n\nThis image might be able to be\nrecovered if you have set up git\nor dropbox sync.\n").trim();return(0,o.A)(t)};var l=function(e){return(0,n._)(function(){var t,n,u;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(r.t.bind(r,79452,23))];case 1:return t=a.sent().default,n=e.map(function(e){return e.replace(/ /gi,"").toUpperCase()}).join("\n"),[4,(0,i.K)(n)];case 2:return u=a.sent(),[2,{dataHash:t(u),compressed:u}]}})})()},f=function(e){return(0,n._)(function(){var t,r,n;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,l(e)];case 1:return r=(t=a.sent()).dataHash,n=t.compressed,[4,s.mU.setItem(r,n)];case 2:return a.sent(),[2,r]}})})()},m=function(e,t,r,o){return(0,n._)(function(){var n,l;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(!e)return[2,null];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,s.mU.getItem(e)];case 2:if(!(n=a.sent()))throw Error("missing imagedata");return[4,(0,i.U)(n)];case 3:if(l=a.sent().split("\n"),!t)return[2,l];return[2,(0,u.A)(l,t)];case 4:return a.sent(),"function"==typeof o&&o(e),[2,r?[]:c(e)];case 5:return[2]}})})()},p=function(e){return(0,n._)(function(){return(0,a.YH)(this,function(t){return[2,s.mU.removeItem(e)]})})()},F=function(e){return(0,n._)(function(){return(0,a.YH)(this,function(t){return[2,s.Uv.removeItem(e)]})})()}},81200:(e,t,r)=>{r.d(t,{N:()=>a});var n=r(45377),a=function(e,t){return t?(0,n._)(e).concat([t]):e}},86331:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(45377),a={"":"006666666600FFFF"," ":"FFFFFFFFFFFFFFFF",0:"FFDDAAAAAADDFFFF",1:"FFDD99DDDDDDFFFF",2:"FF99EEDDBB88FFFF",3:"FF99EE99EE99FFFF",4:"FFDDBBBB88EEFFFF",5:"FF88BB99EE99FFFF",6:"FFCCBB99AADDFFFF",7:"FF88EEDDBBBBFFFF",8:"FFDDAADDAADDFFFF",9:"FFDDAACCEE99FFFF",a:"FFDDAAAA88AAFFFF",b:"FF99AA99AA99FFFF",c:"FFCCBBBBBBCCFFFF",d:"FF99AAAAAA99FFFF",e:"FF88BB99BB88FFFF",f:"FF88BB99BBBBFFFF",g:"FFCCBBAAAACCFFFF",h:"FFAAAA88AAAAFFFF",i:"FF88DDDDDD88FFFF",j:"FF99DDDDDDBBFFFF",k:"FFAAAA99AAAAFFFF",l:"FFBBBBBBBB88FFFF",m:"FFAA888AAAAAFFFF",n:"FFAA8A888AAAFFFF",o:"FFDDAAAAAADDFFFF",p:"FF99AA99BBBBFFFF",q:"FFDDAAAAAACCFFFF",r:"FF99AA99AAAAFFFF",s:"FFCCBBDDEE99FFFF",t:"FF88DDDDDDDDFFFF",u:"FFAAAAAAAACCFFFF",v:"FFAAAAAAAADDFFFF",w:"FFAAAA8A88AAFFFF",x:"FFAAAADDAAAAFFFF",y:"FFAAAADDDDDDFFFF",z:"FF88EEDDBB88FFFF",ä:"AADDAAAA88AAFFFF",ö:"AADDAAAAAADDFFFF",ü:"AAAFAAAAAACCFFFF",ß:"FF99AA99AA99BBFF",".":"FFFFFFFFFFDDFFFF","!":"DDDDDDDDFFDDFFFF","?":"DDAAEEDDFFDDFFFF","-":"FFFFFF88FFFFFFFF",_:"FFFFFFFFFF88FFFF",":":"FFFFDDFFDDFFFFFF"};let u=function(e){var t=(0,n._)(e.toString(10).toLowerCase().split("")).concat([" "," "]),r=t.shift()||"",u=t.shift()||"",s=a[r]||a[""],i=a[u]||a[""];return(0,n._)(Array(16)).map(function(e,t){return"".concat(s[t]).concat(i[t])}).join("")};var s="FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\n";let i=function(e){var t=[],r=e.split("\n").map(function(e){return e.match(/.{1,32}/g)}).flat().map(function(e){return e||""}).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.padEnd(32," ")}).map(function(e){var t;return(null==(t=e.match(/.{1,2}/g))?void 0:t.map(function(e){return u(e)}))||[]}).map(function(e){return[s,s].concat((0,n._)(e),[s,s])}).flat();for(t.push.apply(t,(0,n._)((0,n._)(Array(40)).map(function(){return s}))),t.push.apply(t,(0,n._)(r));t.length<360;)t.push(s);return t}},89922:(e,t,r)=>{r.d(t,{B:()=>n,y:()=>a});var n=function(e){return e.FULL="FULL",e.TITLE_ONLY="TITLE_ONLY",e.DATE_TITLE="DATE_TITLE",e}({}),a=[{id:"FULL",name:"filenameStyles.fullTitle"},{id:"DATE_TITLE",name:"filenameStyles.dateTitle"},{id:"TITLE_ONLY",name:"filenameStyles.titleOnly"}]},92564:(e,t,r)=>{r.d(t,{C:()=>a,f:()=>n});var n=function(e){return e.WIDER="wider",e.WIDE="wide",e.NORMAL="normal",e.NARROW="narrow",e.NARROWER="narrower",e.EMULATOR="emulator",e}({}),a=[{translationKey:"contrastSettings.wider",baseValues:[0,68,187,255],value:"wider"},{translationKey:"contrastSettings.wide",baseValues:[0,85,170,255],value:"wide"},{translationKey:"contrastSettings.normal",baseValues:[51,102,153,204],value:"normal"},{translationKey:"contrastSettings.narrow",baseValues:[69,115,162,208],value:"narrow"},{translationKey:"contrastSettings.narrower",baseValues:[85,113,141,170],value:"narrower"},{translationKey:"contrastSettings.emulator",baseValues:[64,144,224,255],value:"emulator"}]},94468:(e,t,r)=>{r.d(t,{Uv:()=>p,mU:()=>m,ZU:()=>F});var n=r(61975),a=r(71450),u=r(65486),s=r(29832),i=r.n(s),o=r(10022),c=r(81200),l="dummy".concat(new Date().getTime());let f=function(e,t){var r=i().createInstance(e);return{ready:function(){return(0,n._)(function(){var t;return(0,a.YH)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,r.ready()];case 1:return u.sent(),[2,(0,n._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,r.setItem(l,l)];case 1:return e.sent(),[4,r.removeItem(l)];case 2:return e.sent(),[2]}})})()];case 2:throw t=u.sent(),r=i().createInstance(e),t;case 3:return[2]}})})()},keys:function(){return(0,n._)(function(){return(0,a.YH)(this,function(t){try{return[2,r.keys()]}catch(t){throw r=i().createInstance(e),t}})})()},driver:function(){return(0,n._)(function(){var t;return(0,a.YH)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,r.driver()];case 1:return[2,n.sent()];case 2:throw t=n.sent(),r=i().createInstance(e),t;case 3:return[2]}})})()},setItem:function(u,s){return(0,n._)(function(){var n,c;return(0,a.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,r.setItem(u,s)];case 1:return n=a.sent(),o.Vs.getState().setLastUpdate(t),[2,n];case 2:throw c=a.sent(),r=i().createInstance(e),c;case 3:return[2]}})})()},getItem:function(t){return(0,n._)(function(){var n;return(0,a.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,r.getItem(t)];case 1:return[2,a.sent()];case 2:throw n=a.sent(),r=i().createInstance(e),n;case 3:return[2]}})})()},removeItem:function(u){return(0,n._)(function(){var n;return(0,a.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,r.removeItem(u)];case 1:return a.sent(),o.Vs.getState().setLastUpdate(t),[3,3];case 2:throw n=a.sent(),r=i().createInstance(e),n;case 3:return[2]}})})()},getSyncItems:function(){return(0,n._)(function(){var t;return(0,a.YH)(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,r.keys()];case 1:return[4,Promise.all(u.sent().map(function(e){return(0,n._)(function(){var t;return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,r.getItem(e)];case 1:if("string"!=typeof(t=n.sent()))return[2,null];return[2,{hash:e,data:btoa(t)}]}})})()}))];case 2:return[2,u.sent().reduce(c.N,[])];case 3:throw t=u.sent(),r=i().createInstance(e),t;case 4:return[2]}})})()},setSyncItems:function(t,u){return(0,n._)(function(){var n,s,o,c,l,f,m,p,F,d,g,_,h,A,v,I,D,E,S,b;return(0,a.YH)(this,function(a){switch(a.label){case 0:n=new Set,a.label=1;case 1:a.trys.push([1,22,,23]),s=!0,o=!1,c=void 0,a.label=2;case 2:a.trys.push([2,7,8,9]),l=t[Symbol.iterator](),a.label=3;case 3:if(s=(f=l.next()).done)return[3,6];return p=(m=f.value).hash,F=m.data,[4,r.setItem(p,atob(F))];case 4:a.sent(),n.add(p),a.label=5;case 5:return s=!0,[3,3];case 6:return[3,9];case 7:return d=a.sent(),o=!0,c=d,[3,9];case 8:try{s||null==l.return||l.return()}finally{if(o)throw c}return[7];case 9:if(u)return[3,21];return[4,r.keys()];case 10:return g=a.sent().filter(function(e){return!n.has(e)}),_=console.log,[4,r.keys()];case 11:_.apply(console,[a.sent().length]),h=!0,A=!1,v=void 0,a.label=12;case 12:a.trys.push([12,17,18,19]),I=g[Symbol.iterator](),a.label=13;case 13:if(h=(D=I.next()).done)return[3,16];return E=D.value,console.log("deleting ".concat(E)),[4,r.removeItem(E)];case 14:a.sent(),a.label=15;case 15:return h=!0,[3,13];case 16:return[3,19];case 17:return d=a.sent(),A=!0,v=d,[3,19];case 18:try{h||null==I.return||I.return()}finally{if(A)throw v}return[7];case 19:return S=console.log,[4,r.keys()];case 20:S.apply(console,[a.sent().length]),a.label=21;case 21:return[3,23];case 22:throw b=a.sent(),r=i().createInstance(e),b;case 23:return[2]}})})()}}};var m=f({name:"GB Printer Web",storeName:"gb-printer-web-images"},u.Pu.BIN_IMAGES),p=f({name:"GB Printer Web",storeName:"gb-printer-web-frames"},u.Pu.BIN_FRAMES);window.lfi=m,window.lff=p;var F=function(){return(0,n._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,p.ready()];case 1:return e.sent(),[4,m.ready()];case 2:return e.sent(),[4,new Promise(function(e){window.setTimeout(e,5)})];case 3:return e.sent(),[2]}})})()}},94529:(e,t,r)=>{r.d(t,{j:()=>n});var n=function(e){return e.GALLERY_VIEW_SMALL="small",e.GALLERY_VIEW_1X="1x",e.GALLERY_VIEW_2X="2x",e.GALLERY_VIEW_MAX="max",e.PALETTE_VIEW="res2x",e}({})},96132:(e,t,r)=>{r.d(t,{K:()=>n,o:()=>a});var n=function(e){return e.CART_INDEX="CART_INDEX",e.RAM_INDEX="RAM_INDEX",e}({}),a=[{translationKey:"importOrders.cartIndex",value:"CART_INDEX"},{translationKey:"importOrders.ramIndex",value:"RAM_INDEX"}]},98050:(e,t,r)=>{r.d(t,{K:()=>o,U:()=>i});var n=r(61975),a=r(71450),u=r(4810),s=r.n(u),i=function(e){return(0,n._)(function(){return(0,a.YH)(this,function(t){return[2,s().inflate(e,{to:"string"})]})})()},o=function(e){return(0,n._)(function(){return(0,a.YH)(this,function(t){return[2,s().deflate(e,{to:"string",strategy:1,level:8})]})})()}}}]);