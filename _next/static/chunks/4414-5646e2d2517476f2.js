"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4414],{933:(e,t,n)=>{n.d(t,{E:()=>u});var r,a=n(97004),i=n(39249),o=n(24463),u=function(e,t){var u,l,s,c,d=(u=(0,a._)(function(){var a;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(r)return[3,2];return[4,Promise.all([n.e(9268),n.e(7431),n.e(1575)]).then(n.bind(n,94979))];case 1:a=i.sent().dropBoxSyncTool,r=r||a(e,t),i.label=2;case 2:return[2,r]}})}),function(){return u.apply(this,arguments)});return o.A.getState().dropboxStorage.use&&d(),{recoverImageData:(l=(0,a._)(function(e){return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,d()];case 1:return[2,t.sent().recoverImageData(e)]}})}),function(e){return l.apply(this,arguments)}),startAuth:(0,a._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return[4,d()];case 1:return[2,e.sent().startAuth()]}})}),startSyncData:(s=(0,a._)(function(e){return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,d()];case 1:return[2,t.sent().startSyncData(e)]}})}),function(e){return s.apply(this,arguments)}),startSyncImages:(0,a._)(function(){return(0,i.YH)(this,function(e){switch(e.label){case 0:return[4,d()];case 1:return[2,e.sent().startSyncImages()]}})}),updateSettings:(c=(0,a._)(function(e){return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,d()];case 1:return[2,t.sent().updateSettings(e)]}})}),function(e){return c.apply(this,arguments)}),subscribe:function(){var e;return o.A.subscribe(function(e){return e.dropboxStorage},(e=(0,a._)(function(e){return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,d()];case 1:return t.sent().updateSettings(e),[2]}})}),function(t){return e.apply(this,arguments)}))}}}},9718:(e,t,n)=>{n.d(t,{_Y:()=>a,k4:()=>i,qt:()=>r});var r=function(e){return e.USB="USB",e.SERIAL="SERIAL",e}({}),a=function(e){return e.INACTIVE="inactive",e.PACKET_CAPTURE="packet_capture",e.SUPER_PRINTER_INTERFACE="super_printer_interface",e.GBXCART="gbxcart",e}({}),i=[{vendorId:9025,productId:32822},{vendorId:9025,productId:32823},{vendorId:9025,productId:32845},{vendorId:9025,productId:32846},{vendorId:9025,productId:32847},{vendorId:9025,productId:32848},{vendorId:9025,productId:32850},{vendorId:9025,productId:32851},{vendorId:9025,productId:32852},{vendorId:9025,productId:32853},{vendorId:9025,productId:32854},{vendorId:9025,productId:32855},{vendorId:9114}]},15821:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(78538),a=n(44054),i=n(95155),o=n(69242),u=n(54581),l=n(7642),s=n(36114),c=n(71977),d=n(99927),f=n(54492),p=n(3127),h=n(71803),v=n(16324),m=n(27943),g=n(17652),I=n(12115);let E=function(e){var t=e.confirm,n=e.canConfirm,r=e.deny;(0,I.useEffect)(function(){var e=function(e){"Escape"===e.key&&r&&r(),"Enter"===e.key&&e.ctrlKey&&t&&n&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[t,n,r])};var b=function(e,t,n,r){var i={};if(r?(i.padding="8px !important",i.overflowX="hidden",i.overflowY="hidden"):(i.scrollbarGutter="stable",i.overflowY="scroll"),n)return i;switch(void 0===t?"undefined":(0,a._)(t)){case"string":i.height=t;break;case"number":i.height="".concat(t,"px")}switch(void 0===e?"undefined":(0,a._)(e)){case"string":i.width=e;break;case"number":i.width="".concat(e,"px");break;default:i.width="440px"}return i};let w=function(e){var t=e.contentHeight,n=e.contentWidth,a=e.header,w=e.closeTitle,A=e.children,_=e.confirm,T=e.deny,x=e.canConfirm,P=e.headerOnly,S=e.fullSize,y=e.open,C=e.keepMounted,R=e.closeOnOverlayClick,k=e.headerActionButtons,F=e.actionButtons,N=(0,g.c3)("Lightbox"),D=(0,r._)((0,I.useState)(),2),M=D[0],G=D[1];E({confirm:_,canConfirm:x||!1,deny:T}),(0,I.useEffect)(function(){G(document.body)},[]);var L=(0,v.A)(),j=(0,m.A)(L.breakpoints.down("md")),W=b(n,t,j,S),H=N(_?"cancel":"close"),O=N("ok");return(0,i.jsxs)(s.A,{container:M,fullScreen:j||S,maxWidth:"lg",open:"boolean"!=typeof y||y,onClose:T,"aria-label":"string"==typeof a?a:void 0,keepMounted:"boolean"!=typeof C||C,disableEscapeKeyDown:!("boolean"!=typeof R||R),sx:{paddingRight:"10px"},children:[(0,i.jsxs)(f.A,{sx:{display:"flex",justifyContent:"space-between",gap:2,maxWidth:W.width},children:[(0,i.jsx)(u.A,{sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},title:a,children:a}),(0,i.jsxs)(h.A,{direction:"row",sx:{my:-.5,mr:-2},children:[k,T?(0,i.jsx)(p.A,{title:w||N("closeWithHeader",{header:"string"==typeof a?a:""}),color:"inherit",onClick:T,children:(0,i.jsx)(o.A,{})}):null]})]}),!P&&(0,i.jsx)(d.A,{sx:W,children:A}),(0,i.jsxs)(c.A,{children:[F,T?(0,i.jsx)(l.A,{onClick:T,color:"primary",variant:"outlined",children:H}):null,_?(0,i.jsx)(l.A,{disabled:!1===x,color:"primary",variant:"contained",onClick:_,children:O}):null]})]})}},23624:(e,t,n)=>{n.d(t,{f:()=>h});var r=n(12115),a=n(5432),i=n(95939),o=n(3381),u=n(71620),l=n(78948),s=n(52166),c=n(66785),d=n(18335),f=n(86964),p=n(55364),h=function(e){var t=(0,o.A)().setEditImages,n=(0,s.A)().pageSize,h=(0,u.A)(),v=h.filtersTags,m=h.filtersFrames,g=h.filtersPalettes,I=h.sortBy,E=h.recentImports,b=h.imageSelection,w=h.updateImageSelection,A=h.lastSelectedImage,_=h.setImageSelection,T=(0,l.h)(),x=T.palettes,P=T.images,S=b.indexOf(e),y=(0,r.useMemo)(function(){var t,n=P.find(function(t){return t.hash===e}),r=[];if(!n)return null;var i=(0,d.s)(x,n),o=i.palette,u=i.framePalette,l=(0,f.f)(n),s=l.invertPalette,c=l.invertFramePalette;if(!o)throw Error("Palette missing?");return(0,p.pl)(n)?t=o:(t=(o||a.Fv).palette,r=(u||a.Fv).palette),{title:n.title,created:n.created,frame:n.frame,hashes:n.hashes||void 0,tags:n.tags,palette:t,framePalette:r,lockFrame:n.lockFrame,invertPalette:s,invertFramePalette:c,rotation:n.rotation,selectionIndex:S}},[e,S,x,P]),C=(0,i.Z)(),R=C.view,k=C.covers;return{galleryImageData:y,updateImageSelection:(0,r.useCallback)(function(t,r,a){if(r){var i=(0,c.S)(R,{filtersTags:v,filtersFrames:m,filtersPalettes:g,sortBy:I,recentImports:E}).filter(function(e){return!k.includes(e.hash)}),o=i.findIndex(function(t){return t.hash===e}),u=i.findIndex(function(e){return e.hash===A});-1===u&&(u=a*n);var l=Math.min(u,o),s=Math.max(u,o);_(i.slice(l,s+1).map(function(e){return e.hash}))}else w(t,[e])},[k,m,g,v,e,A,n,E,_,I,w,R]),editImage:function(n){t({tags:n,batch:[e]})}}}},23747:(e,t,n)=>{n.d(t,{Ay:()=>b,BF:()=>g,Ll:()=>m});var r=n(97004),a=n(693),i=n(60376),o=n(78538),u=n(39249),l=n(12115),s=n(95939),c=n(7119),d=n(3381),f=n(71620),p=n(78948),h=n(80360),v=n(46594),m="NEW_GROUP",g=function(e){return e.trim().replace(/[^A-Z0-9_-]+/gi,"_").toLowerCase()},I=function(e,t){return e.find(function(e){return e.group.groups.find(function(e){return e.id===t})})||null},E=function(e){return e.CREATE_NEW="CREATE_NEW",e.EDIT_EXISTING="EDIT_EXISTING",e.NOT_EDITING="NOT_EDITING",e}(E||{});let b=function(){var e,t=(0,f.A)().imageSelection,n=(0,d.A)(),E=n.editImageGroup,b=n.cancelEditImageGroup,w=(0,p.h)(),A=w.imageGroups,_=w.addImageGroup,T=w.updateImageGroup,x=w.groupImagesAdd,P=w.ungroupImages,S=(0,c.g)(),y=S.navigateToGroup,C=S.navigateToImage,R=(0,s.Z)(),k=R.path,F=R.view,N=R.paths,D=R.pathsOptions,M=t.length,G=(null==E?void 0:E.groupId)?E.groupId===m?"CREATE_NEW":"EDIT_EXISTING":"NOT_EDITING",L=(0,l.useMemo)(function(){switch(G){case"CREATE_NEW":var e=(null==E?void 0:E.newGroupTitle)||"";return{imageGroup:null,parentPathMap:N.find(function(e){return e.group.id===F.id})||null,title:e,slug:g(e),slugTouched:!1};case"EDIT_EXISTING":var t=A.find(function(e){return e.id===(null==E?void 0:E.groupId)})||null;return{imageGroup:t,parentPathMap:(null==E?void 0:E.groupId)?I(N,E.groupId):null,title:(null==t?void 0:t.title)||"",slug:(null==t?void 0:t.slug)||"",slugTouched:!0};default:return{imageGroup:null,parentPathMap:null,title:"",slug:"",slugTouched:!1}}},[E,G,A,N,F]),j=(0,o._)((0,l.useState)(L.title),2),W=j[0],H=j[1],O=(0,o._)((0,l.useState)(L.slug),2),Y=O[0],B=O[1],U=(0,o._)((0,l.useState)(L.slugTouched),2),X=U[0],Z=U[1],z=(0,o._)((0,l.useState)((null==(e=L.parentPathMap)?void 0:e.absolutePath)||""),2),K=z[0],Q=z[1],V=(0,l.useMemo)(function(){if(!(null==E?void 0:E.groupId))return"";if((null==E?void 0:E.groupId)===m)return"".concat(k).concat(Y,"/");var e=I(N,E.groupId),t=(null==e?void 0:e.absolutePath)||"";return"".concat(t).concat(Y,"/")},[E,N,k,Y]),$=(0,l.useMemo)(function(){return!!N.find(function(e){return e.absolutePath===V})},[V,N]),q=(0,l.useMemo)(function(){var e;return Y!==(null==(e=L.imageGroup)?void 0:e.slug)},[L,Y]),J=(0,l.useMemo)(function(){return!!Y&&("CREATE_NEW"===G?!$:"EDIT_EXISTING"===G&&(!q||!$))},[G,Y,$,q]),ee=(0,l.useMemo)(function(){var e,t,n=(null==(e=N.find(function(e){return e.absolutePath===K}))?void 0:e.group.id)||"";return((null==(t=L.parentPathMap)?void 0:t.group.id)||"")!==n},[L,K,N]),et=(0,l.useMemo)(function(){switch(G){case"EDIT_EXISTING":var e,t=(null==(e=N.find(function(e){return e.group.id===(null==E?void 0:E.groupId)}))?void 0:e.absolutePath)||"";return D.filter(function(e){var n=e.value;return!n.startsWith(V)&&n!==t});case"CREATE_NEW":return D;default:return[]}},[V,E,G,N,D]);return{editId:(null==E?void 0:E.groupId)||null,absoluteSlug:V,possibleParents:et,slug:Y,title:W,canConfirm:J,canMove:ee,slugIsInUse:$,slugWasChanged:q,parentSlug:K,selectionCount:M,setSlug:function(e){B(e),Z(!0)},setTitle:function(e){H(e),(e.length<2||!X)&&(Z(!1),B(g(e)))},setParentSlug:Q,confirm:function(){if(b(),J&&E){var e,n=(null==(e=N.find(function(e){return e.absolutePath===K}))?void 0:e.group.id)||"";if(E.groupId===m){if(!E.newGroupCover)return;var r=(0,h.z)();_({id:r,slug:Y,title:W,created:(0,v.J)(),coverImage:E.newGroupCover,images:t,groups:[]},n),y(r,0)}else{if(!L.imageGroup)return;T((0,i._)((0,a._)({},L.imageGroup),{slug:Y,title:W}),n),y(E.groupId,0)}}},move:(0,r._)(function(){var e,n;return(0,u.YH)(this,function(r){return b(),ee&&((n=(null==(e=N.find(function(e){return e.absolutePath===K}))?void 0:e.group.id)||"")?x(n,t):P(t),C(t[0])),[2]})}),cancelEditImageGroup:b}}},27299:(e,t,n)=>{n.d(t,{E:()=>a});var r=n(693),a=function(e,t){return(0,r._)({flexGrow:0,flexShrink:1,wordBreak:"break-all",whiteSpace:"no-wrap",overflow:"hidden",width:"100%",borderRadius:"3px"},t)}},30386:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(693),a=n(60376),i=n(95155);n(12115);var o=n(50849),u=n(48444),l=n(93370),s=n(66564);let c=function(e){var t=e.hash,n=e.asThumb,c=e.overrides,d=(0,u.b)(t,c).gbImageProps,f=(0,o._)(t).dimensions;return d?(0,i.jsx)(l.A,(0,a._)((0,r._)({},d),{asThumb:n,dimensions:f})):(0,i.jsx)(s.A,{dimensions:f})}},31936:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(95155),a=n(700);n(12115);var i=n(52166),o=n(27299);let u=function(e){var t=e.text;return(0,i.A)().enableDebug?(0,r.jsx)(a.A,{title:t,variant:"caption",fontFamily:"monospace",component:"pre",sx:function(e){return(0,o.E)(e,{px:.5,py:0,mt:1,mb:0,backgroundColor:e.palette.warning[e.palette.mode]})},children:t}):null}},32521:(e,t,n)=>{n.d(t,{U:()=>a,Z:()=>i});var r=n(12115),a=(0,r.createContext)({connectedDevices:[],isReceiving:!1,webSerialEnabled:!1,openWebSerial:function(){throw Error("PortsContext is missing")},webUSBEnabled:!1,openWebUSB:function(){throw Error("PortsContext is missing")},unknownDeviceResponse:null,hasInactiveDevices:!1}),i=function(){return(0,r.useContext)(a)}},39630:(e,t,n)=>{n.d(t,{V:()=>r});var r=function(e){return e.CHECKBOX="checkbox",e.SELECT="select",e.TEXT="text",e.NUMBER="number",e.INFO="info",e.IMAGE="image",e.META="meta",e}({})},41476:(e,t,n)=>{n.d(t,{A:()=>c,F:()=>s});var r=n(86447),a=n(693),i=n(60376),o=n(87025),u=n(51368),l=n(65453),s=function(e){return e.ERROR="error",e.DONE="done",e.MESSAGE="message",e}({});let c=(0,l.v)(function(e,t){return{progress:[],progressLog:{git:[],dropbox:[]},resetProgressLog:function(){return e({progressLog:{git:[],dropbox:[]}})},startProgress:function(t){var n={id:(0,u.A)(),label:t,value:0};return e(function(e){var t=e.progress;return{progress:(0,o._)(t).concat([n])}}),n.id},setProgress:function(t,n){e(function(e){return{progress:e.progress.map(function(e){return e.id!==t?e:(0,i._)((0,a._)({},e),{value:n})})}})},stopProgress:function(t){e(function(e){return{progress:e.progress.filter(function(e){return e.id!==t})}})},setProgressLog:function(n,u){var l=t().progressLog;e({progressLog:(0,i._)((0,a._)({},l),(0,r._)({},n,[u].concat((0,o._)(l[n]))))})}}})},48444:(e,t,n)=>{n.d(t,{b:()=>v});var r=n(97004),a=n(78538),i=n(39249),o=n(12115),u=n(5432),l=n(23624),s=n(83936),c=n(633),d=n(78948),f=n(27746),p=n(933),h=n(5847),v=function(e,t){var n=(0,a._)((0,o.useState)(null),2),v=n[0],m=n[1],g=(0,c.g)(),I=(0,s.W)().remoteImport,E=(0,d.h)(),b=E.frames,w=E.palettes,A=E.images,_=(0,l.f)(e).galleryImageData,T=(null==t?void 0:t.frameId)||(null==_?void 0:_.frame),x=(0,o.useCallback)(function(e,t,n,r){return(0,h.T)(A,b,function(){(0,p.E)(g,I).recoverImageData(e)})(e,t,n,r)},[A,b,g,I]),P=(0,o.useMemo)(function(){return!!(null==_?void 0:_.hashes)},[_]),S=(0,o.useMemo)(function(){var e;return null==(e=b.find(function(e){return e.id===T}))?void 0:e.hash},[b,T]),y=(0,o.useMemo)(function(){return(null==t?void 0:t.invertPalette)!==void 0?t.invertPalette:null==_?void 0:_.invertPalette},[_,t]),C=(0,o.useMemo)(function(){return(null==t?void 0:t.invertFramePalette)!==void 0?t.invertFramePalette:null==_?void 0:_.invertFramePalette},[_,t]),R=(0,o.useMemo)(function(){return(null==t?void 0:t.lockFrame)!==void 0?t.lockFrame:null==_?void 0:_.lockFrame},[_,t]),k=(0,o.useMemo)(function(){return(null==t?void 0:t.palette)?t.palette:(null==t?void 0:t.paletteId)?(w.find(function(e){return e.shortName===t.paletteId})||u.Fv).palette:_?_.palette:P?u.YP:u.Fv.palette},[w,_,P,t]),F=(0,o.useMemo)(function(){return(null==t?void 0:t.framePalette)?t.framePalette:!P&&R?(null==t?void 0:t.framePaletteId)?(w.find(function(e){return e.shortName===t.framePaletteId})||u.Fv).palette:_?_.framePalette:u.Fv.palette:void 0},[w,_,P,R,t]);return(0,o.useEffect)(function(){var n,a=!1;return e||m(null),(n=(0,r._)(function(){var n,r,o,u,l;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(a)return[2];return[4,x(e,!1,T,null==_?void 0:_.hashes)];case 1:if(n=i.sent(),!S)return[3,3];return[4,(0,f.mZ)(S)];case 2:return o=i.sent(),[3,4];case 3:o=null,i.label=4;case 4:if(u=(r=o)?r.upper.length/20:2,a)return[2];return l=(null==t?void 0:t.rotation)||(null==_?void 0:_.rotation),n&&_&&m({tiles:n,palette:k,framePalette:F,invertPalette:y,imageStartLine:u,lockFrame:R,rotation:l,invertFramePalette:R?C:y}),[2]}})}),function(){return n.apply(this,arguments)})(),function(){a=!0}},[S,T,_,e,C,y,x,R,t,F,k]),{gbImageProps:v}}},50849:(e,t,n)=>{n.d(t,{_:()=>s,v:()=>l});var r=n(87025),a=n(15905),i=n(12115),o=n(78948),u=n(55364),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.pL.DEG_0,n=!!(t&&[a.pL.DEG_90,a.pL.DEG_270].includes(t)),r=e/a.Zc*a.RQ,i=a.Zc*a.RQ;return n?{width:r,height:i,aspectRatio:i/r,aspectRatioCSS:"".concat(r," / ").concat(i)}:{width:i,height:r,aspectRatio:r/i,aspectRatioCSS:"".concat(i," / ").concat(r)}},s=function(e){var t=(0,o.h)(),n=t.images,a=t.frames;return{dimensions:(0,i.useMemo)(function(){var t=n.find(function(t){return t.hash===e})||null;if(!t)return l(360);var i=a.find(function(e){return e.id===t.frame})||null;if(null==i?void 0:i.lines)return l(i.lines,t.rotation);if((0,u.pl)(t)){var o,s,c=t.hashes,d=[c.r,c.g,c.b,c.n].map(function(e){return n.find(function(t){return t.hash===e})||null}).reduce(u.iy,[]).map(function(e){return e.lines});o=(s=Math).max.apply(s,(0,r._)(d))}else o=t.lines;return l(o,t.rotation)},[n,a,e])}}},53411:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(97004),a=n(39249),i=n(12115),o=n(46498),u=n(78948),l=n(52166),s=n(27746),c=n(5415),d=n(28952),f=n(18335),p=n(5847);let h=function(){var e,t,n,h=(0,l.A)(),v=h.exportScaleFactors,m=h.exportFileTypes,g=h.handleExportFrame,I=h.fileNameStyle,E=h.alwaysShowDownloadDialog,b=(0,u.h)(),w=b.frames,A=b.palettes,_=b.images,T=(0,o.A)().setDownloadHashes,x=(0,i.useMemo)(function(){return(0,c.j)(v,m,g,A,I)},[m,v,I,g,A]),P=(0,i.useCallback)(function(e){if(1===e.length){var t=_.find(function(t){return t.hash===e[0]});if(!t)throw Error("image not found");var n=(0,f.s)(A,t).palette;if(!n)throw Error("imagePalette not found");return(0,d.A)({image:t,palette:n,fileNameStyle:I})}return(0,d.A)({altTitle:"gameboy-printer-gallery",useCurrentDate:!0,fileNameStyle:I})},[I,_,A]),S=(0,i.useCallback)((e=(0,r._)(function(e){var t,n,r,i,o,u;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(!(t=_.find(function(t){return t.hash===e})))throw Error("image not found");return n=w.find(function(e){return e.id===t.frame}),[4,(0,p.T)(_,w)(t.hash)];case 1:if(!(r=a.sent()))throw Error("no tiles");if(!n)return[3,3];return[4,(0,s.mZ)(null==n?void 0:n.hash)];case 2:return o=a.sent(),[3,4];case 3:o=null,a.label=4;case 4:return u=(i=o)?i.upper.length/20:2,[2,x(t,r,u)]}})}),function(t){return e.apply(this,arguments)}),[w,_,x]),y=(0,i.useCallback)((t=(0,r._)(function(e){var t,n;return(0,a.YH)(this,function(r){switch(r.label){case 0:return t=P(e),[4,Promise.all(e.map(S))];case 1:return n=r.sent(),(0,c.R)(t)(n.flat()),[2]}})}),function(e){return t.apply(this,arguments)}),[P,S]),C=(0,i.useCallback)((n=(0,r._)(function(e){return(0,a.YH)(this,function(t){switch(t.label){case 0:if(!E)return[3,1];return T(e),[3,3];case 1:return[4,y(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})}),function(e){return n.apply(this,arguments)}),[E,y,T]);return{downloadImages:y,setDownloadImages:C}}},66564:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(95155),a=n(54581),i=n(17775);n(12115);let o=function(e){var t=e.dimensions,n=t.width>t.height;return(0,r.jsx)(a.A,{sx:{display:"flex",width:"100%",height:"100%"},children:(0,r.jsx)(a.A,{sx:{display:"block",margin:"0 auto",width:n?"100%":"".concat(1/t.aspectRatio*100,"%"),aspectRatio:t.aspectRatioCSS,maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},children:(0,r.jsx)(i.A,{variant:"rectangular",width:"100%",height:"100%"})})})}},75097:(e,t,n)=>{n.d(t,{No:()=>a,Q3:()=>i,RQ:()=>o,x6:()=>r});var r=function(e){return e.DELETE="delete",e.ANIMATE="animate",e.DOWNLOAD="download",e.EDIT="edit",e.RGB="rgb",e}({}),a=function(e){return e.LOCK_FRAME="lockFrame",e.FRAME="frame",e.PALETTE="palette",e.TITLE="title",e.TAGS="tags",e.CREATED="created",e.ROTATION="rotation",e}({}),i=function(e){return e.INVERT_PALETTE="invertPalette",e.FRAME_PALETTE="framePalette",e.INVERT_FRAME_PALETTE="invertFramePalette",e}({}),o=["lockFrame","frame","title","tags","created","rotation","palette","invertPalette","framePalette","invertFramePalette"]},80360:(e,t,n)=>{n.d(t,{z:()=>r});var r=n(51368).A},85812:(e,t,n)=>{n.d(t,{N:()=>o});var r=n(17652),a=n(12115),i=n(52166),o=function(){var e=(0,i.A)().hideDates,t=(0,r.kc)(),n=(0,a.useCallback)(function(e){var n=new Date(e);return"string"==typeof e&&isNaN(n.getTime())&&(n=new Date(e.replace(/(\d{4}-\d{2}-\d{2}) (\d{2}:\d{2}:\d{2}):(\d{3})/,"$1T$2.$3"))),t.dateTime(n,"short")},[t]);return{formatterGallery:(0,a.useCallback)(function(t){return e||!t?null:n(t)},[n,e]),formatter:n}}},93370:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(97004),a=n(693),i=n(78538),o=n(39249),u=n(95155),l=n(54581),s=n(15905),c=n(12115),d=n(66564),f=n(50849),p=n(77683);let h=function(e){var t=e.palette,n=e.tiles,h=e.imageStartLine,v=e.lockFrame,m=e.invertPalette,g=e.framePalette,I=e.invertFramePalette,E=e.dimensions,b=e.asThumb,w=void 0!==b&&b,A=e.rotation,_=void 0===A?s.pL.DEG_0:A,T=!(t instanceof Array),x=(0,i._)((0,c.useState)(null),2),P=x[0],S=x[1],y=(0,i._)((0,c.useState)(""),2),C=y[0],R=y[1],k=(0,c.useMemo)(function(){if(E)return E;var e=T?(0,s.EK)(n):n.length;return(0,f.v)(e)},[E,T,n]);(0,c.useEffect)(function(){if(t&&n){var e=setTimeout((0,r._)(function(){var e;return(0,o.YH)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,5,,6]),!T)return[3,2];return[4,(0,s.uL)({tiles:n,palette:t,lockFrame:v||!1,rotation:_})];case 1:return S.apply(void 0,[r.sent()]),[3,4];case 2:if(!(null==n?void 0:n.length))return[3,4];return[4,(0,s.qO)((0,a._)({tiles:n,imageStartLine:h,rotation:_},(0,p.C)({imagePalette:t,framePalette:g,invertPalette:m,invertFramePalette:I})))];case 3:S.apply(void 0,[r.sent()]),r.label=4;case 4:return R(""),[3,6];case 5:return(e=r.sent())instanceof Error&&(console.error(e),R(e.message)),[3,6];case 6:return[2]}})}),1);return function(){clearTimeout(e)}}},[n,t,v,m,_,T,h,g,I]);var F=(0,c.useMemo)(function(){return{display:"block",imageRendering:w?"auto":"pixelated",margin:"0 auto",width:k.width>k.height?"100%":"".concat(1/k.aspectRatio*100,"%"),aspectRatio:k.aspectRatioCSS,maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}},[w,k]);return C||!P?(0,u.jsx)(d.A,{dimensions:k}):(0,u.jsx)(l.A,{className:"gameboy-image",sx:{display:"flex",width:"100%",height:"100%"},children:(0,u.jsx)("img",{src:P,style:F,alt:""})})}},98250:(e,t,n)=>{n.d(t,{h:()=>o});var r=n(78538),a=n(12115),i=function(){var e;return{width:window.innerWidth,height:window.innerHeight,ddpx:window.devicePixelRatio<=2?window.devicePixelRatio:window.devicePixelRatio/2,layoutWidth:(e=window.innerWidth)>1220?1155:e>1025?960:e>830?765:e>635?570:e>440?375:e-40}},o=function(){var e=(0,r._)((0,a.useState)(i()),2),t=e[0],n=e[1];return(0,a.useEffect)(function(){var e=function(){n(i())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[n]),t}}}]);