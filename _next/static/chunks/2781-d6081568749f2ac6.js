"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2781],{6818:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(61975),a=n(45377),u=n(71450),s=n(96569),i=n(41175);let o=function(e,t){return(0,r._)(function(){var n,r,o,c,l,f;return(0,u.YH)(this,function(u){switch(u.label){case 0:if(360!==e.length)return[2,e];return[4,(0,i.mZ)(t)];case 1:if(!(r=u.sent()))return[2,e];if(14!==r.left.length||14!==r.right.length)return console.error("Invalid frameData"),[2,e];for(l=0,o=e.reduce(function(e,t,n){return(0,s.o1)(n,2,s.H.FRAMEMODE_KEEP)?e:(0,a._)(e).concat([t])},[]),c=(0,a._)(r.upper);l<14;l+=1)(f=c).push.apply(f,(0,a._)(r.left[l]).concat((0,a._)(o.slice(16*l,(l+1)*16)),(0,a._)(r.right[l])));return(n=c).push.apply(n,(0,a._)(r.lower)),[2,c]}})})()}},15719:(e,t,n)=>{n.d(t,{Fv:()=>l,R2:()=>i,YP:()=>c,Ys:()=>o,dm:()=>u,g0:()=>s});var r=n(96569),a=[0,85,170,255],u='{"command":"INIT"}',s='{"command":"DATA", "compressed":0, "more":1}',i='{"command":"DATA","compressed":0,"more":0}',o='{"command":"PRNT","sheets":1,"margin_upper":1,"margin_lower":3,"pallet":228,"density":64 }',c={r:a.slice(),g:a.slice(),b:a.slice(),n:a.slice(),blend:r.Nx.MULTIPLY},l={shortName:"-",name:"Missing Palette",palette:["#aaaaaa","#999999","#888888","#777777"],isPredefined:!0,origin:"technical"}},17403:(e,t,n)=>{n.d(t,{iy:()=>u,pl:()=>a});var r=n(45377),a=function(e){return!!(e.hasOwnProperty("hashes")&&e.hashes)},u=function(e,t){return!t||a(t)?e:(0,r._)(e).concat([t])}},25764:(e,t,n)=>{n.d(t,{z:()=>r});var r="gbp-z-web"},30986:(e,t,n)=>{n.d(t,{A:()=>u,U:()=>a});var r=n(45377),a=function(e){return e.ASC="asc",e.DESC="desc",e}({});let u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(n){var a="desc"===t?-1:1;return(0,r._)(n).sort(function(t,n){return"string"==typeof t[e]?t[e].localeCompare(n[e]):t[e]>n[e]?a:t[e]<n[e]?-a:0})}}},36336:(e,t,n)=>{n.d(t,{A:()=>r});let r=function(e){return Array.from(new Set(e))}},37145:(e,t,n)=>{n.d(t,{A:()=>r});let r=function(e){return function(t){var n=new Set;return t.filter(function(t){var r=t[e];return!n.has(r)&&(n.add(r),!0)})}}},41175:(e,t,n)=>{n.d(t,{Bf:()=>o,R_:()=>c,mZ:()=>l});var r=n(61975),a=n(71450),u=n(73038),s=n(94468),i=n(98050),o=function(e,t){return(0,r._)(function(){var r,s,o;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(n.t.bind(n,79452,23))];case 1:return r=a.sent().default,s=JSON.stringify((0,u.I)(e,t)),[4,(0,i.K)(s)];case 2:return o=a.sent(),[2,{dataHash:r(o),compressed:o}]}})})()},c=function(e,t){return(0,r._)(function(){var n,r,u;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,o(e,t)];case 1:return r=(n=a.sent()).dataHash,u=n.compressed,[4,s.Uv.setItem(r,u)];case 2:return a.sent(),[2,r]}})})()},l=function(e){return(0,r._)(function(){var t,n,r;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(!e)return[2,null];return[4,s.Uv.getItem(e)];case 1:if(!(t=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,(0,i.U)(t)];case 3:return n=a.sent(),[3,5];case 4:return a.sent(),[2,null];case 5:try{return[2,JSON.parse(n)]}catch(e){}try{return r=n.split("\n"),[2,{upper:r.slice(0,40),left:Array(14).fill(0).map(function(e,t){return r.slice(4*t+40,4*t+42)}),right:Array(14).fill(0).map(function(e,t){return r.slice(4*t+42,4*t+44)}),lower:r.slice(96,136)}]}catch(e){return[2,null]}}})})()}},45073:(e,t,n)=>{n.d(t,{X3:()=>r,mI:()=>u,rx:()=>a});var r=function(e){return e.FILTER_UNTAGGED="__filter:untagged__",e.FILTER_NEW="__filter:new__",e.FILTER_MONOCHROME="__filter:mono__",e.FILTER_RGB="__filter:rgb__",e.FILTER_RECENT="__filter:recent__",e.FILTER_FAVOURITE="__filter:favourite__",e.FILTER_COMMENTS="__filter:comments__",e.FILTER_USERNAME="__filter:username__",e}({}),a=["__filter:untagged__","__filter:new__","__filter:mono__","__filter:rgb__","__filter:recent__","__filter:favourite__","__filter:comments__","__filter:username__"],u="__new:palette__"},50751:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(82732),a=n(45849),u=n(45377),s=n(36117),i=n.n(s),o=n(44344),c=n(74879);let l=(0,n(25959).v)(function(e,t){return{downloadHashes:[],dragover:!1,errors:[],isFullscreen:!1,lightboxImage:null,printerBusy:!1,printerData:null,printerFunctions:[],showSerials:!1,syncBusy:!1,syncSelect:!1,trashBusy:!1,trashCount:{frames:0,images:0,show:!1},videoSelection:[],dismissError:function(n){return e({errors:t().errors.filter(function(e,t){return t!==n})})},setDownloadHashes:function(t){return e({downloadHashes:t})},setDragover:function(t){return e({dragover:t})},setError:function(n){return e({errors:(0,u._)(t().errors).concat([{error:n,timestamp:i()().unix(),id:(0,c.A)()}])})},setIsFullscreen:function(t){return e({isFullscreen:t})},setPrinterBusy:function(t){return e({printerBusy:t})},setPrinterData:function(t){return e({printerData:t})},setPrinterFunctions:function(t){return e({printerFunctions:t})},setShowSerials:function(t){return e({showSerials:t})},setSyncBusy:function(t){return e({syncBusy:t})},setSyncSelect:function(t){return e({syncSelect:t})},showTrashCount:function(n){return e({trashCount:(0,a._)((0,r._)({},t().trashCount),{show:n})})},setTrashBusy:function(t){return e({trashBusy:t})},updateTrashCount:function(n,u){return e({trashCount:(0,a._)((0,r._)({},t().trashCount),{frames:n,images:u})})},setVideoSelection:function(t){return e({videoSelection:t})},setLightboxImage:function(t){null===t&&o.A.isEnabled&&o.A.exit(),e({lightboxImage:t})}}})},65113:(e,t,n)=>{n.d(t,{g:()=>f,i:()=>F});var r=n(61975),a=n(82732),u=n(45849),s=n(71450),i=n(79452),o=n.n(i),c=n(94468),l=function(e){return!!e.find(function(e){return!e.hash})},f=function(e){return(0,r._)(function(){return(0,s.YH)(this,function(t){return l(e)?[2,Promise.all(e.map(function(e){return(0,r._)(function(){var t,n;return(0,s.YH)(this,function(r){switch(r.label){case 0:if(e.hash)return[2,e];return[4,c.Uv.getItem(e.id)];case 1:if(!(t=r.sent()))return console.warn("could not load frame data for hashing"),[2,e];return n=o()(t),[4,c.Uv.removeItem(e.id)];case 2:return r.sent(),[4,c.Uv.setItem(n,t)];case 3:return r.sent(),[2,(0,u._)((0,a._)({},e),{hash:n})]}})})()}))]:[2,e]})})()},F=function(e){return(0,r._)(function(){var t,n;return(0,s.YH)(this,function(i){switch(i.label){case 0:if(!(t=e).state.frames||!l(t.state.frames))return[2,e];return[4,Promise.all(t.state.frames.map(function(e){return(0,r._)(function(){var n,r,i;return(0,s.YH)(this,function(s){return e.hash?[2,e]:(r=t[n="frame-".concat(e.id)])?(i=o()(r),delete t[n],t["frame-".concat(i)]=r,[2,(0,u._)((0,a._)({},e),{hash:i})]):(console.warn("could not load ".concat(n," from json import")),[2,e])})})()}))];case 1:return n=i.sent(),[2,(0,u._)((0,a._)({},t),{state:(0,u._)((0,a._)({},t.state),{frames:n})})]}})})()}},71667:(e,t,n)=>{n.d(t,{J:()=>r});var r=function(e){var t=e?new Date(e):new Date,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")};return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+" "+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())+":"+n(t.getMilliseconds(),3)}},72879:(e,t,n)=>{n.d(t,{A:()=>C,h:()=>W});var r=n(61975),a=n(87922),u=n(82732),s=n(45849),i=n(45377),o=n(71450),c=n(81575),l=n.n(c),f=n(25959),F=n(89863),m=n(45073),d=n(25764),p=n(41175),g=n(17403),h=n(75036),_=n(96569),A=n(15719),v=n(71667),D=n(65113),w=n(22043),b=n(32893),y=n.n(b),I=n(29832),B=n.n(I),E=n(21739),H=n(30986),G=function(e,t){var n=B().createInstance({name:"GB Printer Web",storeName:e}),a=new Map;return{dropDB:function(){return(0,r._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,n.dropInstance()];case 1:return e.sent(),[2]}})})()},loadData:function(){return(0,r._)(function(){var e;return(0,o.YH)(this,function(t){switch(t.label){case 0:return e=[],[4,n.iterate(function(t,n){var r=(0,E.tW)(t);e.push(t),a.set(n,r)})];case 1:return t.sent(),[2,e]}})})()},setData:function(e){return(0,r._)(function(){var r,u,s,i,c,l,f,F,m,d,p,g,h,_,A,v;return(0,o.YH)(this,function(o){switch(o.label){case 0:r=new Set,u=!0,s=!1,i=void 0,o.label=1;case 1:o.trys.push([1,7,8,9]),c=e[Symbol.iterator](),o.label=2;case 2:if(u=(l=c.next()).done)return[3,6];if(F=String((f=l.value)[t]),m=(0,E.tW)(f),a.get(F)===m)return[3,4];return[4,n.setItem(F,f)];case 3:o.sent(),a.set(F,m),o.label=4;case 4:r.add(F),o.label=5;case 5:return u=!0,[3,2];case 6:return[3,9];case 7:return d=o.sent(),s=!0,i=d,[3,9];case 8:try{u||null==c.return||c.return()}finally{if(s)throw i}return[7];case 9:p=!0,g=!1,h=void 0,o.label=10;case 10:o.trys.push([10,15,16,17]),_=a.keys()[Symbol.iterator](),o.label=11;case 11:if(p=(A=_.next()).done)return[3,14];if(v=A.value,r.has(v))return[3,13];return[4,n.removeItem(v)];case 12:o.sent(),a.delete(v),o.label=13;case 13:return p=!0,[3,11];case 14:return[3,17];case 15:return d=o.sent(),g=!0,h=d,[3,17];case 16:try{p||null==_.return||_.return()}finally{if(g)throw h}return[7];case 17:return[2]}})})()}}},P=n(36336),Y=n(37145),C=1,S=(0,Y.A)("id"),N=(0,Y.A)("id"),T=(0,Y.A)("id"),U=(0,Y.A)("url"),R=(0,H.A)("id"),x=(0,Y.A)("shortName"),L=(0,H.A)("name"),M=(0,Y.A)("hash"),O=function(e){return R(S(e))},k=function(e){return L(U(e))},j=function(e){return x((0,i._)(l().map(function(e){return(0,s._)((0,u._)({},e),{isPredefined:!0})})).concat((0,i._)(e)))};let W=(0,f.v)()((0,F.Zr)(function(e,t){return{frames:[],palettes:[],frameGroups:[],plugins:[],imageGroups:[],images:[],addFrames:function(t){return e(function(e){return{frames:O((0,i._)(t).concat((0,i._)(e.frames)))}})},addPalettes:function(n){var r=t().palettes,a=n.reduce(function(e,t){return r.find(function(e){return e.shortName===t.shortName})?{update:(0,i._)(e.update).concat([t]),add:e.add}:{update:e.update,add:(0,i._)(e.add).concat([t])}},{add:[],update:[]}),u=a.update,s=a.add;e({palettes:x((0,i._)(s).concat((0,i._)(r.map(function(e){return u.find(function(t){return t.shortName===e.shortName})||e}))))})},deleteFrame:function(t){return e(function(e){return{frames:O(e.frames.filter(function(e){return t!==e.id}))}})},deletePalette:function(t){return e(function(e){return{palettes:e.palettes.filter(function(e){return t!==e.shortName})}})},deletePlugin:function(t){return e(function(e){return{plugins:k(e.plugins.filter(function(e){return t!==e.url}))}})},updateFrameGroups:function(t){return e(function(e){return{frameGroups:N((0,i._)(t).concat((0,i._)(e.frameGroups)))}})},updatePluginConfig:function(n,r,i){var o=t().plugins,c=o.find(function(e){return e.url===n});if(!c)throw Error('Plugin "'.concat(n,'" not found'));var l=c,f=(0,s._)((0,u._)({},l.config||{}),(0,a._)({},r,i));return l=(0,s._)((0,u._)({},l),{config:f}),e({plugins:o.map(function(e){return e.url!==n?e:l})}),f},addUpdatePluginProperties:function(n){var r=t().plugins,a=(0,i._)(r);r.find(function(e){var t=e.url;return n.url===t})||a.push(n),e({plugins:k(a.map(function(e){return e.url!==n.url?e:(0,u._)({},e,n)}))})},addImageGroup:function(n,r){var a=t().imageGroups.map(function(e){var t=e.images.filter(function(e){return!n.images.includes(e)}),a=e.id===r?(0,i._)(e.groups).concat([n.id]):e.groups;return(0,s._)((0,u._)({},e),{groups:a,images:t})});e({imageGroups:T((0,i._)(a).concat([n]))})},deleteImageGroup:function(n){var r=t().imageGroups,a=r.find(function(e){return e.id===n});a&&e({imageGroups:r.reduce(function(e,t){return t.id===n?e:t.groups.includes(n)?(0,i._)(e).concat([(0,s._)((0,u._)({},t),{images:(0,i._)(t.images).concat((0,i._)(a.images)),groups:(0,i._)(t.groups).concat((0,i._)(a.groups)).filter(function(e){return e!==a.id})})]):(0,i._)(e).concat([t])},[])})},updateImageGroup:function(n,r){e({imageGroups:t().imageGroups.map(function(e){var t=(0,u._)({},e);return t.groups=t.groups.filter(function(e){return e!==n.id}),r===t.id&&(t.groups=(0,i._)(t.groups).concat([n.id])),t.id===n.id?n:t})})},groupImagesAdd:function(t,n){return e(function(e){return{imageGroups:e.imageGroups.map(function(e){return e.id===t?(0,s._)((0,u._)({},e),{images:(0,i._)(e.images).concat((0,i._)(n))}):(0,s._)((0,u._)({},e),{images:e.images.filter(function(e){return!n.includes(e)})})})}})},ungroupImages:function(t){return e(function(e){return{imageGroups:e.imageGroups.map(function(e){return(0,s._)((0,u._)({},e),{images:e.images.filter(function(e){return!t.includes(e)})})})}})},setImageGroups:function(t){return e({imageGroups:t})},addImages:function(t){return e(function(e){return{images:M((0,i._)(e.images).concat((0,i._)(t)))}})},deleteImages:function(t){return e(function(e){return{images:(0,i._)(e.images.filter(function(e){var n=e.hash;return!t.includes(n)}))}})},updateImageHash:function(t,n){return e(function(e){return{images:e.images.map(function(e){return e.hash===t?n:e})}})},updateImageFavouriteTag:function(t,n){return e(function(e){return{images:e.images.map(function(e){return e.hash===n?(0,s._)((0,u._)({},e),{tags:(0,P.A)(t?[m.X3.FILTER_FAVOURITE].concat((0,i._)(e.tags)):e.tags.filter(function(e){return e!==m.X3.FILTER_FAVOURITE}))}):e})}})},updateImages:function(t){return e(function(e){var n=new Map(t.map(function(e){return[e.hash,e]}));return{images:e.images.map(function(e){return n.get(e.hash)||e})}})},updateFrames:function(t){return e(function(e){var n=new Map(t.map(function(e){return[e.hash,e]}));return{frames:e.frames.map(function(e){return n.get(e.hash)||e})}})},setFrames:function(t){return e({frames:S(t)})},setImages:function(t){return e({images:M(t)})},setPalettes:function(t){return e({palettes:j(t)})}}},{name:"".concat(d.z,"-items"),storage:function(e){var t=G("".concat(e,"--frames"),"id"),n=G("".concat(e,"--framegroups"),"id"),a=G("".concat(e,"--images"),"hash"),u=G("".concat(e,"--imagegroups"),"id"),s=G("".concat(e,"--palettes"),"shortName"),i=G("".concat(e,"--plugins"),"url"),c=(0,H.A)("shortName"),l=(0,H.A)("name"),f=(0,H.A)("id"),m=(0,H.A)("slug"),d=function(e){e.preventDefault(),e.returnValue=""},p=B().createInstance({name:"GB Printer Web",storeName:"gb-printer-web--items--root"}),g=null,h=!1,_=function(e){return(0,r._)(function(){var r,c,l,f;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(h)return g=e,[2];return window.addEventListener("beforeunload",d),h=!0,console.log("start storing items"),r=performance.now(),c=e.state,l=e.version,[4,p.setItem("version",l)];case 1:return o.sent(),[4,n.setData(c.frameGroups)];case 2:return o.sent(),[4,t.setData(c.frames)];case 3:return o.sent(),[4,a.setData(c.images)];case 4:return o.sent(),[4,u.setData(c.imageGroups)];case 5:return o.sent(),[4,s.setData(c.palettes)];case 6:return o.sent(),[4,i.setData(c.plugins)];case 7:if(o.sent(),console.log("saved in ".concat((performance.now()-r).toFixed(2),"ms")),h=!1,!g)return[3,9];return f=g,g=null,[4,_(f)];case 8:o.sent(),o.label=9;case 9:return window.removeEventListener("beforeunload",d),[2]}})})()},A=(0,F.KU)(function(){return localStorage});return{getItem:function(e){return(0,r._)(function(){var F,d,g;return(0,o.YH)(this,function(h){switch(h.label){case 0:return[4,Promise.all([(0,r._)(function(){var e,r,F,d;return(0,o.YH)(this,function(o){switch(o.label){case 0:return[4,p.getItem("version")];case 1:if("number"!=typeof(e=o.sent()))return[2,null];return console.log("start loading items"),r=performance.now(),d={},[4,n.loadData()];case 2:return d.frameGroups=o.sent(),[4,t.loadData()];case 3:return d.frames=f.apply(void 0,[o.sent()]),[4,u.loadData()];case 4:return d.imageGroups=m.apply(void 0,[o.sent()]),[4,a.loadData()];case 5:return d.images=o.sent(),[4,s.loadData()];case 6:return d.palettes=c.apply(void 0,[o.sent()]),[4,i.loadData()];case 7:return d.plugins=l.apply(void 0,[o.sent()]),F=d,console.log("loaded in ".concat((performance.now()-r).toFixed(2),"ms")),[2,{state:F,version:e}]}})})(),A.getItem(e)])];case 1:if(d=(F=w._.apply(void 0,[h.sent(),2]))[0],g=F[1],(null==d?void 0:d.state.images.length)!==(null==g?void 0:g.state.images.length)&&console.warn("indexedDB images: ".concat(null==d?void 0:d.state.images.length,"\njsonStorage images: ").concat(null==g?void 0:g.state.images.length)),!d)return console.warn("could not load items from indexedDB - falling back to localStorage"),[2,g];return[2,d]}})})()},setItem:function(e,t){return(0,r._)(function(){var n;return(0,o.YH)(this,function(r){switch(r.label){case 0:return console.log("Items storage will use roughly ".concat(y()(JSON.stringify(t).length))),[4,Promise.allSettled([Promise.resolve().then(function(){return A.setItem(e,t)}),_(t)])];case 1:return"rejected"===(n=r.sent())[0].status&&console.warn("Error: jsonStorage.setItem failed:",n[0].reason),"rejected"===n[1].status&&console.warn("Error: storeRootData failed:",n[1].reason),[2]}})})()},removeItem:function(){return(0,r._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,Promise.all([n.dropDB(),t.dropDB(),u.dropDB(),a.dropDB(),s.dropDB(),i.dropDB(),p.dropInstance()])];case 1:return e.sent(),[2]}})})()}}}("gb-printer-web--items"),merge:function(e,t){var n=(0,u._)({},t,e);return(0,s._)((0,u._)({},n),{palettes:j(n.palettes),plugins:n.plugins.map(function(e){return(0,s._)((0,u._)({},e),{loading:!1})})})},partialize:function(e){return{frames:e.frames,frameGroups:e.frameGroups,imageGroups:e.imageGroups,images:e.images,plugins:e.plugins.map(function(e){return(0,s._)((0,u._)({},e),{loading:void 0,error:void 0})}),palettes:e.palettes.filter(function(e){return!e.isPredefined})}},onRehydrateStorage:function(){return function(e){e&&(0,r._)(function(){var t,n,r,a,i,c,l,f,F,m,d,_,A,v,D,w,b,y,I,B,E,H;return(0,o.YH)(this,function(o){switch(o.label){case 0:t=e.images,n=e.updateImages,r=e.frames,a=e.updateFrames,i=[],c=t.reduce(g.iy,[]),l=!0,f=!1,F=void 0,o.label=1;case 1:o.trys.push([1,6,7,8]),m=c[Symbol.iterator](),o.label=2;case 2:if(l=(d=m.next()).done)return[3,5];if((_=d.value).lines)return[3,4];return[4,(0,h.Hh)(_.hash,"",!0)];case 3:(null==(A=o.sent())?void 0:A.length)&&i.push((0,s._)((0,u._)({},_),{lines:A.length})),o.label=4;case 4:return l=!0,[3,2];case 5:return[3,8];case 6:return v=o.sent(),f=!0,F=v,[3,8];case 7:try{l||null==m.return||m.return()}finally{if(f)throw F}return[7];case 8:n(i),D=[],w=!0,b=!1,y=void 0,o.label=9;case 9:o.trys.push([9,14,15,16]),I=r[Symbol.iterator](),o.label=10;case 10:if(w=(B=I.next()).done)return[3,13];if((E=B.value).lines)return[3,12];return[4,(0,p.mZ)(E.hash)];case 11:(H=o.sent())&&D.push((0,s._)((0,u._)({},E),{lines:H.upper.length+20*H.left.length+H.lower.length})),o.label=12;case 12:return w=!0,[3,10];case 13:return[3,16];case 14:return v=o.sent(),b=!0,y=v,[3,16];case 15:try{w||null==I.return||I.return()}finally{if(b)throw y}return[7];case 16:return a(D),[2]}})})()}},version:C,migrate:function(e,t){return(0,r._)(function(){var n;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(0!==t)return[3,2];return[4,(0,r._)(function(){var t,n,r,a,i,c,l,f;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(f={},!(null==(t=(l=e).frames)?void 0:t.length))return[3,2];return[4,(0,D.g)(l.frames)];case 1:f.frames=o.sent(),o.label=2;case 2:return(null==(n=l.frameGroupNames)?void 0:n.length)&&(f.frameGroups=l.frameGroupNames),(null==(r=l.palettes)?void 0:r.length)&&(f.palettes=l.palettes),(null==(a=l.plugins)?void 0:a.length)&&(f.plugins=l.plugins),(null==(i=l.imageGroups)?void 0:i.length)&&(f.imageGroups=l.imageGroups),(null==(c=l.images)?void 0:c.length)&&(f.images=l.images.map(function(e){return(0,s._)((0,u._)({},e),{created:(0,v.J)(e.created)})}).map(function(e){return(0,s._)((0,u._)({},e),{tags:e.tags||[]})}).map(function(e){if((0,g.pl)(e)){var t=(0,u._)({},e);return t.palette||Object.assign(t,{palette:A.YP}),t.palette.blend||Object.assign(t.palette,{blend:_.Nx.MULTIPLY}),t.frame=e.frame||void 0,t}var n=(0,u._)({},e);return void 0===n.framePalette&&(n.lockFrame?n.framePalette="bw":n.framePalette=n.palette),void 0===n.lockFrame&&(n.lockFrame=!1),void 0===n.invertFramePalette&&(n.invertFramePalette=n.invertPalette),n.frame=e.frame||void 0,n})),[2,f]}})})()];case 1:n=a.sent(),a.label=2;case 2:return[2,n]}})})()}}))},73038:(e,t,n)=>{n.d(t,{I:()=>a});var r=function(e){return e.toUpperCase()},a=function(e,t){var n=e.slice(0,20*t).map(r),a=e.slice((t+14)*20).map(r);return{upper:n,left:Array(14).fill(0).map(function(n,a){var u=(a+t)*20;return e.slice(u,u+2).map(r)}),right:Array(14).fill(0).map(function(n,a){var u=(a+t)*20;return e.slice(u+18,u+20).map(r)}),lower:a}}},75036:(e,t,n)=>{n.d(t,{cg:()=>l,yH:()=>m,t9:()=>d,Hh:()=>F,UN:()=>f});var r=n(61975),a=n(71450),u=n(6818),s=n(94468),i=n(98050),o=n(86331);let c=function(e){var t="\nThe following hash is missing in\nyour indexedDb:\n".concat(e,"\n\nEither you imported a debug dump\nor your browser decided to do a\ncleanup.\n\nThis image might be able to be\nrecovered if you have set up git\nor dropbox sync.\n").trim();return(0,o.A)(t)};var l=function(e){return(0,r._)(function(){var t,r,u;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,Promise.resolve().then(n.t.bind(n,79452,23))];case 1:return t=a.sent().default,r=e.map(function(e){return e.replace(/ /gi,"").toUpperCase()}).join("\n"),[4,(0,i.K)(r)];case 2:return u=a.sent(),[2,{dataHash:t(u),compressed:u}]}})})()},f=function(e){return(0,r._)(function(){var t,n,r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,l(e)];case 1:return n=(t=a.sent()).dataHash,r=t.compressed,[4,s.mU.setItem(n,r)];case 2:return a.sent(),[2,n]}})})()},F=function(e,t,n,o){return(0,r._)(function(){var r,l;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(!e)return[2,null];a.label=1;case 1:return a.trys.push([1,4,,5]),[4,s.mU.getItem(e)];case 2:if(!(r=a.sent()))throw Error("missing imagedata");return[4,(0,i.U)(r)];case 3:if(l=a.sent().split("\n"),!t)return[2,l];return[2,(0,u.A)(l,t)];case 4:return a.sent(),"function"==typeof o&&o(e),[2,n?[]:c(e)];case 5:return[2]}})})()},m=function(e){return(0,r._)(function(){return(0,a.YH)(this,function(t){return[2,s.mU.removeItem(e)]})})()},d=function(e){return(0,r._)(function(){return(0,a.YH)(this,function(t){return[2,s.Uv.removeItem(e)]})})()}},86331:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(45377),a={"":"006666666600FFFF"," ":"FFFFFFFFFFFFFFFF",0:"FFDDAAAAAADDFFFF",1:"FFDD99DDDDDDFFFF",2:"FF99EEDDBB88FFFF",3:"FF99EE99EE99FFFF",4:"FFDDBBBB88EEFFFF",5:"FF88BB99EE99FFFF",6:"FFCCBB99AADDFFFF",7:"FF88EEDDBBBBFFFF",8:"FFDDAADDAADDFFFF",9:"FFDDAACCEE99FFFF",a:"FFDDAAAA88AAFFFF",b:"FF99AA99AA99FFFF",c:"FFCCBBBBBBCCFFFF",d:"FF99AAAAAA99FFFF",e:"FF88BB99BB88FFFF",f:"FF88BB99BBBBFFFF",g:"FFCCBBAAAACCFFFF",h:"FFAAAA88AAAAFFFF",i:"FF88DDDDDD88FFFF",j:"FF99DDDDDDBBFFFF",k:"FFAAAA99AAAAFFFF",l:"FFBBBBBBBB88FFFF",m:"FFAA888AAAAAFFFF",n:"FFAA8A888AAAFFFF",o:"FFDDAAAAAADDFFFF",p:"FF99AA99BBBBFFFF",q:"FFDDAAAAAACCFFFF",r:"FF99AA99AAAAFFFF",s:"FFCCBBDDEE99FFFF",t:"FF88DDDDDDDDFFFF",u:"FFAAAAAAAACCFFFF",v:"FFAAAAAAAADDFFFF",w:"FFAAAA8A88AAFFFF",x:"FFAAAADDAAAAFFFF",y:"FFAAAADDDDDDFFFF",z:"FF88EEDDBB88FFFF",ä:"AADDAAAA88AAFFFF",ö:"AADDAAAAAADDFFFF",ü:"AAAFAAAAAACCFFFF",ß:"FF99AA99AA99BBFF",".":"FFFFFFFFFFDDFFFF","!":"DDDDDDDDFFDDFFFF","?":"DDAAEEDDFFDDFFFF","-":"FFFFFF88FFFFFFFF",_:"FFFFFFFFFF88FFFF",":":"FFFFDDFFDDFFFFFF"};let u=function(e){var t=(0,r._)(e.toString(10).toLowerCase().split("")).concat([" "," "]),n=t.shift()||"",u=t.shift()||"",s=a[n]||a[""],i=a[u]||a[""];return(0,r._)(Array(16)).map(function(e,t){return"".concat(s[t]).concat(i[t])}).join("")};var s="FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\n";let i=function(e){var t=[],n=e.split("\n").map(function(e){return e.match(/.{1,32}/g)}).flat().map(function(e){return e||""}).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.padEnd(32," ")}).map(function(e){var t;return(null==(t=e.match(/.{1,2}/g))?void 0:t.map(function(e){return u(e)}))||[]}).map(function(e){return[s,s].concat((0,r._)(e),[s,s])}).flat();for(t.push.apply(t,(0,r._)((0,r._)(Array(40)).map(function(){return s}))),t.push.apply(t,(0,r._)(n));t.length<360;)t.push(s);return t}},94468:(e,t,n)=>{n.d(t,{Uv:()=>l,mU:()=>c,ZU:()=>f});var r=n(61975),a=n(71450),u=n(29832),s=n.n(u),i="dummy".concat(new Date().getTime());let o=function(e){var t=s().createInstance(e);return{ready:function(){return(0,r._)(function(){var n;return(0,a.YH)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,t.ready()];case 1:return u.sent(),[2,(0,r._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,t.setItem(i,i)];case 1:return e.sent(),[4,t.removeItem(i)];case 2:return e.sent(),[2]}})})()];case 2:throw n=u.sent(),t=s().createInstance(e),n;case 3:return[2]}})})()},keys:function(){return(0,r._)(function(){return(0,a.YH)(this,function(n){try{return[2,t.keys()]}catch(n){throw t=s().createInstance(e),n}})})()},driver:function(){return(0,r._)(function(){var n;return(0,a.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t.driver()];case 1:return[2,r.sent()];case 2:throw n=r.sent(),t=s().createInstance(e),n;case 3:return[2]}})})()},setItem:function(n,u){return(0,r._)(function(){var r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.setItem(n,u)];case 1:return[2,a.sent()];case 2:throw r=a.sent(),t=s().createInstance(e),r;case 3:return[2]}})})()},getItem:function(n){return(0,r._)(function(){var r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.getItem(n)];case 1:return[2,a.sent()];case 2:throw r=a.sent(),t=s().createInstance(e),r;case 3:return[2]}})})()},removeItem:function(n){return(0,r._)(function(){var r;return(0,a.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.removeItem(n)];case 1:return[2,a.sent()];case 2:throw r=a.sent(),t=s().createInstance(e),r;case 3:return[2]}})})()}}};var c=o({name:"GB Printer Web",storeName:"gb-printer-web-images"}),l=o({name:"GB Printer Web",storeName:"gb-printer-web-frames"});window.lfi=c,window.lff=l;var f=function(){return(0,r._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,l.ready()];case 1:return e.sent(),[4,c.ready()];case 2:return e.sent(),[4,new Promise(function(e){window.setTimeout(e,5)})];case 3:return e.sent(),[2]}})})()}},98050:(e,t,n)=>{n.d(t,{K:()=>o,U:()=>i});var r=n(61975),a=n(71450),u=n(4810),s=n.n(u),i=function(e){return(0,r._)(function(){return(0,a.YH)(this,function(t){return[2,s().inflate(e,{to:"string"})]})})()},o=function(e){return(0,r._)(function(){return(0,a.YH)(this,function(t){return[2,s().deflate(e,{to:"string",strategy:1,level:8})]})})()}}}]);