(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5862],{4862:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r=function(e){return e.GALLERY_VIEW_SMALL="small",e.GALLERY_VIEW_1X="1x",e.GALLERY_VIEW_2X="2x",e.GALLERY_VIEW_MAX="max",e.PALETTE_VIEW="res2x",e}({})},27803:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return e.DEFAULT_ASC="default_asc",e.DEFAULT_DESC="default_desc",e.USAGE_ASC="usage_asc",e.USAGE_DESC="usage_desc",e.NAME_ASC="name_asc",e.NAME_DESC="name_desc",e}({})},30891:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,b:()=>u});var r=n(97004),i=n(39249),a=n(12115),l=(0,a.createContext)({callRemoteFunction:(0,r._)(function(){return(0,i.YH)(this,function(e){return[2]})})}),u=function(){return(0,a.useContext)(l)}},39630:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return e.CHECKBOX="checkbox",e.SELECT="select",e.TEXT="text",e.NUMBER="number",e.INFO="info",e.IMAGE="image",e.META="meta",e}({})},39893:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,f:()=>r});var r=function(e){return e.WIDER="wider",e.WIDE="wide",e.NORMAL="normal",e.NARROW="narrow",e.NARROWER="narrower",e.EMULATOR="emulator",e}({}),i=[{name:"Wider",baseValues:[0,68,187,255],value:"wider"},{name:"Wide",baseValues:[0,85,170,255],value:"wide"},{name:"Normal",baseValues:[51,102,153,204],value:"normal"},{name:"Narrow",baseValues:[69,115,162,208],value:"narrow"},{name:"Narrower",baseValues:[85,113,141,170],value:"narrower"},{name:"From Emulator",baseValues:[64,144,224,255],value:"emulator"}]},45686:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r=function(e){return e.TESTFILE="testFile",e.CHECKPRINTER="checkPrinter",e.FETCHIMAGES="fetchImages",e.CLEARPRINTER="clearPrinter",e.TEAR="tear",e}({})},49432:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=function(e,t){if(!e.trim())return"";if("/"===e&&"ws"!==t)return e;var n=!!e.match(RegExp("^".concat(t,"(s)?:\\/\\/"),"gi"));return"".concat(n?"":"".concat(t,"://")).concat(e).concat(e.endsWith("/")?"":"/")}},49967:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r={weekday:void 0,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};let i=function(e,t){return e.toDate().toLocaleString(t,r)}},52166:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(693),i=n(62570),a=n(30832),l=n.n(a),u=n(15905),o=n(65453),s=n(46786),c=n(39893),d=n(81445),f=n(80498),m=n(4862),p=n(27803),h=n(99999),E=n(49432),g=n(49967),x=n(10746),v=function(){if("undefined"!=typeof navigator){var e=(0,i._)(navigator.language.split("-"),2);return[e[0],e[1]].filter(Boolean).join("-")}return""};let A=(0,o.v)((0,s.Zr)(function(e){return{activePalette:"bw",bitmapQueueDither:!0,bitmapQueueSetting:c.f.WIDE,enableDebug:!1,exportFileTypes:["png"],exportScaleFactors:[4],fileNameStyle:d.B.FULL,forceMagicCheck:!0,galleryView:m.j.GALLERY_VIEW_1X,galleryClickAction:f.n.SELECT,handleExportFrame:u.H.FRAMEMODE_KEEP,hideDates:!1,importDeleted:!0,importLastSeen:!0,importPad:!1,lastBaudRate:115200,pageSize:30,preferredLocale:v(),printerParams:"",printerUrl:"/",savFrameTypes:"int",themeName:h.V.BRIGHT,enableImageGroups:!1,sortPalettes:p.V.DEFAULT_DESC,useSerials:!1,videoParams:{},setActivePalette:function(t){return e({activePalette:t})},setBitmapQueueDither:function(t){return e({bitmapQueueDither:t})},setBitmapQueueSetting:function(t){return e({bitmapQueueSetting:t})},setEnableDebug:function(t){return e({enableDebug:t})},setFileNameStyle:function(t){return e({fileNameStyle:t})},setForceMagicCheck:function(t){return e({forceMagicCheck:t})},setGalleryView:function(t){return e({galleryView:t})},setGalleryClickAction:function(t){return e({galleryClickAction:t})},setHandleExportFrame:function(t){return e({handleExportFrame:t})},setHideDates:function(t){return e({hideDates:t})},setImportDeleted:function(t){return e({importDeleted:t})},setImportLastSeen:function(t){return e({importLastSeen:t})},setImportPad:function(t){return e({importPad:t})},setLastBaudRate:function(t){return e({lastBaudRate:t})},setPageSize:function(t){return e({pageSize:t})},setPrinterParams:function(t){return e({printerParams:t})},setPrinterUrl:function(t){return e({printerUrl:(0,E.A)(t,"http")})},setSavFrameTypes:function(t){return e({savFrameTypes:t})},setThemeName:function(t){return e({themeName:t})},setEnableImageGroups:function(t){return e({enableImageGroups:t})},setSortPalettes:function(t){return e({sortPalettes:t})},setUseSerials:function(t){return e({useSerials:t})},setVideoParams:function(t){return e(function(e){return{videoParams:(0,r._)({},e.videoParams,t)}})},setExportScaleFactors:function(t){return e({exportScaleFactors:t})},setExportFileTypes:function(t){return e({exportFileTypes:t})},setPreferredLocale:function(t){try{(0,g.A)(l()(),t),e({preferredLocale:t})}catch(e){console.error(e)}}}},{name:"".concat(x.z,"-settings"),storage:(0,s.KU)(function(){return localStorage})}))},80498:(e,t,n)=>{"use strict";n.d(t,{n:()=>r,s:()=>i});var r=function(e){return e.SELECT="select",e.EDIT="edit",e.VIEW="view",e}({}),i=[{label:"Click selects the item",value:"select"},{label:"Click opens edit dialog",value:"edit"},{label:"Click opens the item in lightbox",value:"view"}]},86210:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var r=n(577),i=n(83936),a=n(64768),l=n(46498),u=n(52166),o=function(){var e=(0,u.A)().printerUrl,t=(0,l.A)().printerFunctions,n=(0,i.W)().downloadSettings,o=t.length>0,s=(0,a.A)().handleFileImport;return{printerUrl:e?"".concat(e,"remote.html"):void 0,printerConnected:o,importPlainText:function(e){s([new File((0,r._)(e),"Text input.txt",{type:"text/plain"})])},importFiles:s,exportJson:function(e){return n(e)}}}},89418:(e,t,n)=>{"use strict";n.d(t,{default:()=>k});var r=n(62570),i=n(577),a=n(95155),l=n(7642),u=n(61487),o=n(7068),s=n(78449),c=n(12115),d=n(53267),f=n(14426),m=n(46498),p=n(52166);let h=function(e){var t=(0,p.A)(),n=t.printerUrl,i=t.printerParams,a=i?"#".concat(encodeURI(i)):"",l=n?"".concat(n,"remote.html").concat(a):void 0,u=(0,m.A)().printerFunctions.length>0,o=(0,r._)((0,c.useState)(!1),2),s=o[0],d=o[1],f=(0,r._)((0,c.useState)(!1),2),h=f[0],E=f[1],g=(0,c.useRef)(void 0);return(0,c.useEffect)(function(){return s||h||g.current||(g.current=window.setTimeout(function(){E(!0)},e)),function(){window.clearTimeout(g.current),g.current=void 0}},[h,s,e]),!s&&u&&(window.clearTimeout(g.current),g.current=void 0,d(!0)),{failed:h,loaded:s,printerUrl:l,printerConnected:u}};var E=function(e){if(!e)return!1;if(e.startsWith("/"))return!0;var t=new URL(e).protocol,n=new URL(window.location.href).protocol;return"http:"===n||n===t};let g=function(){var e=h(3e4),t=e.printerUrl,n=e.failed,r=e.loaded,i=e.printerConnected;return E(t)&&!n?(0,a.jsxs)(d.default,{sx:{display:"flex",justifyContent:"center"},children:[(0,a.jsx)("iframe",{style:{position:"absolute",top:"80px",left:"-200vw",width:"480px",height:"90px"},title:"Transfer window",src:t}),!r&&(0,a.jsx)(f.default,{color:"secondary"})]}):(!i||n)&&(0,a.jsx)(u.default,{variant:"contained",fullWidth:!0,children:(0,a.jsx)(l.default,{onClick:function(){window.open(t,"remoteprinter","width=480,height=400")},children:"Open printer page"})})};var x=n(9665),v=n(18407),A=n(17976),C=n(99776),j=n(64263),S=n(44296),T=n(56033),F=n(90404),b=n(77260),w=n.n(b),R=n(45686),_=n(30891),P=function(){var e=(0,m.A)(),t=e.printerData,n=e.printerFunctions,r=e.printerBusy,i=(0,_.b)().callRemoteFunction,a=n.length>0;return{printerData:t,printerFunctions:n,printerBusy:r,printerConnected:a,callRemoteFunction:i}},I={testFile:"Print test image",checkPrinter:"Check Printer",fetchImages:"",clearPrinter:"Clear Printer",tear:"Tear"};let L=function(){var e=P(),t=e.printerData,n=e.printerFunctions,r=e.printerConnected,i=e.callRemoteFunction,s=e.printerBusy;return r?(0,a.jsxs)(o.default,{direction:"column",gap:2,children:[(0,a.jsx)(u.default,{variant:"contained",fullWidth:!0,children:n.map(function(e){var r,u,o;return(0,a.jsx)(l.default,{disabled:s||[R.n.FETCHIMAGES,R.n.CLEARPRINTER,R.n.TEAR].includes(e)&&!(null==t||null==(r=t.dumps)?void 0:r.length),onClick:function(){return i(e)},children:e===R.n.FETCHIMAGES?(o=(null==t||null==(u=t.dumps)?void 0:u.length)||0,n.includes(R.n.TEAR)||!o?"Fetch images":"Fetch ".concat(o||0," images")):I[e]},e)})}),(null==t?void 0:t.message)?(0,a.jsx)(x.default,{severity:"info",children:null==t?void 0:t.message}):null,(null==t?void 0:t.fs)&&(null==t?void 0:t.dumps)?(0,a.jsx)(S.default,{component:v.default,children:(0,a.jsxs)(A.default,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[(0,a.jsx)(T.default,{children:(0,a.jsxs)(F.default,{children:[(0,a.jsx)(j.default,{align:"right",children:"Printer Filesystem"}),(0,a.jsx)(j.default,{align:"left"})]})}),(0,a.jsxs)(C.default,{children:[(0,a.jsxs)(F.default,{children:[(0,a.jsx)(j.default,{align:"right",children:"Total"}),(0,a.jsx)(j.default,{align:"left",children:w()(null==t?void 0:t.fs.total)})]}),(0,a.jsxs)(F.default,{children:[(0,a.jsx)(j.default,{align:"right",children:"Used"}),(0,a.jsx)(j.default,{align:"left",children:w()(null==t?void 0:t.fs.used)})]}),(0,a.jsxs)(F.default,{children:[(0,a.jsx)(j.default,{align:"right",children:"Free"}),(0,a.jsx)(j.default,{align:"left",children:"".concat(Math.max(0,((null==t?void 0:t.fs.maximages)||0)-((null==t?void 0:t.dumps.length)||0))," images")})]}),(0,a.jsxs)(F.default,{children:[(0,a.jsx)(j.default,{align:"right",children:"Images"}),(0,a.jsx)(j.default,{align:"left",children:null==t?void 0:t.dumps.length})]})]})]})}):null]}):null};var y=n(69229),D=n(86210);let k=function(){var e=(0,r._)((0,c.useState)(""),2),t=e[0],d=e[1],f=(0,D.l)(),m=f.importPlainText,p=f.importFiles,h=f.printerUrl,E=f.exportJson;return(0,c.useEffect)(function(){n.e(7963).then(n.bind(n,35796)).then(function(e){d(e.default.join("\n"))})},[]),(0,a.jsxs)(o.default,{direction:"column",gap:6,children:[h&&(0,a.jsx)(L,{}),h&&(0,a.jsx)(g,{}),(0,a.jsxs)(l.default,{component:"label",variant:"contained",children:["Select file(s) to import",(0,a.jsx)("input",{type:"file",tabIndex:-1,hidden:!0,multiple:!0,onChange:function(e){var t=e.target,n=t.files;n&&n.length&&p((0,i._)(n)),t.value=""}})]}),(0,a.jsxs)(o.default,{flexDirection:"column",gap:1,justifyContent:"flex-end",justifyItems:"end",children:[(0,a.jsx)(s.default,{id:"import-plaintext",label:"Enter data received through your serial monitor",multiline:!0,rows:20,value:t,onChange:function(e){d(e.target.value)}}),(0,a.jsx)(o.default,{direction:"row",justifyContent:"flex-end",children:(0,a.jsx)(l.default,{variant:"contained",onClick:function(){m(t)},children:"Import"})})]}),(0,a.jsxs)(u.default,{variant:"contained",fullWidth:!0,children:[(0,a.jsx)(l.default,{onClick:function(){return E(y.m.IMAGES)},children:"Export images"}),(0,a.jsx)(l.default,{onClick:function(){return E(y.m.SELECTED_IMAGES)},children:"Export selected images"}),(0,a.jsx)(l.default,{onClick:function(){return E(y.m.PALETTES)},children:"Export palettes"})]})]})}},98482:(e,t,n)=>{Promise.resolve().then(n.bind(n,700)),Promise.resolve().then(n.bind(n,89418))},99999:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return e.BRIGHT="theme-bright",e.DARK="theme-dark",e}({})}},e=>{var t=t=>e(e.s=t);e.O(0,[4453,700,7859,7271,4831,3313,5394,7642,8449,1487,9758,9665,1936,7121,1760,3936,4768,8441,5955,1684,7358],()=>t(98482)),_N_E=e.O()}]);