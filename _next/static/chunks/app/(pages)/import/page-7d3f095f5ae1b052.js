(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5862],{30891:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,b:()=>u});var i=n(97004),r=n(39249),l=n(12115),a=(0,l.createContext)({callRemoteFunction:(0,i._)(function(){return(0,r.YH)(this,function(e){return[2]})})}),u=function(){return(0,l.useContext)(a)}},45686:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var i=function(e){return e.TESTFILE="testFile",e.CHECKPRINTER="checkPrinter",e.FETCHIMAGES="fetchImages",e.CLEARPRINTER="clearPrinter",e.TEAR="tear",e}({})},86210:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var i=n(577),r=n(83936),l=n(64768),a=n(46498),u=n(52166),o=function(){var e=(0,u.A)().printerUrl,t=(0,a.A)().printerFunctions,n=(0,r.W)().downloadSettings,o=t.length>0,d=(0,l.A)().handleFileImport;return{printerUrl:e?"".concat(e,"remote.html"):void 0,printerConnected:o,importPlainText:function(e){d([new File((0,i._)(e),"Text input.txt",{type:"text/plain"})])},importFiles:d,exportJson:function(e){return n(e)}}}},89418:(e,t,n)=>{"use strict";n.d(t,{default:()=>L});var i=n(78538),r=n(577),l=n(95155),a=n(7642),u=n(61487),o=n(7068),d=n(78449),c=n(12115),s=n(53267),f=n(14426),h=n(46498),p=n(52166);let x=function(e){var t=(0,p.A)(),n=t.printerUrl,r=t.printerParams,l=r?"#".concat(encodeURI(r)):"",a=n?"".concat(n,"remote.html").concat(l):void 0,u=(0,h.A)().printerFunctions.length>0,o=(0,i._)((0,c.useState)(!1),2),d=o[0],s=o[1],f=(0,i._)((0,c.useState)(!1),2),x=f[0],m=f[1],g=(0,c.useRef)(void 0);return(0,c.useEffect)(function(){return d||x||g.current||(g.current=window.setTimeout(function(){m(!0)},e)),function(){window.clearTimeout(g.current),g.current=void 0}},[x,d,e]),!d&&u&&(window.clearTimeout(g.current),g.current=void 0,s(!0)),{failed:x,loaded:d,printerUrl:a,printerConnected:u}};var m=function(e){if(!e)return!1;if(e.startsWith("/"))return!0;var t=new URL(e).protocol,n=new URL(window.location.href).protocol;return"http:"===n||n===t};let g=function(){var e=x(3e4),t=e.printerUrl,n=e.failed,i=e.loaded,r=e.printerConnected;return m(t)&&!n?(0,l.jsxs)(s.default,{sx:{display:"flex",justifyContent:"center"},children:[(0,l.jsx)("iframe",{style:{position:"absolute",top:"80px",left:"-200vw",width:"480px",height:"90px"},title:"Transfer window",src:t}),!i&&(0,l.jsx)(f.default,{color:"secondary"})]}):(!r||n)&&(0,l.jsx)(u.default,{variant:"contained",fullWidth:!0,children:(0,l.jsx)(a.default,{onClick:function(){window.open(t,"remoteprinter","width=480,height=400")},children:"Open printer page"})})};var j=n(9665),v=n(18407),E=n(17976),C=n(99776),w=n(64263),F=n(44296),T=n(56033),R=n(90404),A=n(77260),I=n.n(A),P=n(45686),y=n(30891),b=function(){var e=(0,h.A)(),t=e.printerData,n=e.printerFunctions,i=e.printerBusy,r=(0,y.b)().callRemoteFunction,l=n.length>0;return{printerData:t,printerFunctions:n,printerBusy:i,printerConnected:l,callRemoteFunction:r}},k={testFile:"Print test image",checkPrinter:"Check Printer",fetchImages:"",clearPrinter:"Clear Printer",tear:"Tear"};let S=function(){var e=b(),t=e.printerData,n=e.printerFunctions,i=e.printerConnected,r=e.callRemoteFunction,d=e.printerBusy;return i?(0,l.jsxs)(o.default,{direction:"column",gap:2,children:[(0,l.jsx)(u.default,{variant:"contained",fullWidth:!0,children:n.map(function(e){var i,u,o;return(0,l.jsx)(a.default,{disabled:d||[P.n.FETCHIMAGES,P.n.CLEARPRINTER,P.n.TEAR].includes(e)&&!(null==t||null==(i=t.dumps)?void 0:i.length),onClick:function(){return r(e)},children:e===P.n.FETCHIMAGES?(o=(null==t||null==(u=t.dumps)?void 0:u.length)||0,n.includes(P.n.TEAR)||!o?"Fetch images":"Fetch ".concat(o||0," images")):k[e]},e)})}),(null==t?void 0:t.message)?(0,l.jsx)(j.default,{severity:"info",children:null==t?void 0:t.message}):null,(null==t?void 0:t.fs)&&(null==t?void 0:t.dumps)?(0,l.jsx)(F.default,{component:v.default,children:(0,l.jsxs)(E.default,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[(0,l.jsx)(T.default,{children:(0,l.jsxs)(R.default,{children:[(0,l.jsx)(w.default,{align:"right",children:"Printer Filesystem"}),(0,l.jsx)(w.default,{align:"left"})]})}),(0,l.jsxs)(C.default,{children:[(0,l.jsxs)(R.default,{children:[(0,l.jsx)(w.default,{align:"right",children:"Total"}),(0,l.jsx)(w.default,{align:"left",children:I()(null==t?void 0:t.fs.total)})]}),(0,l.jsxs)(R.default,{children:[(0,l.jsx)(w.default,{align:"right",children:"Used"}),(0,l.jsx)(w.default,{align:"left",children:I()(null==t?void 0:t.fs.used)})]}),(0,l.jsxs)(R.default,{children:[(0,l.jsx)(w.default,{align:"right",children:"Free"}),(0,l.jsx)(w.default,{align:"left",children:"".concat(Math.max(0,((null==t?void 0:t.fs.maximages)||0)-((null==t?void 0:t.dumps.length)||0))," images")})]}),(0,l.jsxs)(R.default,{children:[(0,l.jsx)(w.default,{align:"right",children:"Images"}),(0,l.jsx)(w.default,{align:"left",children:null==t?void 0:t.dumps.length})]})]})]})}):null]}):null};var _=n(69229),U=n(86210);let L=function(){var e=(0,i._)((0,c.useState)(""),2),t=e[0],s=e[1],f=(0,U.l)(),h=f.importPlainText,p=f.importFiles,x=f.printerUrl,m=f.exportJson;return(0,c.useEffect)(function(){n.e(7963).then(n.bind(n,35796)).then(function(e){s(e.default.join("\n"))})},[]),(0,l.jsxs)(o.default,{direction:"column",gap:6,children:[x&&(0,l.jsx)(S,{}),x&&(0,l.jsx)(g,{}),(0,l.jsxs)(a.default,{component:"label",variant:"contained",children:["Select file(s) to import",(0,l.jsx)("input",{type:"file",tabIndex:-1,hidden:!0,multiple:!0,onChange:function(e){var t=e.target,n=t.files;n&&n.length&&p((0,r._)(n)),t.value=""}})]}),(0,l.jsxs)(o.default,{flexDirection:"column",gap:1,justifyContent:"flex-end",justifyItems:"end",children:[(0,l.jsx)(d.default,{id:"import-plaintext",label:"Enter data received through your serial monitor",multiline:!0,rows:20,value:t,onChange:function(e){s(e.target.value)}}),(0,l.jsx)(o.default,{direction:"row",justifyContent:"flex-end",children:(0,l.jsx)(a.default,{variant:"contained",onClick:function(){h(t)},children:"Import"})})]}),(0,l.jsxs)(u.default,{variant:"contained",fullWidth:!0,children:[(0,l.jsx)(a.default,{onClick:function(){return m(_.m.IMAGES)},children:"Export images"}),(0,l.jsx)(a.default,{onClick:function(){return m(_.m.SELECTED_IMAGES)},children:"Export selected images"}),(0,l.jsx)(a.default,{onClick:function(){return m(_.m.PALETTES)},children:"Export palettes"})]})]})}},98482:(e,t,n)=>{Promise.resolve().then(n.bind(n,700)),Promise.resolve().then(n.bind(n,89418))}},e=>{var t=t=>e(e.s=t);e.O(0,[4453,700,7859,7271,4831,6139,5394,3313,7642,9758,8449,1487,9665,1936,7121,1760,3936,4768,8441,1684,7358],()=>t(98482)),_N_E=e.O()}]);