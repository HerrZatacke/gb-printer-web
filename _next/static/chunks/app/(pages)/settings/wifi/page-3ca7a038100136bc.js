(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9106],{6170:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var s=n(35355),r=n(95155);let a=(0,s.A)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},18397:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var s=n(35355),r=n(95155);let a=(0,s.A)((0,r.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox")},24627:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var s=n(82732),r=n(45849),a=n(17389),i=n(12115),o=n(2821),d=n(37659),l=n(49714),c=n(57179),u=n(13053),p=n(81421);function f(e){return(0,p.Ay)("MuiCardContent",e)}(0,u.A)("MuiCardContent",["root"]);var h=n(95155),v=function(e){var t=e.classes;return(0,d.A)({root:["root"]},f,t)},m=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}});let A=i.forwardRef(function(e,t){var n=(0,c.b)({props:e,name:"MuiCardContent"}),i=n.className,d=n.component,l=void 0===d?"div":d,u=(0,a._)(n,["className","component"]),p=(0,r._)((0,s._)({},n),{component:l}),f=v(p);return(0,h.jsx)(m,(0,s._)({as:l,className:(0,o.A)(f.root,i),ownerState:p,ref:t},u))})},30127:(e,t,n)=>{Promise.resolve().then(n.bind(n,45642))},41574:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var s=n(82732),r=n(17389),a=n(12115),i=n(2821),o=n(72131),d=n(35885),l=n(47627),c=n(57915),u=n(95155),p=n(27923),f=n(65595),h=n(15370),v=(0,n(13053).A)("MuiBox",["root"]),m=(0,f.A)();let A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,p=e.defaultClassName,f=void 0===p?"MuiBox-root":p,h=e.generateClassName,v=(0,o.Ay)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(d.A);return a.forwardRef(function(e,a){var o=(0,c.A)(n),d=(0,l.A)(e),p=d.className,m=d.component,A=(0,r._)(d,["className","component"]);return(0,u.jsx)(v,(0,s._)({as:void 0===m?"div":m,ref:a,className:(0,i.A)(p,h?h(f):f),theme:t&&o[t]||o},A))})}({themeId:h.A,defaultTheme:m,defaultClassName:v.root,generateClassName:p.A.generate})},45642:(e,t,n)=>{"use strict";n.d(t,{default:()=>S});var s=n(61975),r=n(82732),a=n(45849),i=n(22043),o=n(45377),d=n(71450),l=n(95155),c=n(18397),u=n(41574),p=n(64647),f=n(32968),h=n(92920),v=n(24627),m=n(98638),A=n(41942),w=n(13802),x=n(80317),_=n(18955),j=n(12115),g=n(53776),k=n(64928),C=n(6170),b=n(4615),y=n(24288);let N=function(e){var t=(0,k.f)(),n=t.type,s=t.button,i=(0,_.c3)("SettingsWiFi");return(0,l.jsx)(h.A,{raised:!0,component:"li",children:(0,l.jsx)(v.A,{children:(0,l.jsxs)(A.A,{direction:"column",gap:4,children:[(0,l.jsx)(w.A,{id:"".concat(e.id,"-settings-ap-ssid"),label:i("networkSSID"),type:"text",value:e.ssid,slotProps:(0,a._)((0,r._)({},g.y),{input:{endAdornment:(0,l.jsx)(y.A,{title:i("deleteNetwork"),color:"primary",onClick:function(){e.update({delete:!e.delete})},children:(0,l.jsx)(C.A,{})})}}),disabled:!e.isNew||e.disabled,onChange:function(t){var n=t.target.value;e.update({ssid:n})}}),(0,l.jsx)(w.A,{id:"".concat(e.id,"-settings-ap-psk"),label:i("networkPassword"),type:n,slotProps:(0,a._)((0,r._)({},g.y),{input:{endAdornment:s}}),value:e.psk,disabled:e.disabled,onChange:function(t){var n=t.target.value;e.update({psk:n})}}),e.delete&&(0,l.jsx)(b.A,{severity:"error",icon:(0,l.jsx)(C.A,{fontSize:"inherit"}),children:i("willDeleteNetwork")})]})})})};var M=function(e,t){t("loading");var n=new AbortController,r=n.signal;return(0,s._)(function(){var n;return(0,d.YH)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,fetch("/wificonfig/get",{signal:r})];case 1:return[4,s.sent().json()];case 2:return(n=s.sent()).mdns=n.mdns||"",n.ap=n.ap||{ssid:"",psk:""},n.networks=n.networks||[],t(""),e(n),[3,4];case 3:return s.sent(),r.aborted||(t("error"),e(void 0)),[3,4];case 4:return[2]}})})(),function(){n.abort()}};let S=function(){var e=(0,i._)((0,j.useState)(),2),t=e[0],n=e[1],C=(0,i._)((0,j.useState)("loading"),2),b=C[0],y=C[1],S=(0,k.f)(),P=S.type,z=S.button,H=(0,_.c3)("SettingsWiFi");if((0,j.useEffect)(function(){return M(n,y)},[n,y]),"loading"===b||!t)return(0,l.jsx)(u.A,{sx:{display:"flex",justifyContent:"center"},children:(0,l.jsx)(m.A,{color:"secondary"})});var I=""!==b&&"updated"!==b;return(0,l.jsxs)(A.A,{direction:"column",gap:6,children:[(0,l.jsxs)(A.A,{direction:"column",gap:1,children:[(0,l.jsx)(x.A,{component:"h3",variant:"h3",children:H("hostSettings")}),(0,l.jsx)(h.A,{raised:!0,children:(0,l.jsx)(v.A,{children:(0,l.jsxs)(A.A,{direction:"column",gap:4,children:[(0,l.jsx)(w.A,{id:"settings-mdns",label:H("mdnsName"),type:"text",disabled:I,value:t.mdns||"",onChange:function(e){var s=e.target.value;y("updated"),n((0,a._)((0,r._)({},t),{mdns:s.trim()}))}}),(0,l.jsx)(w.A,{id:"settings-ap-ssid",label:H("accesspointSSID"),type:"text",disabled:I,value:t.ap.ssid||"",onChange:function(e){var s=e.target.value;y("updated"),n((0,a._)((0,r._)({},t),{ap:(0,a._)((0,r._)({},t.ap),{ssid:s.trim()})}))}}),(0,l.jsx)(w.A,{id:"settings-ap-psk",label:H("accesspointPassword"),type:P,slotProps:(0,a._)((0,r._)({},g.y),{input:{endAdornment:z}}),disabled:I,value:t.ap.psk||"",onChange:function(e){var s=e.target.value;y("updated"),n((0,a._)((0,r._)({},t),{ap:(0,a._)((0,r._)({},t.ap),{psk:s.trim()})}))}})]})})})]}),(0,l.jsxs)(A.A,{direction:"column",gap:1,children:[(0,l.jsx)(x.A,{component:"h3",variant:"h3",children:H("networks")}),(0,l.jsxs)(A.A,{direction:"column",gap:2,component:"ul",children:[t.networks.map(function(e,s){var i=e.ssid,o=e.psk,d=e.delete,c=e.isNew;return(0,l.jsx)(N,{id:"apconf-".concat(s),ssid:i,psk:void 0===o?"":o,disabled:I,isNew:void 0!==c&&c,delete:void 0!==d&&d,update:function(i){var o=t.networks;o[s]=(0,r._)({},e,i),y("updated"),n((0,a._)((0,r._)({},t),{networks:o}))}},"apconf-".concat(s))}),(0,l.jsx)(A.A,{component:"li",direction:"row",justifyContent:"flex-end",children:(0,l.jsx)(p.A,{disabled:I,title:H("addNetwork"),color:"primary",variant:"contained",startIcon:(0,l.jsx)(c.A,{}),onClick:function(){n((0,a._)((0,r._)({},t),{networks:(0,o._)((null==t?void 0:t.networks)||[]).concat([{ssid:"",psk:"",delete:!1,isNew:!0}])}))},children:H("addNetwork")})})]})]}),(0,l.jsx)(f.A,{fullWidth:!0,variant:"contained",children:(0,l.jsx)(p.A,{disabled:"updated"!==b,onClick:function(){return(0,s._)(function(){var e,s;return(0,d.YH)(this,function(i){switch(i.label){case 0:e=(0,a._)((0,r._)({},t),{networks:t.networks.filter(function(e){return!0===e.delete||e.psk}).filter(function(e){return e.ssid}).filter(function(e){return!(e.delete&&e.isNew)}).map(function(e){var t=e.ssid,n=e.psk;return{delete:e.delete,ssid:t,psk:n}})}),y("loading"),i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch("/wificonfig/set",{method:"post",body:JSON.stringify(e)})];case 2:return[4,i.sent().json()];case 3:if((s=i.sent()).error)throw Error(s.error);return[3,5];case 4:return alert(i.sent()),y("error"),n(void 0),[3,5];case 5:return M(n,y),[2]}})})()},children:H("saveSettings")})})]})}},53776:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var s={htmlInput:{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1},inputLabel:{shrink:!0},fullWidth:!0,size:"small"}},64928:(e,t,n)=>{"use strict";n.d(t,{f:()=>u});var s=n(22043),r=n(95155),a=n(35355);let i=(0,a.A)((0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),o=(0,a.A)((0,r.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");var d=n(24288),l=n(18955),c=n(12115),u=function(){var e=(0,s._)((0,c.useState)(!1),2),t=e[0],n=e[1],a=(0,l.c3)("useAsPasswordField"),u=(0,c.useMemo)(function(){return(0,r.jsx)(d.A,{title:a(t?"hidePassword":"showPassword"),"aria-label":a(t?"hidePassword":"showPassword"),color:"primary",onClick:function(){n(!t)},children:t?(0,r.jsx)(o,{}):(0,r.jsx)(i,{})})},[a,t]);return{type:(0,c.useMemo)(function(){return t?"text":"password"},[t]),button:u,setShowPassword:n}}},92920:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var s=n(82732),r=n(45849),a=n(17389),i=n(12115),o=n(2821),d=n(37659),l=n(49714),c=n(57179),u=n(75970),p=n(13053),f=n(81421);function h(e){return(0,f.Ay)("MuiCard",e)}(0,p.A)("MuiCard",["root"]);var v=n(95155),m=function(e){var t=e.classes;return(0,d.A)({root:["root"]},h,t)},A=(0,l.Ay)(u.A,{name:"MuiCard",slot:"Root"})({overflow:"hidden"});let w=i.forwardRef(function(e,t){var n=(0,c.b)({props:e,name:"MuiCard"}),i=n.className,d=n.raised,l=void 0!==d&&d,u=(0,a._)(n,["className","raised"]),p=(0,r._)((0,s._)({},n),{raised:l}),f=m(p);return(0,v.jsx)(A,(0,s._)({className:(0,o.A)(f.root,i),elevation:l?8:void 0,ref:t,ownerState:p},u))})}},e=>{e.O(0,[8955,3632,317,5140,1703,4288,3683,4647,3802,2968,4615,8441,9342,1255,7358],()=>e(e.s=30127)),_N_E=e.O()}]);