(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6229],{6617:(n,e,t)=>{"use strict";t.d(e,{h:()=>s,i:()=>o});var r=t(97004),i=t(39249),u=t(12115),o=(0,u.createContext)({runWithImage:(0,r._)(function(){return(0,i.YH)(this,function(n){throw Error("Plugin Context is missing")})}),runWithImages:(0,r._)(function(){return(0,i.YH)(this,function(n){throw Error("Plugin Context is missing")})}),validateAndAddPlugin:(0,r._)(function(){return(0,i.YH)(this,function(n){throw Error("Plugin Context is missing")})})}),s=function(){return(0,u.useContext)(o)}},40774:(n,e,t)=>{"use strict";t.d(e,{B:()=>r,Q:()=>i});var r=function(n){return n.CONFIRM_ASK="CONFIRM_ASK",n.CONFIRM_ANSWERED="CONFIRM_ANSWERED",n.ADD_IMAGES="ADD_IMAGES",n.IMPORT_FILES="IMPORT_FILES",n}({}),i=function(n){return n.NUMBER="number",n.STRING="string",n.MULTILINE="multiline",n}({})},46498:(n,e,t)=>{"use strict";t.d(e,{A:()=>c});var r=t(693),i=t(60376),u=t(577),o=t(30832),s=t.n(o),a=t(9779),l=t(51368);let c=(0,t(65453).v)(function(n,e){return{dragover:!1,errors:[],isFullscreen:!1,lightboxImage:null,printerBusy:!1,printerData:null,printerFunctions:[],showSerials:!1,syncBusy:!1,syncSelect:!1,trashCount:{frames:0,images:0,show:!1},videoSelection:[],dismissError:function(t){return n({errors:e().errors.filter(function(n,e){return e!==t})})},setDragover:function(e){return n({dragover:e})},setError:function(t){return n({errors:(0,u._)(e().errors).concat([{error:t,timestamp:s()().unix(),id:(0,l.A)()}])})},setIsFullscreen:function(e){return n({isFullscreen:e})},setPrinterBusy:function(e){return n({printerBusy:e})},setPrinterData:function(e){return n({printerData:e})},setPrinterFunctions:function(e){return n({printerFunctions:e})},setShowSerials:function(e){return n({showSerials:e})},setSyncBusy:function(e){return n({syncBusy:e})},setSyncSelect:function(e){return n({syncSelect:e})},showTrashCount:function(t){return n({trashCount:(0,i._)((0,r._)({},e().trashCount),{show:t})})},updateTrashCount:function(t,u){return n({trashCount:(0,i._)((0,r._)({},e().trashCount),{frames:t,images:u})})},setVideoSelection:function(e){return n({videoSelection:e})},setLightboxImage:function(e){null===e&&a.A.exit(),n({lightboxImage:e})},setLightboxImageNext:function(t){var r=e().lightboxImage;null!==r&&n({lightboxImage:Math.min(r+1,t-1)})},setLightboxImagePrev:function(){var t=e().lightboxImage;null!==t&&n({lightboxImage:Math.max(t-1,0)})}}})},51197:(n,e,t)=>{"use strict";t.d(e,{default:()=>M});var r=t(97004),i=t(693),u=t(62570),o=t(39249),s=t(95155),a=t(89786),l=t(3127),c=t(31960),d=t(7068),f=t(78449),h=t(700),g=t(12115),p=t(67069),x=t(6617),m=t(46498),v=t(11760),I=t(19505),b=t(70978),C=t(9665),_=t(41218),S=t(16632),j=t(65221),y=t(14426),E=t(44054),A=t(40774),w=function(n,e){switch(n){case A.Q.NUMBER:var t=parseFloat(e);return isNaN(t)?0:t;case A.Q.STRING:case A.Q.MULTILINE:return e||"";default:return e}},N=function(n){switch(void 0===n?"undefined":(0,E._)(n)){case"string":return n;case"number":return n.toString(10)||"0";default:return""}};let P=function(n){var e=n.id,t=n.label,r=n.type,i=n.value,o=n.onChange,a=(0,u._)((0,g.useState)(N(i)),2),l=a[0],c=a[1];return(0,s.jsx)(f.default,{id:e,label:t,type:"text",multiline:r===A.Q.MULTILINE,value:l,onChange:function(n){c(n.target.value)},onBlur:function(){c(N(w(r,l))),o(w(r,l))}})},D=function(n){var e=(0,v.h)(),t=e.deletePlugin,r=e.updatePluginConfig,i=n.url,u=n.name,o=n.description,a=n.configParams,c=void 0===a?{}:a,f=n.config,g=void 0===f?{}:f,p=n.error,x=n.loading,m=n.pluginIndex;return(0,s.jsxs)(_.default,{raised:!0,component:"li",children:[(0,s.jsx)(j.default,{title:(0,s.jsxs)(d.default,{direction:"row",gap:2,children:[(0,s.jsx)(h.default,{variant:"h3",component:"h3",children:u}),x&&(0,s.jsx)(y.default,{color:"secondary",size:22})]}),subheader:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.default,{variant:"body2",component:"div",children:o}),(0,s.jsx)(h.default,{variant:"caption",component:"div",children:i})]}),action:(0,s.jsx)(l.default,{title:'Delete Plugin "'.concat(u,'"'),onClick:function(){return t(i)},children:(0,s.jsx)(I.A,{})})}),(0,s.jsx)(S.default,{children:(0,s.jsxs)(d.default,{direction:"column",gap:4,children:[p&&(0,s.jsx)(C.default,{severity:"warning",icon:(0,s.jsx)(b.A,{fontSize:"inherit",color:"warning"}),children:p}),Object.keys(c).map(function(n){return(0,s.jsx)(P,{id:"".concat(n,"-").concat(m),label:c[n].label,type:c[n].type,value:g[n],onChange:function(e){r(i,n,e)}},"".concat(n,"-").concat(m))})]})})]})},M=function(){var n=(0,v.h)().plugins,e=(0,m.A)().setError,t=(0,x.h)().validateAndAddPlugin,I=(0,u._)((0,g.useState)(""),2),b=I[0],C=I[1],_=(0,u._)((0,g.useState)(!1),2),S=_[0],j=_[1];return(0,s.jsxs)(d.default,{direction:"column",gap:10,children:[(0,s.jsx)(f.default,{id:"plugin-settings-add-plugin",label:"Add Plugin",helperText:(0,s.jsx)(c.default,{rel:"noreferrer noopener nofollow",href:"https://herrzatacke.github.io/gb-printer-web-plugins/",target:"_blank",children:"\uD83D\uDD17 A selection of plugins can be found here"}),type:"text",disabled:S,value:b,slotProps:(0,i._)({input:{endAdornment:(0,s.jsx)(l.default,{disabled:!b||S,onClick:(0,r._)(function(){return(0,o.YH)(this,function(n){switch(n.label){case 0:return j(!0),[4,t({url:b})];case 1:return n.sent()?C(""):e(Error("Could not install plugin.")),j(!1),[2]}})}),children:(0,s.jsx)(a.A,{})})}},p.y),onChange:function(n){C(n.target.value)}}),(0,s.jsxs)(d.default,{direction:"column",gap:1,children:[(0,s.jsx)(h.default,{component:"h3",variant:"h3",children:"Installed Plugins"}),(0,s.jsx)(d.default,{direction:"column",gap:6,component:"ul",children:n.map(function(n,e){return(0,s.jsx)(D,(0,i._)({pluginIndex:e},n),n.url)})})]})]})}},67069:(n,e,t)=>{"use strict";t.d(e,{y:()=>r});var r={htmlInput:{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1},inputLabel:{shrink:!0},fullWidth:!0,size:"small"}},84280:(n,e,t)=>{Promise.resolve().then(t.bind(t,51197))}},n=>{var e=e=>n(n.s=e);n.O(0,[4453,700,7859,7271,4831,3313,5394,8449,9665,3130,1760,8441,5955,1684,7358],()=>e(84280)),_N_E=n.O()}]);