(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6229],{6617:(e,n,t)=>{"use strict";t.d(n,{h:()=>s,i:()=>u});var r=t(97004),i=t(39249),o=t(12115),u=(0,o.createContext)({runWithImage:(0,r._)(function(){return(0,i.YH)(this,function(e){throw Error("Plugin Context is missing")})}),runWithImages:(0,r._)(function(){return(0,i.YH)(this,function(e){throw Error("Plugin Context is missing")})}),validateAndAddPlugin:(0,r._)(function(){return(0,i.YH)(this,function(e){throw Error("Plugin Context is missing")})})}),s=function(){return(0,o.useContext)(u)}},40774:(e,n,t)=>{"use strict";t.d(n,{B:()=>r,Q:()=>i});var r=function(e){return e.CONFIRM_ASK="CONFIRM_ASK",e.CONFIRM_ANSWERED="CONFIRM_ANSWERED",e.ADD_IMAGES="ADD_IMAGES",e.IMPORT_FILES="IMPORT_FILES",e}({}),i=function(e){return e.NUMBER="number",e.STRING="string",e.MULTILINE="multiline",e}({})},46498:(e,n,t)=>{"use strict";t.d(n,{A:()=>g});var r=t(86447),i=t(693),o=t(60376),u=t(577),s=t(30832),a=t.n(s),l=t(9779),c=t(51368),d=(0,t(65453).v)(function(e,n){return{dragover:!1,errors:[],isFullscreen:!1,lightboxImage:null,printerBusy:!1,printerData:null,printerFunctions:[],progress:{gif:0,printer:0,plugin:0},progressLog:{git:[],dropbox:[]},showSerials:!1,syncBusy:!1,syncSelect:!1,trashCount:{frames:0,images:0,show:!1},videoSelection:[],dismissError:function(t){return e({errors:n().errors.filter(function(e,n){return n!==t})})},resetProgressLog:function(){return e({progressLog:{git:[],dropbox:[]}})},setDragover:function(n){return e({dragover:n})},setError:function(t){return e({errors:(0,u._)(n().errors).concat([{error:t,timestamp:a()().unix(),id:(0,c.A)()}])})},setIsFullscreen:function(n){return e({isFullscreen:n})},setPrinterBusy:function(n){return e({printerBusy:n})},setPrinterData:function(n){return e({printerData:n})},setPrinterFunctions:function(n){return e({printerFunctions:n})},setProgress:function(t,u){return e({progress:(0,o._)((0,i._)({},n().progress),(0,r._)({},t,u))})},setShowSerials:function(n){return e({showSerials:n})},setSyncBusy:function(n){return e({syncBusy:n})},setSyncSelect:function(n){return e({syncSelect:n})},showTrashCount:function(t){return e({trashCount:(0,o._)((0,i._)({},n().trashCount),{show:t})})},updateTrashCount:function(t,r){return e({trashCount:(0,o._)((0,i._)({},n().trashCount),{frames:t,images:r})})},setVideoSelection:function(n){return e({videoSelection:n})},setProgressLog:function(t,s){var a=n().progressLog;e({progressLog:(0,o._)((0,i._)({},a),(0,r._)({},t,[s].concat((0,u._)(a[t]))))})},setLightboxImage:function(n){null===n&&l.A.exit(),e({lightboxImage:n})},setLightboxImageNext:function(t){var r=n().lightboxImage;null!==r&&e({lightboxImage:Math.min(r+1,t-1)})},setLightboxImagePrev:function(){var t=n().lightboxImage;null!==t&&e({lightboxImage:Math.max(t-1,0)})}}});window.se=d.getState().setError;let g=d},51197:(e,n,t)=>{"use strict";t.d(n,{default:()=>D});var r=t(97004),i=t(693),o=t(78538),u=t(39249),s=t(95155),a=t(89786),l=t(3127),c=t(31960),d=t(7068),g=t(78449),f=t(700),h=t(12115),p=t(67069),x=t(6617),m=t(46498),v=t(11760),_=t(19505),I=t(70978),b=t(9665),C=t(41218),S=t(16632),j=t(65221),E=t(14426),y=t(44054),A=t(40774),P=function(e,n){switch(e){case A.Q.NUMBER:var t=parseFloat(n);return isNaN(t)?0:t;case A.Q.STRING:case A.Q.MULTILINE:return n||"";default:return n}},w=function(e){switch(void 0===e?"undefined":(0,y._)(e)){case"string":return e;case"number":return e.toString(10)||"0";default:return""}};let N=function(e){var n=e.id,t=e.label,r=e.type,i=e.value,u=e.onChange,a=(0,o._)((0,h.useState)(w(i)),2),l=a[0],c=a[1];return(0,s.jsx)(g.default,{id:n,label:t,type:"text",multiline:r===A.Q.MULTILINE,value:l,onChange:function(e){c(e.target.value)},onBlur:function(){c(w(P(r,l))),u(P(r,l))}})},L=function(e){var n=(0,v.h)(),t=n.deletePlugin,r=n.updatePluginConfig,i=e.url,o=e.name,u=e.description,a=e.configParams,c=void 0===a?{}:a,g=e.config,h=void 0===g?{}:g,p=e.error,x=e.loading,m=e.pluginIndex;return(0,s.jsxs)(C.default,{raised:!0,component:"li",children:[(0,s.jsx)(j.default,{title:(0,s.jsxs)(d.default,{direction:"row",gap:2,children:[(0,s.jsx)(f.default,{variant:"h3",component:"h3",children:o}),x&&(0,s.jsx)(E.default,{color:"secondary",size:22})]}),subheader:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.default,{variant:"body2",component:"div",children:u}),(0,s.jsx)(f.default,{variant:"caption",component:"div",children:i})]}),action:(0,s.jsx)(l.default,{title:'Delete Plugin "'.concat(o,'"'),onClick:function(){return t(i)},children:(0,s.jsx)(_.A,{})})}),(0,s.jsx)(S.default,{children:(0,s.jsxs)(d.default,{direction:"column",gap:4,children:[p&&(0,s.jsx)(b.default,{severity:"warning",icon:(0,s.jsx)(I.A,{fontSize:"inherit",color:"warning"}),children:p}),Object.keys(c).map(function(e){return(0,s.jsx)(N,{id:"".concat(e,"-").concat(m),label:c[e].label,type:c[e].type,value:h[e],onChange:function(n){r(i,e,n)}},"".concat(e,"-").concat(m))})]})})]})},D=function(){var e=(0,v.h)().plugins,n=(0,m.A)().setError,t=(0,x.h)().validateAndAddPlugin,_=(0,o._)((0,h.useState)(""),2),I=_[0],b=_[1],C=(0,o._)((0,h.useState)(!1),2),S=C[0],j=C[1];return(0,s.jsxs)(d.default,{direction:"column",gap:10,children:[(0,s.jsx)(g.default,{id:"plugin-settings-add-plugin",label:"Add Plugin",helperText:(0,s.jsx)(c.default,{rel:"noreferrer noopener nofollow",href:"https://herrzatacke.github.io/gb-printer-web-plugins/",target:"_blank",children:"\uD83D\uDD17 A selection of plugins can be found here"}),type:"text",disabled:S,value:I,slotProps:(0,i._)({input:{endAdornment:(0,s.jsx)(l.default,{disabled:!I||S,onClick:(0,r._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:return j(!0),[4,t({url:I})];case 1:return e.sent()?b(""):n(Error("Could not install plugin.")),j(!1),[2]}})}),children:(0,s.jsx)(a.A,{})})}},p.y),onChange:function(e){b(e.target.value)}}),(0,s.jsxs)(d.default,{direction:"column",gap:1,children:[(0,s.jsx)(f.default,{component:"h3",variant:"h3",children:"Installed Plugins"}),(0,s.jsx)(d.default,{direction:"column",gap:6,component:"ul",children:e.map(function(e,n){return(0,s.jsx)(L,(0,i._)({pluginIndex:n},e),e.url)})})]})]})}},67069:(e,n,t)=>{"use strict";t.d(n,{y:()=>r});var r={htmlInput:{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1},inputLabel:{shrink:!0},fullWidth:!0,size:"small"}},84280:(e,n,t)=>{Promise.resolve().then(t.bind(t,51197))}},e=>{var n=n=>e(e.s=n);e.O(0,[4453,700,7859,7271,4831,6139,5394,3313,8449,9665,3130,1760,8441,1684,7358],()=>n(84280)),_N_E=e.O()}]);