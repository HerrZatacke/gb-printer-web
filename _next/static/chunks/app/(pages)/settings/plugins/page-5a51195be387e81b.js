(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6229],{6840:(n,e,t)=>{"use strict";t.d(e,{h:()=>l,i:()=>o});var i=t(61975),r=t(71450),u=t(12115),o=(0,u.createContext)({runWithImage:function(){return(0,i._)(function(){return(0,r.YH)(this,function(n){throw Error("Plugin Context is missing")})})()},runWithImages:function(){return(0,i._)(function(){return(0,r.YH)(this,function(n){throw Error("Plugin Context is missing")})})()},validateAndAddPlugin:function(){return(0,i._)(function(){return(0,r.YH)(this,function(n){throw Error("Plugin Context is missing")})})()}}),l=function(){return(0,u.useContext)(o)}},53776:(n,e,t)=>{"use strict";t.d(e,{y:()=>i});var i={htmlInput:{autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1},inputLabel:{shrink:!0},fullWidth:!0,size:"small"}},63271:(n,e,t)=>{"use strict";t.d(e,{default:()=>y});var i=t(61975),r=t(82732),u=t(22043),o=t(71450),l=t(95155),s=t(18397),a=t(24288),c=t(37440),d=t(41942),h=t(13802),g=t(80317),f=t(18955),p=t(12115),A=t(53776),x=t(6840),m=t(50751),v=t(72879),j=t(6170),_=t(33195),C=t(4615),I=t(92920),b=t(24627),E=t(61294),N=t(98638),P=t(80971),S=t(90355),w=function(n,e){switch(n){case S.Q.NUMBER:var t=parseFloat(e);return isNaN(t)?0:t;case S.Q.STRING:case S.Q.MULTILINE:return e||"";default:return e}},M=function(n){switch(void 0===n?"undefined":(0,P._)(n)){case"string":return n;case"number":return n.toString(10)||"0";default:return""}};let R=function(n){var e=n.id,t=n.label,i=n.type,r=n.value,o=n.onChange,s=(0,u._)((0,p.useState)(M(r)),2),a=s[0],c=s[1];return(0,l.jsx)(h.A,{id:e,label:t,type:"text",multiline:i===S.Q.MULTILINE,value:a,onChange:function(n){c(n.target.value)},onBlur:function(){c(M(w(i,a))),o(w(i,a))}})},k=function(n){var e=(0,v.h)(),t=e.deletePlugin,i=e.updatePluginConfig,r=(0,f.c3)("SettingsPlugins"),u=n.url,o=n.name,s=n.description,c=n.configParams,h=void 0===c?{}:c,p=n.config,A=void 0===p?{}:p,x=n.error,m=n.loading,P=n.pluginIndex;return(0,l.jsxs)(I.A,{raised:!0,component:"li",children:[(0,l.jsx)(E.A,{title:(0,l.jsxs)(d.A,{direction:"row",gap:2,children:[(0,l.jsx)(g.A,{variant:"h3",component:"h3",children:o}),m&&(0,l.jsx)(N.A,{color:"secondary",size:22})]}),subheader:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.A,{variant:"body2",component:"div",children:s}),(0,l.jsx)(g.A,{variant:"caption",component:"div",children:u})]}),action:(0,l.jsx)(a.A,{title:r("deletePlugin",{name:o||""}),onClick:function(){return t(u)},children:(0,l.jsx)(j.A,{})})}),(0,l.jsx)(b.A,{children:(0,l.jsxs)(d.A,{direction:"column",gap:4,children:[x&&(0,l.jsx)(C.A,{severity:"warning",icon:(0,l.jsx)(_.A,{fontSize:"inherit",color:"warning"}),children:x}),Object.keys(h).map(function(n){return(0,l.jsx)(R,{id:"".concat(n,"-").concat(P),label:h[n].label,type:h[n].type,value:A[n],onChange:function(e){i(u,n,e)}},"".concat(n,"-").concat(P))})]})})]})},y=function(){var n=(0,v.h)().plugins,e=(0,m.A)().setError,t=(0,x.h)().validateAndAddPlugin,j=(0,u._)((0,p.useState)(""),2),_=j[0],C=j[1],I=(0,u._)((0,p.useState)(!1),2),b=I[0],E=I[1],N=(0,f.c3)("SettingsPlugins");return(0,l.jsxs)(d.A,{direction:"column",gap:10,children:[(0,l.jsx)(h.A,{id:"plugin-settings-add-plugin",label:N("addPlugin"),helperText:(0,l.jsx)(c.A,{rel:"noreferrer noopener nofollow",href:"https://herrzatacke.github.io/gb-printer-web-plugins/",target:"_blank",children:N("addPluginHelper")}),type:"text",disabled:b,value:_,slotProps:(0,r._)({input:{endAdornment:(0,l.jsx)(a.A,{disabled:!_||b,onClick:function(){return(0,i._)(function(){return(0,o.YH)(this,function(n){switch(n.label){case 0:return E(!0),[4,t({url:_})];case 1:return n.sent()?C(""):e(Error("Could not install plugin.")),E(!1),[2]}})})()},children:(0,l.jsx)(s.A,{})})}},A.y),onChange:function(n){C(n.target.value)}}),(0,l.jsxs)(d.A,{direction:"column",gap:1,children:[(0,l.jsx)(g.A,{component:"h3",variant:"h3",children:N("installedPlugins")}),(0,l.jsx)(d.A,{direction:"column",gap:6,component:"ul",children:n.map(function(n,e){return(0,l.jsx)(k,(0,r._)({pluginIndex:e},n),n.url)})})]})]})}},84280:(n,e,t)=>{Promise.resolve().then(t.bind(t,63271))},90355:(n,e,t)=>{"use strict";t.d(e,{B:()=>i,Q:()=>r});var i=function(n){return n.CONFIRM_ASK="CONFIRM_ASK",n.CONFIRM_ANSWERED="CONFIRM_ANSWERED",n.ADD_IMAGES="ADD_IMAGES",n.IMPORT_FILES="IMPORT_FILES",n}({}),r=function(n){return n.NUMBER="number",n.STRING="string",n.MULTILINE="multiline",n}({})}},n=>{n.O(0,[8955,3632,317,2545,4120,9832,9452,5513,1703,3683,3802,4615,2192,2781,8441,9342,1255,7358],()=>n(n.s=84280)),_N_E=n.O()}]);