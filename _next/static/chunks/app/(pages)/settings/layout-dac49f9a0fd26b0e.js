(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7437],{1470:(e,t,n)=>{"use strict";n.d(t,{t:()=>r,z:()=>u});var r="ROOT",u=function(){return{id:r,slug:"",created:"",title:"Home",coverImage:"",images:[],groups:[],tags:[]}}},1607:(e,t,n)=>{"use strict";n.d(t,{D:()=>p,EnvProvider:()=>g});var r=n(97004),u=n(693),a=n(60376),o=n(78538),i=n(39249),s=n(95155),l=n(12115),c=n(52166),d=n(75380),f=(0,l.createContext)(null),p=function(){return(0,l.useContext)(f)},g=function(e){var t=e.children,n=(0,o._)((0,l.useState)(null),2),p=n[0],g=n[1],h=(0,c.A)().setPrinterUrl;return(0,l.useEffect)(function(){var e=["/gb-printer-web","/env.json"].filter(Boolean).join("/");e&&(0,r._)(function(){var t,n,r,o;return(0,i.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,(0,d.ZU)()];case 1:return i.sent(),[4,fetch(e)];case 2:return[4,i.sent().json()];case 3:return t=i.sent(),r=[(0,u._)({},t)],o={},[4,d.mU.driver()];case 4:return"esp8266"===(n=a._.apply(void 0,r.concat([(o.localforage=i.sent(),o)]))).env&&h("/"),g(n),[3,6];case 5:return i.sent(),g({version:"0.0.0",maximages:0,localforage:"error",env:"error",fstype:"-",bootmode:"-",oled:!1}),[3,6];case 6:return[2]}})})()},[h]),(0,s.jsx)(f.Provider,{value:p,children:t})}},5687:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=n(14810).A},9700:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=n(22550).A},14810:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},21329:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=n(43430).A},22550:(e,t,n)=>{"use strict";function r(e,t=166){let n;function u(...r){clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}return u.clear=()=>{clearTimeout(n)},u}n.d(t,{A:()=>r})},23747:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>w,BF:()=>E,Ll:()=>_});var r=n(97004),u=n(693),a=n(60376),o=n(78538),i=n(39249),s=n(30832),l=n.n(s),c=n(12115),d=n(5432),f=n(95939),p=n(33782),g=n(45465),h=n(3381),v=n(71620),m=n(11760),I=n(80360),_="NEW_GROUP",E=function(e){return e.trim().replace(/[^A-Z0-9_-]+/gi,"_").toLowerCase()},b=function(e,t){return e.find(function(e){return e.group.groups.find(function(e){return e.id===t})})||null},T=function(e){return e.CREATE_NEW="CREATE_NEW",e.EDIT_EXISTING="EDIT_EXISTING",e.NOT_EDITING="NOT_EDITING",e}(T||{});let w=function(){var e,t=(0,v.A)().imageSelection,n=(0,h.A)(),s=n.editImageGroup,T=n.cancelEditImageGroup,w=(0,m.h)(),P=w.imageGroups,x=w.addImageGroup,A=w.updateImageGroup,S=w.groupImagesAdd,C=w.ungroupImages,G=(0,p.g)(),N=G.navigateToGroup,y=G.navigateToImage,k=(0,f.Z)(),j=k.view,D=k.paths,M=k.pathsOptions,R=(0,g.Y)().path,H=t.length,O=(null==s?void 0:s.groupId)?s.groupId===_?"CREATE_NEW":"EDIT_EXISTING":"NOT_EDITING",W=(0,c.useMemo)(function(){switch(O){case"CREATE_NEW":var e=(null==s?void 0:s.newGroupTitle)||"";return{imageGroup:null,parentPathMap:D.find(function(e){return e.group.id===j.id})||null,title:e,slug:E(e),slugTouched:!1};case"EDIT_EXISTING":var t=P.find(function(e){return e.id===(null==s?void 0:s.groupId)})||null;return{imageGroup:t,parentPathMap:(null==s?void 0:s.groupId)?b(D,s.groupId):null,title:(null==t?void 0:t.title)||"",slug:(null==t?void 0:t.slug)||"",slugTouched:!0};default:return{imageGroup:null,parentPathMap:null,title:"",slug:"",slugTouched:!1}}},[s,O,P,D,j]),Y=(0,o._)((0,c.useState)(W.title),2),L=Y[0],B=Y[1],F=(0,o._)((0,c.useState)(W.slug),2),U=F[0],q=F[1],z=(0,o._)((0,c.useState)(W.slugTouched),2),X=z[0],Z=z[1],V=(0,o._)((0,c.useState)((null==(e=W.parentPathMap)?void 0:e.absolutePath)||""),2),K=V[0],$=V[1],J=(0,c.useMemo)(function(){if(!(null==s?void 0:s.groupId))return"";if((null==s?void 0:s.groupId)===_)return"".concat(R).concat(U,"/");var e=b(D,s.groupId),t=(null==e?void 0:e.absolutePath)||"";return"".concat(t).concat(U,"/")},[s,D,R,U]),Q=(0,c.useMemo)(function(){return!!D.find(function(e){return e.absolutePath===J})},[J,D]),ee=(0,c.useMemo)(function(){var e;return U!==(null==(e=W.imageGroup)?void 0:e.slug)},[W,U]),et=(0,c.useMemo)(function(){return!!U&&("CREATE_NEW"===O?!Q:"EDIT_EXISTING"===O&&(!ee||!Q))},[O,U,Q,ee]),en=(0,c.useMemo)(function(){var e,t,n=(null==(e=D.find(function(e){return e.absolutePath===K}))?void 0:e.group.id)||"";return((null==(t=W.parentPathMap)?void 0:t.group.id)||"")!==n},[W,K,D]),er=(0,c.useMemo)(function(){switch(O){case"EDIT_EXISTING":var e,t=(null==(e=D.find(function(e){return e.group.id===(null==s?void 0:s.groupId)}))?void 0:e.absolutePath)||"";return M.filter(function(e){var n=e.value;return!n.startsWith(J)&&n!==t});case"CREATE_NEW":return M;default:return[]}},[J,s,O,D,M]);return{editId:(null==s?void 0:s.groupId)||null,absoluteSlug:J,possibleParents:er,slug:U,title:L,canConfirm:et,canMove:en,slugIsInUse:Q,slugWasChanged:ee,parentSlug:K,selectionCount:H,setSlug:function(e){q(e),Z(!0)},setTitle:function(e){B(e),(e.length<2||!X)&&(Z(!1),q(E(e)))},setParentSlug:$,confirm:function(){if(T(),et&&s){var e,n=(null==(e=D.find(function(e){return e.absolutePath===K}))?void 0:e.group.id)||"";if(s.groupId===_){if(!s.newGroupCover)return;var r=(0,I.z)();x({id:r,slug:U,title:L,created:l()(Date.now()).format(d.i$),coverImage:s.newGroupCover,images:t,groups:[]},n),N(r,0)}else{if(!W.imageGroup)return;A((0,a._)((0,u._)({},W.imageGroup),{slug:U,title:L}),n),N(s.groupId,0)}}},move:(0,r._)(function(){var e,n;return(0,i.YH)(this,function(r){return T(),en&&((n=(null==(e=D.find(function(e){return e.absolutePath===K}))?void 0:e.group.id)||"")?S(n,t):C(t),y(t[0])),[2]})}),cancelEditImageGroup:T}}},29032:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r=n(35695),u=n(12115),a=function(){var e=(0,r.usePathname)(),t=(0,r.useSearchParams)(),n=(0,u.useMemo)(function(){return t.toString()},[t]);return{fullPath:(0,u.useMemo)(function(){return n?"".concat(e,"?").concat(n):e},[e,n]),pathname:e,query:n,searchParams:t}}},31178:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(14810);function u(e){return(0,r.A)(e).defaultView||window}},32134:(e,t,n)=>{"use strict";n.d(t,{GalleryTreeContext:()=>f,K:()=>d});var r=n(78538),u=n(95155),a=n(12115),o=n(45465),i=n(46498),s=n(11760),l=n(52166),c=n(1470),d=(0,a.createContext)({root:(0,c.z)(),view:(0,c.z)(),images:[],covers:[],paths:[],pathsOptions:[],isWorking:!1});function f(e){var t=e.children,f=(0,r._)((0,a.useState)(null),2),p=f[0],g=f[1],h=(0,r._)((0,a.useState)(!0),2),v=h[0],m=h[1],I=(0,r._)((0,a.useState)((0,c.z)()),2),_=I[0],E=I[1],b=(0,r._)((0,a.useState)([]),2),T=b[0],w=b[1],P=(0,r._)((0,a.useState)([]),2),x=P[0],A=P[1],S=(0,l.A)(),C=S.enableImageGroups,G=S.enableDebug,N=(0,i.A)().setError,y=(0,s.h)(),k=y.imageGroups,j=y.images,D=y.setImageGroups,M=(0,a.useMemo)(function(){return C?k:[]},[C,k]),R=(0,o.Y)().path;(0,a.useEffect)(function(){var e=new Worker(n.tu(new URL(n.p+n.u(2814),n.b)));return e.onmessage=function(e){if("result"===e.data.type){if(E(e.data.root),w(e.data.paths),A(e.data.pathsOptions),m(!1),C&&k.length>e.data.paths.length){var t=e.data.paths.map(function(e){return e.group.id});D(k.filter(function(e){var n=e.id;return t.includes(n)}))}G&&console.info("worker ran for ".concat(e.data.duration,"ms"))}else"error"===e.data.type&&N(Error(e.data.error))},e.onerror=function(e){N(Error(e.message)),m(!1)},g(e),function(){e.terminate(),g(null)}},[G,C,N,D,k]),(0,a.useEffect)(function(){p&&(m(!0),p.postMessage({imageGroups:M,stateImages:j}))},[M,j,p]);var H=(0,a.useMemo)(function(){var e,t=(null==(e=T.find(function(e){return e.absolutePath===R}))?void 0:e.group)||_,n=t.groups.map(function(e){return e.coverImage}),r=t.images.filter(function(e){return!n.includes(e.hash)});return{view:t,covers:n,paths:T,images:r,pathsOptions:x,root:_,isWorking:v}},[R,T,x,_,v]);return(0,u.jsx)(d.Provider,{value:H,children:t})}},32299:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,useRtl:()=>s});var r=n(693),u=n(37414),a=n(12115),o=n(95155),i=a.createContext(),s=function(){var e=a.useContext(i);return null!=e&&e};let l=function(e){var t=e.value,n=(0,u._)(e,["value"]);return(0,o.jsx)(i.Provider,(0,r._)({value:null==t||t},n))}},33782:(e,t,n)=>{"use strict";n.d(t,{NavigationToolsProvider:()=>i,g:()=>s});var r=n(95155),u=n(12115),a=n(70940),o=(0,u.createContext)(null);function i(e){var t=e.children,n=(0,a.n)();return(0,r.jsx)(o.Provider,{value:n,children:t})}var s=function(){var e=(0,u.useContext)(o);if(!e)throw Error("useNavigationToolsContext must be used within an NavigationToolsProvider");return e}},34742:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=n(31178).A},38584:(e,t,n)=>{Promise.resolve().then(n.bind(n,91128))},45465:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(78538),u=n(12115),a=n(29032),o="/gallery/",i=function(){var e,t=(0,a.j)(),n=t.searchParams,i=t.pathname,s=(0,r._)((0,u.useState)(""),2),l=s[0],c=s[1],d=parseInt(null!=(e=n.get("page"))?e:"1",10)-1,f=n.get("group")||"",p=(0,u.useCallback)(function(e){var t="number"==typeof e.pageIndex?e.pageIndex:d,n="string"==typeof e.group?e.group:f,r="".concat(o,"?page=").concat(t+1);return n.length&&(r="".concat(r,"&group=").concat(n)),r},[d,f]);return(0,u.useEffect)(function(){i===o&&c(p({pageIndex:d,group:f}))},[f,d,i,p]),{pageIndex:d,path:f,lastGalleryLink:l,getUrl:p}}},50422:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(693),u=n(60376),a=n(37414),o=n(81616),i=n(13051),s=n(56501),l=n(89602);let c=function(e){var t,n=e.elementType,c=e.externalSlotProps,d=e.ownerState,f=e.skipResolvingSlotProps,p=(0,a._)(e,["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"]),g=void 0!==f&&f?{}:(0,l.A)(c,d),h=(0,s.A)((0,u._)((0,r._)({},p),{externalSlotProps:g})),v=h.props,m=h.internalRef,I=(0,o.A)(m,null==g?void 0:g.ref,null==(t=e.additionalProps)?void 0:t.ref);return(0,i.A)(n,(0,u._)((0,r._)({},v),{ref:I}),d)}},53267:(e,t,n)=>{"use strict";n.d(t,{default:()=>l});var r=n(67908),u=n(34084),a=n(69077),o=n(54107),i=(0,n(55170).A)("MuiBox",["root"]),s=(0,a.A)();let l=(0,r.default)({themeId:o.A,defaultTheme:s,defaultClassName:i.root,generateClassName:u.A.generate})},61564:(e,t,n)=>{"use strict";n.d(t,{t:()=>g});var r=n(97004),u=n(39249),a=n(12115),o=n(33236),i=n(39630),s=n(95939),l=n(23747),c=n(41186),d=n(3381),f=n(71620),p=n(11760),g=function(){var e=(0,s.Z)().view,t=(0,c.A)(),n=t.dismissDialog,g=t.setDialog,h=(0,d.A)().setEditImageGroup,v=(0,p.h)(),m=v.deleteImageGroup,I=v.setImageGroups,_=v.images,E=(0,f.A)().imageSelection,b=(0,a.useMemo)(function(){if(!E.length)return"";var e,t=_.filter(function(e){var t=e.hash;return E.includes(t)}).map(function(e){return e.title}).filter(function(e){return e.length>3}),n=null==(e=(0,o.Hg)(t).filter(function(e){return e.length>3})[0])?void 0:e.trim();return n?n.replace(/[_-]/g," ").replace(/^\s*\d+\s+|\s+\d+\s*$/g,"").trim():"New Group"},[E,_]);return{resetGroups:function(){g({message:"Reset image groups?",questions:function(){return[{key:"info",type:i.V.INFO,label:"This will remove ALL your created groups and all existing images will be moved to the top level."}]},confirm:(0,r._)(function(){return(0,u.YH)(this,function(e){return n(0),I([]),[2]})}),deny:(0,r._)(function(){return(0,u.YH)(this,function(e){return n(0),[2]})})})},createGroup:function(e){h({groupId:l.Ll,newGroupCover:e,newGroupTitle:b})},editGroup:function(e){h({groupId:e})},deleteGroup:function(t){var a=e.groups.find(function(e){return e.id===t});a&&g({message:"Delete image group?",questions:function(){return[{key:"info",type:i.V.INFO,label:'This will delete this group "'.concat(a.title||a.slug,'" and move all children (images & groups) to the current level.')}]},confirm:(0,r._)(function(){return(0,u.YH)(this,function(e){return n(0),m(t),[2]})}),deny:(0,r._)(function(){return(0,u.YH)(this,function(e){return n(0),[2]})})})}}}},67908:(e,t,n)=>{"use strict";n.d(t,{default:()=>f});var r=n(693),u=n(37414),a=n(12115),o=n(52596),i=n(46879),s=n(13184),l=n(5300),c=n(64330),d=n(95155);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,f=e.defaultClassName,p=void 0===f?"MuiBox-root":f,g=e.generateClassName,h=(0,i.default)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(s.A);return a.forwardRef(function(e,a){var i=(0,c.default)(n),s=(0,l.A)(e),f=s.className,v=s.component,m=(0,u._)(s,["className","component"]);return(0,d.jsx)(h,(0,r._)({as:void 0===v?"div":v,ref:a,className:(0,o.A)(f,g?g(p):p),theme:t&&i[t]||i},m))})}},70940:(e,t,n)=>{"use strict";n.d(t,{n:()=>f});var r=n(78538),u=n(35695),a=n(12115),o=n(95939),i=n(45465),s=n(71620),l=n(52166),c=n(1470),d=n(66785),f=function(){var e=(0,u.useRouter)(),t=(0,o.Z)(),n=t.paths,f=t.root,p=t.isWorking,g=(0,r._)((0,a.useState)(!1),2),h=g[0],v=g[1],m=(0,s.A)(),I=m.sortBy,_=m.filtersActiveTags,E=m.recentImports,b=(0,l.A)().pageSize,T=(0,i.Y)(),w=T.path,P=T.getUrl,x=(0,a.useCallback)(function(e){return(0,d.S)(e,{filtersActiveTags:_,sortBy:I,recentImports:E})},[_,E,I]),A=(0,a.useCallback)(function(e,t){return Math.floor(x(t.images).findIndex(function(t){return t.hash===e})/b)},[x,b]),S=(0,a.useCallback)(function(e,t){var r;return e===c.t?P({pageIndex:t,group:""}):P({pageIndex:t,group:(null==(r=n.find(function(t){return e===t.group.id}))?void 0:r.absolutePath)||""})},[P,n]),C=(0,a.useMemo)(function(){var e;return(null==(e=n.find(function(e){return e.absolutePath===w}))?void 0:e.group)||f},[w,n,f]),G=(0,a.useCallback)(function(e){var t=n.find(function(t){return t.group.images.map(function(e){return e.hash}).includes(e)}),r=(null==t?void 0:t.absolutePath)||"";return P({pageIndex:A(e,(null==t?void 0:t.group)||f),group:r})},[A,P,n,f]),N=(0,a.useCallback)(function(e,t){window.setTimeout(function(){v({group:{id:e,pageIndex:t}})},1)},[]),y=(0,a.useCallback)(function(e){window.setTimeout(function(){v({imageHash:e})},1)},[]);return(0,a.useEffect)(function(){if(!p&&h){var t=window.setTimeout(function(){h.imageHash?(e.push(G(h.imageHash)),v(!1)):h.group&&(e.push(S(h.group.id,h.group.pageIndex)),v(!1))},1);return function(){window.clearTimeout(t)}}},[S,G,p,e,h]),{currentGroup:C,getGroupPath:S,getImagePageIndexInGroup:A,navigateToGroup:N,navigateToImage:y}}},80360:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r=n(51368).A},91128:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>B});var r=n(95155),u=n(53267),a=n(7068),o=n(700),i=n(12115),s=n(1607);let l=function(){var e=(0,s.D)(),t=(0,i.useMemo)(function(){return e?["Web-App version: ".concat("master"),"Web-App branch: ".concat("1.48.1"),"Printer version: ".concat(e.version),"Max Images: ".concat(e.maximages),"Localforage driver: ".concat(e.localforage),"Environment type: ".concat(e.env),"Compiled Filesystem: ".concat(e.fstype),"Compiled Bootmode: ".concat(e.bootmode),"Compiled for OLED: ".concat(e.oled?"yes":"no")]:[]},[e]);return(0,r.jsx)(a.default,{component:"ul",direction:"column",children:t.map(function(e){return(0,r.jsx)(o.default,{component:"li",variant:"caption",color:"textDisabled",align:"right",lineHeight:1.25,children:e},e)})})};var c=n(7642),d=n(61487),f=n(69229),p=n(61564),g=n(83936),h=n(97004),v=n(78538),m=n(39249),I=function(e){return e.PERSISTED="persisted",e.NOT_PERSISTED="not-persisted",e.FAILED="failed",e.NO_API="no_api",e}({}),_=!!("undefined"!=typeof navigator&&navigator.storage&&navigator.storage.persist),E=function(){var e=(0,h._)(function(e){return(0,m.YH)(this,function(t){switch(t.label){case 0:if(!_)return[3,2];return[4,navigator.storage.persisted()];case 1:return e(t.sent()?"persisted":"not-persisted"),[3,3];case 2:e("no_api"),t.label=3;case 3:return[2]}})});return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,h._)(function(e){return(0,m.YH)(this,function(t){switch(t.label){case 0:if(!_)return[3,2];return[4,navigator.storage.persist()];case 1:return e(t.sent()?"persisted":"failed"),[3,3];case 2:e("no_api"),t.label=3;case 3:return[2]}})});return function(t){return e.apply(this,arguments)}}();let T=function(){var e,t=(0,v._)((0,i.useState)("not-persisted"),2),n=t[0],r=t[1];return(0,i.useEffect)(function(){E(r)},[]),{persistAPIAvailable:_,persisted:n,requestPersist:(e=(0,h._)(function(){return(0,m.YH)(this,function(e){return b(r),[2]})}),function(){return e.apply(this,arguments)})}};var w=n(86447),P=n(693),x=n(60376),A=n(633),S=n(11760),C=n(55364),G=n(5847),N=n(72623),y=function(){var e=(0,h._)(function(e,t,n){var r;return(0,m.YH)(this,function(u){switch(u.label){case 0:return[4,(0,G.T)(e,t)(n,!1)];case 1:if(!(r=u.sent()))return[2,null];return[4,(0,N.cg)(r)];case 2:if(u.sent().dataHash!==n)return[2,(0,N.UN)(r)];return[2,null]}})});return function(t,n,r){return e.apply(this,arguments)}}();let k=function(){var e=(0,S.h)(),t=e.frames,r=e.images,u=(0,A.g)().updateImageHash,a=(0,v._)((0,i.useState)(!0),2),o=a[0],s=a[1];return window.enableHashCleanup=function(){return s(!1)},{cleanupBusy:o,hashCleanup:(0,h._)(function(){var e,a,o;return(0,m.YH)(this,function(i){switch(i.label){case 0:return s(!0),e=0,a=0,[4,Promise.resolve().then(n.t.bind(n,52491,23))];case 1:var l;return o=i.sent().default,[4,Promise.all(r.map((l=(0,h._)(function(n){var i,s,l,c,d;return(0,m.YH)(this,function(f){switch(f.label){case 0:var p;if(i=n.hash,!(0,C.pl)(n))return[3,2];return[4,Promise.all(Object.keys(s=n.hashes).map((p=(0,h._)(function(e){var n,u;return(0,m.YH)(this,function(a){switch(a.label){case 0:if(n=s[e],u=null,!n)return[3,2];return[4,y(r,t,n)];case 1:u=a.sent(),a.label=2;case 2:return[2,(0,w._)({},e,u||n)]}})}),function(e){return p.apply(this,arguments)})))];case 1:return(c=o(l=f.sent().reduce(function(e,t){return(0,P._)({},e,t)},{})))!==i&&(e+=1,u(i,(0,x._)((0,P._)({},n),{hash:c,hashes:l}))),[3,4];case 2:return[4,y(r,t,i)];case 3:(d=f.sent())&&(a+=1,u(i,(0,x._)((0,P._)({},n),{hash:d}))),f.label=4;case 4:return[2]}})}),function(e){return l.apply(this,arguments)})))];case 2:return i.sent(),s(!1),console.info({iCounterRGBN:e,iCounterMono:a}),[2]}})})}};var j=function(e){switch(e){case I.PERSISTED:return"Storage is persistent";case I.NOT_PERSISTED:return"Request storage persistence";case I.NO_API:return"Persistance API not available";case I.FAILED:default:return"Failed to persist storage"}};let D=function(){var e=k(),t=e.hashCleanup,n=e.cleanupBusy,u=(0,g.W)().downloadSettings,a=(0,p.t)().resetGroups,o=function(e){return u(e)},i=T(),s=i.persisted,l=i.requestPersist;return(0,r.jsxs)(d.default,{variant:"contained",fullWidth:!0,children:[(0,r.jsx)(c.default,{disabled:s!==I.NOT_PERSISTED,onClick:l,children:j(s)}),(0,r.jsx)(c.default,{onClick:a,children:"Reset image groups"}),(0,r.jsx)(c.default,{onClick:function(){return o(f.m.ALL)},children:"Export Everything"}),(0,r.jsx)(c.default,{onClick:function(){return o(f.m.PLUGINS)},children:"Export Plugins"}),(0,r.jsx)(c.default,{disabled:n,onClick:t,children:"Hash Cleanup"})]})};var M=n(18096),R=n(53369),H=n(6874),O=n.n(H),W=n(35695),Y=n(99451);let L=function(){var e=(0,W.usePathname)(),t=(0,s.D)(),n=(0,i.useMemo)(function(){return[{path:"/settings/generic/",headline:"Generic Settings",prefetch:!0},{path:"/settings/dropbox/",headline:"Dropbox Settings",prefetch:!1},(null==t?void 0:t.env)==="esp8266"||(null==t?void 0:t.env)==="webpack-dev"?{path:"/settings/wifi/",headline:"WiFi Settings",prefetch:!1}:null,{path:"/settings/plugins/",headline:"Plugin Settings",prefetch:!1},{path:"/settings/git/",headline:"Git Settings",prefetch:!1}].reduce(Y.N,[])},[t]),u=(0,i.useMemo)(function(){return n.length&&"/settings"!==e?e:null},[e,n]);return u?(0,r.jsx)(R.default,{value:u,children:n.map(function(e){var t=e.headline,n=e.path,u=e.prefetch;return(0,r.jsx)(M.default,{label:t,component:O(),href:n,prefetch:u,value:n},n)})}):null};function B(e){var t,n,s,c=e.children,d=(n=(t=(0,v._)((0,i.useState)(!1),2))[0],s=t[1],(0,i.useEffect)(function(){if("function"==typeof window.requestIdleCallback){var e=requestIdleCallback(function(){return s(!0)});return function(){window.cancelIdleCallback(e)}}var t=window.setTimeout(function(){return s(!0)},1e3);return function(){window.clearTimeout(t)}},[]),n);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{component:"h1",variant:"h1",children:"Settings"}),d&&(0,r.jsxs)(a.default,{direction:"column",gap:4,justifyContent:"space-between",sx:{flexGrow:1},children:[(0,r.jsxs)(a.default,{direction:"column",gap:6,children:[(0,r.jsx)(L,{}),(0,r.jsx)(u.default,{children:c}),(0,r.jsx)(D,{})]}),(0,r.jsx)(l,{})]})]})}},95939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(12115),u=n(32134),a=function(){return(0,r.useContext)(u.K)}},99451:(e,t,n)=>{"use strict";n.d(t,{N:()=>u});var r=n(577),u=function(e,t){return t?(0,r._)(e).concat([t]):e}}},e=>{var t=t=>e(e.s=t);e.O(0,[4453,700,7859,7271,4831,5394,7642,1487,9758,6874,3678,7266,1760,3936,6950,8441,8857,1684,7358],()=>t(38584)),_N_E=e.O()}]);