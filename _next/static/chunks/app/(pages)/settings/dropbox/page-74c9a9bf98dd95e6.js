(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5631],{14539:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(95155),o=n(80317);n(12115);var a=n(15431),c=n(63528);let u=function(e){var t=e.text;return(0,a.A)().enableDebug?(0,r.jsx)(o.A,{title:t,variant:"caption",fontFamily:"monospace",component:"pre",sx:function(e){return(0,c.E)(e,{px:.5,py:0,mt:1,mb:0,backgroundColor:e.palette.warning[e.palette.mode]})},children:t}):null}},18609:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=function(e){return e.replace(/[^a-z0-9/\\._-]/gi,"").replace(/[\\/]+/gi,"/").replace(/^\//,"").replace(/\/$/,"")}},30780:(e,t,n)=>{"use strict";n.d(t,{default:()=>y});var r=n(22043),o=n(95155),a=n(4615),c=n(64647),u=n(32968),i=n(7291),s=n(37440),l=n(41942),d=n(49571),h=n(13802),p=n(80317),f=n(18955),g=n(12115),b=n(14539),x=n(82732),A=n(83231),S=n(55382),m=n(28802),w=n(34808),v=function(){var e=(0,S.g)(),t=(0,A.W)().remoteImport,n=(0,m.A)(),r=n.dropboxStorage,o=n.dropboxLogout,a=n.setDropboxStorage,c=(0,g.useMemo)(function(){var e,t,n=(0,x._)({},r);return n.refreshToken="length: ".concat((null==(e=r.refreshToken)?void 0:e.length.toString(10))||null),n.accessToken="length: ".concat((null==(t=r.accessToken)?void 0:t.length.toString(10))||null),JSON.stringify(n,null,2)},[r]);return{use:!!r.use,loggedIn:!!r.refreshToken,path:r.path||"",autoDropboxSync:(null==r?void 0:r.autoDropboxSync)||!1,debugText:c,logout:o,setDropboxStorage:a,startAuth:function(){return(0,w.E)(e,t).startAuth()}}},k=n(18609);let y=function(){var e=v(),t=e.use,n=e.loggedIn,x=e.logout,A=e.startAuth,S=e.setDropboxStorage,m=e.path,w=e.autoDropboxSync,y=e.debugText,_=(0,r._)((0,g.useState)(m),2),j=_[0],D=_[1],T=(0,f.c3)("SettingsDropbox"),E="".concat("/home/Apps/GameBoyPrinter/").concat(j),C="https://www.dropbox.com".concat(E),H=(0,g.useMemo)(function(){return j.includes("https")||j.includes("http")||j.includes("www.dropbox.com")||j.includes("home/Apps/")||j.includes("/home/Apps/GameBoyPrinter/")},[j]);return(0,o.jsxs)(l.A,{direction:"column",gap:6,children:[(0,o.jsx)(i.A,{label:T("enableStorage"),control:(0,o.jsx)(d.A,{checked:t,onChange:function(e){S({use:e.target.checked})}})}),t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(l.A,{gap:1,children:[(0,o.jsx)(h.A,{id:"dropbox-settings-path",label:T("subfolder"),helperText:T.rich("openFolder",{link:function(e){return(0,o.jsx)(s.A,{title:T("openFolderLinkTitle",{folderLink:C}),href:C,target:"_blank",rel:"noreferrer",children:e})}}),type:"text",value:j,onChange:function(e){D(e.target.value)},onBlur:function(){D((0,k.A)(j)),S({path:(0,k.A)(j)})}}),H&&(0,o.jsx)(a.A,{severity:"warning",variant:"filled",children:T("subfolderWarning",{fullAppPath:E})})]}),(0,o.jsx)(i.A,{label:(0,o.jsxs)(o.Fragment,{children:[T("enableEnhancedSync"),(0,o.jsx)(p.A,{variant:"caption",component:"p",color:"error",children:T("enableEnhancedSyncHelper")})]}),control:(0,o.jsx)(d.A,{checked:w,onChange:function(e){S({autoDropboxSync:e.target.checked}),window.setTimeout(function(){window.location.reload()},300)}})}),(0,o.jsxs)(u.A,{variant:"contained",fullWidth:!0,children:[(0,o.jsx)(c.A,{disabled:n,onClick:A,children:T("authenticate")}),(0,o.jsx)(c.A,{disabled:!n,onClick:x,children:T("logout")})]})]}):null,(0,o.jsx)(b.A,{text:y})]})}},32685:(e,t,n)=>{Promise.resolve().then(n.bind(n,30780))},34808:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var r,o=n(61975),a=n(71450),c=n(28802),u=function(e,t){var u=function(){return(0,o._)(function(){var o;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(r)return[3,2];return[4,Promise.all([n.e(9268),n.e(9579),n.e(1575)]).then(n.bind(n,62107))];case 1:o=a.sent().dropBoxSyncTool,r=r||o(e,t),a.label=2;case 2:return[2,r]}})})()};return c.A.getState().dropboxStorage.use&&u(),{recoverImageData:function(e){return(0,o._)(function(){return(0,a.YH)(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return[2,t.sent().recoverImageData(e)]}})})()},startAuth:function(){return(0,o._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,u()];case 1:return[2,e.sent().startAuth()]}})})()},startSyncData:function(e){return(0,o._)(function(){return(0,a.YH)(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return[2,t.sent().startSyncData(e)]}})})()},startSyncImages:function(){return(0,o._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,u()];case 1:return[2,e.sent().startSyncImages()]}})})()},updateSettings:function(e){return(0,o._)(function(){return(0,a.YH)(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return[2,t.sent().updateSettings(e)]}})})()},subscribe:function(){return c.A.subscribe(function(e){return e.dropboxStorage},function(e){return(0,o._)(function(){return(0,a.YH)(this,function(t){switch(t.label){case 0:return[4,u()];case 1:return t.sent().updateSettings(e),[2]}})})()})}}}},63528:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(82732),o=function(e,t){return(0,r._)({flexGrow:0,flexShrink:1,wordBreak:"break-all",whiteSpace:"no-wrap",overflow:"hidden",width:"100%",borderRadius:"3px"},t)}}},e=>{e.O(0,[8955,3632,317,2545,4120,9832,9452,5513,1703,4647,3683,3802,7164,2968,4615,9144,7161,2781,2517,8441,9342,1255,7358],()=>e(e.s=32685)),_N_E=e.O()}]);