(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5631],{933:(e,n,t)=>{"use strict";t.d(n,{E:()=>l});var r,o=t(97004),a=t(39249),i=t(24463),l=function(e,n){var l,c,s,u,p=(l=(0,o._)(function(){var o;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(r)return[3,2];return[4,Promise.all([t.e(9268),t.e(7431),t.e(1575)]).then(t.bind(t,94979))];case 1:o=a.sent().dropBoxSyncTool,r=r||o(e,n),a.label=2;case 2:return[2,r]}})}),function(){return l.apply(this,arguments)});return i.A.getState().dropboxStorage.use&&p(),{recoverImageData:(c=(0,o._)(function(e){return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,p()];case 1:return[2,n.sent().recoverImageData(e)]}})}),function(e){return c.apply(this,arguments)}),startAuth:(0,o._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,p()];case 1:return[2,e.sent().startAuth()]}})}),startSyncData:(s=(0,o._)(function(e){return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,p()];case 1:return[2,n.sent().startSyncData(e)]}})}),function(e){return s.apply(this,arguments)}),startSyncImages:(0,o._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,p()];case 1:return[2,e.sent().startSyncImages()]}})}),updateSettings:(u=(0,o._)(function(e){return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,p()];case 1:return[2,n.sent().updateSettings(e)]}})}),function(e){return u.apply(this,arguments)}),subscribe:function(){var e;return i.A.subscribe(function(e){return e.dropboxStorage},(e=(0,o._)(function(e){return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,p()];case 1:return n.sent().updateSettings(e),[2]}})}),function(n){return e.apply(this,arguments)}))}}}},2143:(e,n,t)=>{"use strict";t.d(n,{default:()=>k});var r=t(78538),o=t(95155),a=t(9665),i=t(7642),l=t(61487),c=t(4915),s=t(31960),u=t(71803),p=t(90835),d=t(34991),h=t(700),f=t(17652),b=t(12115),g=t(31936),v=t(693),x=t(83936),y=t(633),m=t(24463),A=t(933),w=function(){var e=(0,y.g)(),n=(0,x.W)().remoteImport,t=(0,m.A)(),r=t.dropboxStorage,o=t.dropboxLogout,a=t.setDropboxStorage,i=(0,b.useMemo)(function(){var e,n,t=(0,v._)({},r);return t.refreshToken="length: ".concat((null==(e=r.refreshToken)?void 0:e.length.toString(10))||null),t.accessToken="length: ".concat((null==(n=r.accessToken)?void 0:n.length.toString(10))||null),JSON.stringify(t,null,2)},[r]);return{use:!!r.use,loggedIn:!!r.refreshToken,path:r.path||"",autoDropboxSync:(null==r?void 0:r.autoDropboxSync)||!1,debugText:i,logout:o,setDropboxStorage:a,startAuth:function(){return(0,A.E)(e,n).startAuth()}}},S=t(93782);let k=function(){var e=w(),n=e.use,t=e.loggedIn,v=e.logout,x=e.startAuth,y=e.setDropboxStorage,m=e.path,A=e.autoDropboxSync,k=e.debugText,_=(0,r._)((0,b.useState)(m),2),C=_[0],D=_[1],j=(0,f.c3)("SettingsDropbox"),T="/home/Apps/GameBoyPrinter/".concat(C),L="https://www.dropbox.com".concat(T),Y=(0,b.useMemo)(function(){return C.includes("https")||C.includes("http")||C.includes("www.dropbox.com")},[C]);return(0,o.jsxs)(u.A,{direction:"column",gap:6,children:[(0,o.jsx)(c.A,{label:j("enableStorage"),control:(0,o.jsx)(p.A,{checked:n,onChange:function(e){y({use:e.target.checked})}})}),n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(u.A,{gap:1,children:[(0,o.jsx)(d.A,{id:"dropbox-settings-path",label:j("subfolder"),helperText:j.rich("openFolder",{link:function(e){return(0,o.jsx)(s.A,{title:j("openFolderLinkTitle",{folderLink:L}),href:L,target:"_blank",rel:"noreferrer",children:e})}}),type:"text",value:C,onChange:function(e){D(e.target.value)},onBlur:function(){D((0,S.A)(C)),y({path:(0,S.A)(C)})}}),Y&&(0,o.jsx)(a.A,{severity:"warning",variant:"filled",children:j("subfolderWarning",{fullAppPath:T})})]}),(0,o.jsx)(c.A,{label:(0,o.jsxs)(o.Fragment,{children:[j("enableEnhancedSync"),(0,o.jsx)(h.A,{variant:"caption",component:"p",color:"error",children:j("enableEnhancedSyncHelper")})]}),control:(0,o.jsx)(p.A,{checked:A,onChange:function(e){y({autoDropboxSync:e.target.checked}),window.setTimeout(function(){window.location.reload()},300)}})}),(0,o.jsxs)(l.A,{variant:"contained",fullWidth:!0,children:[(0,o.jsx)(i.A,{disabled:t,onClick:x,children:j("authenticate")}),(0,o.jsx)(i.A,{disabled:!t,onClick:v,children:j("logout")})]})]}):null,(0,o.jsx)(g.A,{text:k})]})}},27299:(e,n,t)=>{"use strict";t.d(n,{E:()=>o});var r=t(693),o=function(e,n){return(0,r._)({flexGrow:0,flexShrink:1,wordBreak:"break-all",whiteSpace:"no-wrap",overflow:"hidden",width:"100%",borderRadius:"3px"},n)}},31936:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});var r=t(95155),o=t(700);t(12115);var a=t(52166),i=t(27299);let l=function(e){var n=e.text;return(0,a.A)().enableDebug?(0,r.jsx)(o.A,{title:n,variant:"caption",fontFamily:"monospace",component:"pre",sx:function(e){return(0,i.E)(e,{px:.5,py:0,mt:1,mb:0,backgroundColor:e.palette.warning[e.palette.mode]})},children:n}):null}},31960:(e,n,t)=>{"use strict";t.d(n,{A:()=>Y});var r=t(86447),o=t(693),a=t(60376),i=t(37414),l=t(78538),c=t(87025),s=t(12115),u=t(52596),p=t(17472),d=t(60848),h=t(13209),f=t(75955),b=t(16324),g=t(40680),v=t(98963),x=t(10186),y=t(700),m=t(55170),A=t(90870);function w(e){return(0,A.Ay)("MuiLink",e)}var S=(0,m.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),k=t(36224),_=t(4420);let C=function(e){var n=e.theme,t=e.ownerState,r=t.color;if("colorSpace"in n&&n.colorSpace){var o=(0,k.Yn)(n,"palette.".concat(r,".main"))||(0,k.Yn)(n,"palette.".concat(r))||t.color;return n.alpha(o,.4)}var a=(0,k.Yn)(n,"palette.".concat(r,".main"),!1)||(0,k.Yn)(n,"palette.".concat(r),!1)||t.color,i=(0,k.Yn)(n,"palette.".concat(r,".mainChannel"))||(0,k.Yn)(n,"palette.".concat(r,"Channel"));return"vars"in n&&i?"rgba(".concat(i," / 0.4)"):(0,_.X4)(a,.4)};var D=t(95155),j={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},T=function(e){var n=e.classes,t=e.component,r=e.focusVisible,o=e.underline,a={root:["root","underline".concat((0,h.A)(o)),"button"===t&&"button",r&&"focusVisible"]};return(0,p.A)(a,w,n)},L=(0,f.Ay)(y.A,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["underline".concat((0,h.A)(t.underline))],"button"===t.component&&n.button]}})((0,g.A)(function(e){var n=e.theme;return{variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:function(e){var n=e.underline,t=e.ownerState;return"always"===n&&"inherit"!==t.color},style:{textDecorationColor:"var(--Link-underlineColor)"}},{props:function(e){var n=e.underline,t=e.ownerState;return"always"===n&&"inherit"===t.color},style:n.colorSpace?{textDecorationColor:n.alpha("currentColor",.4)}:null}].concat((0,c._)(Object.entries(n.palette).filter((0,v.A)()).map(function(e){var t=(0,l._)(e,1)[0];return{props:{underline:"always",color:t},style:{"--Link-underlineColor":n.alpha((n.vars||n).palette[t].main,.4)}}})),[{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.alpha((n.vars||n).palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.alpha((n.vars||n).palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:(0,r._)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(S.focusVisible),{outline:"auto"})}])}}));let Y=s.forwardRef(function(e,n){var t=(0,x.b)({props:e,name:"MuiLink"}),r=(0,b.A)(),p=t.className,h=t.color,f=void 0===h?"primary":h,g=t.component,v=void 0===g?"a":g,y=t.onBlur,m=t.onFocus,A=t.TypographyClasses,w=t.underline,S=void 0===w?"always":w,k=t.variant,_=void 0===k?"inherit":k,Y=t.sx,H=(0,i._)(t,["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"]),E=(0,l._)(s.useState(!1),2),F=E[0],N=E[1],B=(0,a._)((0,o._)({},t),{color:f,component:v,focusVisible:F,underline:S,variant:_}),I=T(B);return(0,D.jsx)(L,(0,a._)((0,o._)({color:f,className:(0,u.A)(I.root,p),classes:A,component:v,onBlur:function(e){(0,d.A)(e.target)||N(!1),y&&y(e)},onFocus:function(e){(0,d.A)(e.target)&&N(!0),m&&m(e)},ref:n,ownerState:B,variant:_},H),{sx:(0,c._)(void 0===j[f]?[{color:f}]:[]).concat((0,c._)(Array.isArray(Y)?Y:[Y])),style:(0,o._)({},H.style,"always"===S&&"inherit"!==f&&!j[f]&&{"--Link-underlineColor":C({theme:r,ownerState:B})})}))})},55066:(e,n,t)=>{Promise.resolve().then(t.bind(t,2143))},93782:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});let r=function(e){return e.replace(/[^a-z0-9/\\._-]/gi,"").replace(/[\\/]+/gi,"/").replace(/^\//,"").replace(/\/$/,"")}}},e=>{var n=n=>e(e.s=n);e.O(0,[5271,4453,700,8250,5232,7271,2491,3701,3127,9710,7642,7890,6672,4991,1487,9665,8681,1760,2973,8441,1684,7358],()=>n(55066)),_N_E=e.O()}]);