(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7500],{7766:(e,t,n)=>{"use strict";n.d(t,{A:()=>m,E:()=>u,TrackingProvider:()=>g});var r=n(22043),a=n(95155),l=n(68321),s=n(12115),i=n(10022),o=n(80068),c="gbp-z-web-analytics-consent",u=function(e){return e.UNKNOWN="unknown",e.ACCEPTED="accepted",e.DENIED="denied",e}({}),d=(0,s.createContext)({consentState:"unknown",setConsent:function(){},sendEvent:function(){},trackingAvailable:!1,showPopup:!1}),f="https://cloud.umami.is/script.js",p="8d38dd07-9d1e-49ac-bce1-b3d61782288f",h=!!(f&&p);function g(e){var t=e.children,n=(0,r._)((0,s.useState)("denied"),2),u=n[0],g=n[1];(0,s.useEffect)(function(){h&&g(localStorage.getItem(c)||"unknown")},[]);var m=(0,s.useCallback)(function(e){localStorage.setItem(c,String(e)),g(e)},[]),v=(0,s.useMemo)(function(){return"unknown"===u},[u]),A=(0,s.useRef)({}),x=(0,s.useCallback)(function(e,t){h&&"accepted"===u&&window.umami&&(window.clearTimeout(A.current[e]),A.current[e]=window.setTimeout(function(){window.umami.track(e,t)},1e3))},[u]),b=(0,i.Vs)(),k=(0,i.I0)().errors;return(0,s.useEffect)(function(){var e=b.images,t=b.imageGroups,n=b.frames,r=b.frameGroups,a=b.palettes,l=b.plugins;x("global-stats",{images:(0,o.y)(e.length),imageGroups:(0,o.y)(t.length),frames:(0,o.y)(n.length),frameGroups:(0,o.y)(r.length),palettes:(0,o.y)(a.length),plugins:(0,o.y)(l.length)})},[b,x]),(0,s.useEffect)(function(){if(k.length){var e=k[k.length-1].error;x("error",{message:e.message,stack:e.stack||""})}},[k,x]),(0,a.jsxs)(d.Provider,{value:{consentState:u,setConsent:m,trackingAvailable:h,showPopup:v,sendEvent:x},children:[t,h&&f&&p&&"accepted"===u&&(0,a.jsx)(l.default,{src:f,"data-website-id":p,strategy:"afterInteractive"})]})}let m=function(){return(0,s.useContext)(d)}},21014:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(22043),a=n(45377),l=n(95155),s=n(41574),i=n(62995),o=n(7291),c=n(68060),u=n(23405),d=n(49571),f=n(13802),p=n(35497),h=n(71583),g=n(80317),m=n(18955),v=n(12115),A=n(62384),x=n(89922),b=n(10022),k={},C=function(e){if("undefined"==typeof document)return!1;if(void 0!==k[e])return k[e];var t=document.createElement("canvas");t.width=2,t.height=2;var n=t.toDataURL("image/".concat(e));return k[e]=0===n.indexOf("data:image/".concat(e,";base64")),k[e]};let j=function(e){var t=e.inDialog,n=(0,m.c)("DownloadOptionsForm"),k=(0,b.C$)(),j=k.alwaysShowDownloadDialog,S=k.exportFileTypes,E=k.exportScaleFactors,y=k.fileNameStyle,D=k.handleExportFrame,w=k.setAlwaysShowDownloadDialog,_=k.setExportFileTypes,P=k.setExportScaleFactors,F=k.setFileNameStyle,M=k.setHandleExportFrame,N=(0,r._)((0,v.useState)(["txt","pgm"]),2),U=N[0],T=N[1];return(0,v.useEffect)(function(){T((0,a._)(["jpeg","jpg","png","webp","bmp","gif"].filter(function(e){return C(e)})).concat(["txt","pgm"]))},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(i.A,{children:[(0,l.jsx)(c.A,{shrink:!0,children:n("exportDimensions")}),(0,l.jsx)(h.A,{fullWidth:!0,value:E,onChange:function(e,t){P(t)},children:[1,2,3,4,5,6,8,10].map(function(e){return(0,l.jsx)(p.A,{value:e,title:"".concat(160*e,"\xd7").concat(144*e),children:"".concat(e,"\xd7")},e)})})]}),(0,l.jsxs)(i.A,{children:[(0,l.jsx)(c.A,{shrink:!0,children:n("exportFiletypes")}),(0,l.jsx)(h.A,{fullWidth:!0,value:S,onChange:function(e,t){_(t)},children:U.map(function(e){return(0,l.jsx)(p.A,{value:e,title:e,children:e},e)})})]}),(0,l.jsx)(f.A,{value:D,label:n("exportHandleFrame"),select:!0,onChange:function(e){M(e.target.value)},children:A.A.map(function(e){var t=e.id,r=e.name;return(0,l.jsx)(u.A,{value:t,children:n(r)},t)})}),(0,l.jsx)(f.A,{value:y,label:n("filenameStyle"),select:!0,onChange:function(e){F(e.target.value)},children:x.y.map(function(e){var t=e.id,r=e.name;return(0,l.jsx)(u.A,{value:t,children:n(r)},t)})}),(0,l.jsxs)(s.A,{children:[(0,l.jsx)(o.A,{label:n(t?"alwaysShowDownloadDialogInDialog":"alwaysShowDownloadDialogInForm"),control:(0,l.jsx)(d.A,{checked:j,onChange:function(e){w(e.target.checked)}})}),t&&(0,l.jsx)(g.A,{variant:"caption",component:"p",children:n("alwaysShowDownloadDialogHelper")})]})]})}},32614:(e,t,n)=>{"use strict";n.d(t,{D:()=>p,EnvProvider:()=>h});var r=n(61975),a=n(82732),l=n(45849),s=n(22043),i=n(71450),o=n(95155),c=n(12115),u=n(10022),d=n(94468),f=(0,c.createContext)(null),p=function(){return(0,c.useContext)(f)},h=function(e){var t=e.children,n=(0,s._)((0,c.useState)(null),2),p=n[0],h=n[1],g=(0,u.C$)().setPrinterUrl;return(0,c.useEffect)(function(){var e=["/gb-printer-web","/env.json"].filter(Boolean).join("/");e&&(0,r._)(function(){var t,n,r,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,(0,d.ZU)()];case 1:return i.sent(),[4,fetch(e)];case 2:return[4,i.sent().json()];case 3:return t=i.sent(),r=[(0,a._)({},t)],s={},[4,d.mU.driver()];case 4:return"esp8266"===(n=l._.apply(void 0,r.concat([(s.localforage=i.sent(),s)]))).env&&g("/"),h(n),[3,6];case 5:return i.sent(),h({version:"0.0.0",maximages:0,localforage:"error",env:"error",fstype:"-",bootmode:"-",oled:!1}),[3,6];case 6:return[2]}})})()},[g]),(0,o.jsx)(f.Provider,{value:p,children:t})}},51055:(e,t,n)=>{Promise.resolve().then(n.bind(n,98644))},62384:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(96569);let a=[{id:r.H.FRAMEMODE_KEEP,name:"frameModes.keepFrame"},{id:r.H.FRAMEMODE_CROP,name:"frameModes.cropFrame"},{id:r.H.FRAMEMODE_SQUARE_BLACK,name:"frameModes.squareBlack"},{id:r.H.FRAMEMODE_SQUARE_WHITE,name:"frameModes.squareWhite"}]},62431:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(87922),a=n(82732),l=n(45849),s=n(22043),i=n(18955),o=n(12115),c=n(73204),u=n(10022),d=n(17403);let f=function(){var e=(0,u.C$)(),t=e.sortPalettes,n=e.setSortPalettes,f=(0,u.Vs)().images,p=(0,i.c)("usePaletteSort"),h=(0,o.useMemo)(function(){return[{label:p("defaultAsc"),value:c.V.DEFAULT_ASC},{label:p("defaultDesc"),value:c.V.DEFAULT_DESC},{label:p("usageAsc"),value:c.V.USAGE_ASC},{label:p("usageDesc"),value:c.V.USAGE_DESC},{label:p("nameAsc"),value:c.V.NAME_ASC},{label:p("nameDesc"),value:c.V.NAME_DESC}]},[p]),g=(0,o.useMemo)(function(){return f.reduce(function(e,t){return(0,d.pl)(t)?e:(0,l._)((0,a._)({},e),(0,r._)({},t.palette,(e[t.palette]||0)+1))},{})},[f]),m=(0,o.useCallback)(function(e,n){var r=(0,s._)(t.split("_"),2),a=r[0],l="asc"===r[1]?1:-1;switch(a){case"usage":var i=g[e.shortName]||0,o=g[n.shortName]||0;if(i<o)return -1*l;if(i>o)return l;return 0;case"name":return e.name.localeCompare(n.name)*l;default:return l}},[g,t]);return{sortPalettes:t,setSortPalettes:n,paletteSortOptions:h,paletteUsages:g,sortFn:m}}},67470:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(95155),a=n(7291),l=n(49571),s=n(18955);n(12115);var i=n(10022);let o=function(){var e=(0,i.C$)(),t=e.useSerials,n=e.setUseSerials,o=(0,s.c)("WebUSBGreeting");return(0,r.jsx)(a.A,{label:o("enableWebUsb"),control:(0,r.jsx)(l.A,{checked:t,onChange:function(e){n(e.target.checked)}})})}},72183:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(18955),a=n(12115),l=n(10022),s=function(){var e=(0,l.C$)().hideDates,t=(0,r.k)(),n=(0,a.useCallback)(function(e){var n=new Date(e);return"string"==typeof e&&isNaN(n.getTime())&&(n=new Date(e.replace(/(\d{4}-\d{2}-\d{2}) (\d{2}:\d{2}:\d{2}):(\d{3})/,"$1T$2.$3"))),t.dateTime(n,"short")},[t]);return{formatterGallery:(0,a.useCallback)(function(t){return e||!t?null:n(t)},[n,e]),formatter:n}}},80068:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var r=function(e){return Math.pow(2,Math.ceil(Math.log2(Math.abs(e))))}},98644:(e,t,n)=>{"use strict";n.d(t,{default:()=>_});var r=n(22043),a=n(95155),l=n(64647),s=n(7291),i=n(37440),o=n(23405),c=n(41942),u=n(49571),d=n(13802),f=n(52619),p=n.n(f),h=n(18955),g=n(12115),m=n(21014),v=n(67470),A=n(45485),x=n(96132),b=n(32614),k=n(7766),C=n(72183),j=n(99861),S=n(62431),E=n(11496),y=n(10022),D=n(32537),w=[{translationKey:"galleryClickActions.clickSelectsItem",value:A.n.SELECT},{translationKey:"galleryClickActions.clickOpensEditDialog",value:A.n.EDIT},{translationKey:"galleryClickActions.clickOpensLightbox",value:A.n.VIEW}];let _=function(){var e=(0,y.C$)(),t=e.enableDebug,n=e.forceMagicCheck,f=e.galleryClickAction,A=e.hideDates,_=e.importDeleted,P=e.importLastSeen,F=e.importPad,M=e.pageSize,N=e.preferredLocale,U=e.printerParams,T=e.printerUrl,I=e.savFrameTypes,O=e.savImportOrder,G=e.setEnableDebug,H=e.setForceMagicCheck,L=e.setGalleryClickAction,K=e.setHideDates,R=e.setImportDeleted,V=e.setImportLastSeen,B=e.setImportPad,W=e.setPageSize,$=e.setPreferredLocale,z=e.setSavFrameTypes,q=e.setSavImportOrder,Q=e.setPrinterParams,J=e.setPrinterUrl,Y=(0,b.D)(),Z=(0,j.R)().frameGroups,X=(0,k.A)(),ee=X.setConsent,et=X.trackingAvailable,en=X.consentState,er=(0,r._)((0,g.useState)(M.toString(10)),2),ea=er[0],el=er[1],es=(0,r._)((0,g.useState)(T),2),ei=es[0],eo=es[1],ec=(0,r._)((0,g.useState)(U),2),eu=ec[0],ed=ec[1],ef=(0,r._)((0,g.useState)(""),2),ep=ef[0],eh=ef[1],eg=(0,C.N)().formatter,em=(0,h.c)("SettingsGeneric"),ev=(0,S.A)(),eA=ev.sortPalettes,ex=ev.setSortPalettes,eb=ev.paletteSortOptions;return(0,g.useEffect)(function(){eh(em("exampleDateFormat",{format:eg(new Date)}))},[eg,em]),(0,a.jsxs)(c.A,{direction:"column",gap:6,children:[(0,a.jsx)(d.A,{id:"settings-pagesize",label:em("galleryPageSize"),type:"text",helperText:em("galleryPageSizeHelper"),value:ea,onChange:function(e){return el(e.target.value)},onBlur:function(){var e=Math.abs(parseInt(ea,10)||0);W(e),el(e.toString(10))}}),(0,a.jsx)(d.A,{value:f,label:em("galleryClickAction"),select:!0,helperText:em("galleryClickActionHelper"),onChange:function(e){L(e.target.value)},children:w.map(function(e){var t=e.value,n=e.translationKey;return(0,a.jsx)(o.A,{value:t,children:em(n)},t)})}),(0,a.jsx)(m.A,{inDialog:!1}),(0,a.jsxs)(d.A,{id:"settings-sav-frames",value:Z.length?I:"",disabled:!Z.length,label:em("importSavFrames"),select:!0,slotProps:{inputLabel:{shrink:!0},select:{renderValue:function(e){var t;return""===e?em("importSavFramesNone"):(null==(t=Z.find(function(t){return t.id===e}))?void 0:t.name)||em("importSavFramesUnknown")}}},onChange:function(e){z(e.target.value)},placeholder:em("importSavFramesNone"),children:[(0,a.jsx)(o.A,{value:"",selected:!I,children:"None"}),Z.map(function(e){var t=e.id,n=e.name;return(0,a.jsx)(o.A,{value:t,children:n},t)})]}),(0,a.jsx)(d.A,{id:"settings-sav-order",value:O,label:em("importSavOrder"),select:!0,onChange:function(e){q(e.target.value)},children:x.o.map(function(e){var t=e.value,n=e.translationKey;return(0,a.jsx)(o.A,{value:t,children:em(n)},t)})}),(0,a.jsx)(s.A,{label:em("importLastSeen"),control:(0,a.jsx)(u.A,{checked:P,onChange:function(e){V(e.target.checked)}})}),(0,a.jsx)(s.A,{label:em("importDeleted"),control:(0,a.jsx)(u.A,{checked:_,onChange:function(e){R(e.target.checked)}})}),(0,a.jsx)(s.A,{label:em("forceMagicCheck"),control:(0,a.jsx)(u.A,{checked:n,onChange:function(e){H(e.target.checked)}})}),(0,a.jsx)(s.A,{label:em("importPad"),control:(0,a.jsx)(u.A,{checked:F,onChange:function(e){B(e.target.checked)}})}),(0,a.jsx)(s.A,{label:em("hideDates"),control:(0,a.jsx)(u.A,{checked:A,onChange:function(e){K(e.target.checked)}})}),(0,a.jsx)(d.A,{id:"settings-filename-style",value:eA,label:em("sortPalettes"),select:!0,onChange:function(e){ex(e.target.value)},children:eb.map(function(e){var t=e.value,n=e.label;return(0,a.jsx)(o.A,{value:t,children:n},t)})}),(0,a.jsx)(d.A,{id:"settings-filename-style",value:N,label:em("preferredLocale"),helperText:ep,select:!0,onChange:function(e){$(e.target.value)},children:E.IB.map(function(e){return(0,a.jsx)(o.A,{value:e,children:em("locales.".concat(e))},e)})}),(0,a.jsx)(v.A,{}),(null==Y?void 0:Y.env)==="esp8266"?null:(0,a.jsx)(d.A,{id:"settings-printer-url",label:em("printerUrl"),type:"text",helperText:em.rich("printerUrlHelper",{link:function(e){return(0,a.jsx)(i.A,{component:p(),href:"/import",children:e})}}),value:ei,onChange:function(e){return eo(e.target.value)},onBlur:function(){var e=(0,D.A)(ei,"http");eo(e),J(e)},onKeyUp:function(e){switch(e.key){case"Enter":var t=(0,D.A)(ei,"http");eo(t),J(t);break;case"Escape":eo(T)}}}),(null==Y?void 0:Y.env)==="esp8266"||T?(0,a.jsx)(d.A,{id:"settings-printer-settings",label:em("printerParams"),type:"text",value:eu,onChange:function(e){return ed(e.target.value)},onBlur:function(){Q(eu)},onKeyUp:function(e){switch(e.key){case"Enter":Q(eu);break;case"Escape":ed(U)}}}):null,(0,a.jsx)(s.A,{label:em("enableDebug"),control:(0,a.jsx)(u.A,{checked:t,onChange:function(e){G(e.target.checked)}})}),et&&(0,a.jsx)(c.A,{direction:"column",gap:2,alignItems:"flex-start",children:(0,a.jsx)(l.A,{variant:"outlined",onClick:function(){return ee(k.E.UNKNOWN)},color:"secondary",children:em("resetTrackingConsent",{consentState:en})})})]})}},99861:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,R:()=>o});var r=n(12115),a=n(10022),l=function(e,t,n){var r=n.find(function(t){return t.id===e});if(r)return r.name;switch(e){case"hk":return"Hallo Katze!";case"int":return"International Frames (GameBoy Camera)";case"jp":return"Japanese Frames (Pocket Camera)";default:return t}},s=function(e){switch(e){case"int":return"_1";case"jp":return"_2";case"hk":return"_3";default:return e}},i=function(e,t){return e.reduce(function(e,n){var r=n.id,a=n.name;try{var s,i=null==(s=r.match(/^[a-z]+/g))?void 0:s[0];if(!i)return e;return e.find(function(e){return e.id===i})||e.push({id:i,name:l(i,a,t)}),e}catch(t){return e}},[]).sort(function(e,t){var n=e.id,r=t.id,a=s(n),l=s(r);return a>l?1:a<l?-1:0})},o=function(){var e=(0,a.Vs)(),t=e.frameGroups,n=e.frames;return{frameGroups:(0,r.useMemo)(function(){return i(n,t)},[t,n])}}}},e=>{e.O(0,[5266,7400,8955,3632,317,1346,7115,4688,4647,3683,3802,9144,7161,8428,4455,7897,4468,8441,9342,1255,7358],()=>e(e.s=51055)),_N_E=e.O()}]);