(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1345],{3127:(e,t,n)=>{"use strict";n.d(t,{default:()=>I});var r=n(86447),a=n(693),i=n(60376),o=n(37414),s=n(62570),l=n(577),u=n(12115),c=n(52596),d=n(17472),p=n(4420),f=n(74739),h=n(75955),m=n(40680),v=n(98963),g=n(10186),x=n(25466),_=n(14426),A=n(13209),E=n(55170),b=n(90870);function L(e){return(0,b.Ay)("MuiIconButton",e)}var w=(0,E.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),j=n(95155),y=function(e){var t=e.classes,n=e.disabled,r=e.color,a=e.edge,i=e.size,o={root:["root",e.loading&&"loading",n&&"disabled","default"!==r&&"color".concat((0,A.A)(r)),a&&"edge".concat((0,A.A)(a)),"size".concat((0,A.A)(i))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return(0,d.A)(o,L,t)},S=(0,h.default)(x.default,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.loading&&t.loading,"default"!==n.color&&t["color".concat((0,A.A)(n.color))],n.edge&&t["edge".concat((0,A.A)(n.edge))],t["size".concat((0,A.A)(n.size))]]}})((0,m.A)(function(e){var t=e.theme;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:function(e){return!e.disableRipple},style:{"--IconButton-hoverBg":t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,p.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),(0,m.A)(function(e){var t,n=e.theme;return t={variants:[{props:{color:"inherit"},style:{color:"inherit"}}].concat((0,l._)(Object.entries(n.palette).filter((0,v.A)()).map(function(e){var t=(0,s._)(e,1)[0];return{props:{color:t},style:{color:(n.vars||n).palette[t].main}}})),(0,l._)(Object.entries(n.palette).filter((0,v.A)()).map(function(e){var t=(0,s._)(e,1)[0];return{props:{color:t},style:{"--IconButton-hoverBg":n.vars?"rgba(".concat((n.vars||n).palette[t].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,p.X4)((n.vars||n).palette[t].main,n.palette.action.hoverOpacity)}}})),[{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}])},(0,r._)(t,"&.".concat(w.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}),(0,r._)(t,"&.".concat(w.loading),{color:"transparent"}),t})),R=(0,h.default)("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(function(e){var t=e.theme;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}});let I=u.forwardRef(function(e,t){var n=(0,g.b)({props:e,name:"MuiIconButton"}),r=n.edge,s=n.children,l=n.className,u=n.color,d=n.disabled,p=void 0!==d&&d,h=n.disableFocusRipple,m=void 0!==h&&h,v=n.size,x=n.id,A=n.loading,E=void 0===A?null:A,b=n.loadingIndicator,L=(0,o._)(n,["edge","children","className","color","disabled","disableFocusRipple","size","id","loading","loadingIndicator"]),w=(0,f.A)(x),I=null!=b?b:(0,j.jsx)(_.default,{"aria-labelledby":w,color:"inherit",size:16}),H=(0,i._)((0,a._)({},n),{edge:void 0!==r&&r,color:void 0===u?"default":u,disabled:p,disableFocusRipple:m,loading:E,loadingIndicator:I,size:void 0===v?"medium":v}),z=y(H);return(0,j.jsxs)(S,(0,i._)((0,a._)({id:E?w:x,className:(0,c.A)(z.root,l),centerRipple:!0,focusRipple:!m,disabled:p||E,ref:t},L),{ownerState:H,children:["boolean"==typeof E&&(0,j.jsx)("span",{className:z.loadingWrapper,style:{display:"contents"},children:(0,j.jsx)(R,{className:z.loadingIndicator,ownerState:H,children:E&&I})}),s]}))})},4862:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r=function(e){return e.GALLERY_VIEW_SMALL="small",e.GALLERY_VIEW_1X="1x",e.GALLERY_VIEW_2X="2x",e.GALLERY_VIEW_MAX="max",e.PALETTE_VIEW="res2x",e}({})},17419:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>m,L2:()=>f,_K:()=>p});var r=n(97004),a=n(693),i=n(60376),o=n(577),s=n(39249),l=n(53982),u=n(55364),c=n(99451),d=n(72623),p=function(){var e=(0,r._)(function(e){var t;return(0,s.YH)(this,function(n){return t=e.split("\n").filter(function(e){return e.match(/^[0-9a-f ]+$/gi)}),[2,(0,d.UN)(t)]})});return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=Array(32).fill("f").join(""),n=Array(16).fill(t);return(0,o._)(e.upper).concat((0,o._)(Array(14).fill("").map(function(t,r){return(0,o._)(e.left[r]).concat((0,o._)(n),(0,o._)(e.right[r]))}).flat()),(0,o._)(e.lower))},h=function(){var e=(0,r._)(function(e){var t,n,r;return(0,s.YH)(this,function(a){return n=(t=JSON.parse(e)).upper.length/20,r=f(t),[2,(0,l.R_)(r,n)]})});return function(t){return e.apply(this,arguments)}}();let m=function(){var e=(0,r._)(function(e){var t,n,o,f,m,v,g,x,_;return(0,s.YH)(this,function(A){var E,b;switch(A.label){case 0:return t=e.images,n=e.frames,f=(o=e.settings).state.images||[],m=o.state.frames||[],[4,Promise.all(t.map((E=(0,r._)(function(e){var t,n;return(0,s.YH)(this,function(r){switch(r.label){case 0:return[4,(0,d.Hh)(e.hash,void 0,!0)];case 1:if(null==(t=r.sent())?void 0:t.length)return[2,void 0];return[4,e.getFileContent()];case 2:return[4,p(r.sent())];case 3:if(n=r.sent(),e.hash!==n)return[2,{oldHash:e.hash,newHash:n}];return[2,void 0]}})}),function(e){return E.apply(this,arguments)})))];case 1:return v=A.sent().reduce(c.N,[]),[4,Promise.all(n.map((b=(0,r._)(function(e){var t;return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,(0,l.mZ)(e.hash)];case 1:if(n.sent())return[2,void 0];return[4,e.getFileContent()];case 2:return[4,h(n.sent())];case 3:if(t=n.sent(),e.hash!==t)return[2,{oldHash:e.hash,newHash:t}];return[2,void 0]}})}),function(e){return b.apply(this,arguments)})))];case 2:return g=A.sent().reduce(c.N,[]),x=f.map(function(e){if((0,u.pl)(e)){var t=(0,a._)({},e.hashes),n=v.find(function(t){return t.oldHash===e.hashes.r}),r=v.find(function(t){return t.oldHash===e.hashes.g}),o=v.find(function(t){return t.oldHash===e.hashes.b}),s=v.find(function(t){return t.oldHash===e.hashes.n});return(null==n?void 0:n.newHash)&&(t.r=null==n?void 0:n.newHash),(null==r?void 0:r.newHash)&&(t.g=null==r?void 0:r.newHash),(null==o?void 0:o.newHash)&&(t.b=null==o?void 0:o.newHash),(null==s?void 0:s.newHash)&&(t.n=null==s?void 0:s.newHash),(0,i._)((0,a._)({},e),{hashes:t})}var l=v.find(function(t){return t.oldHash===e.hash});return(0,i._)((0,a._)({},e),{hash:(null==l?void 0:l.newHash)||e.hash})}),_=m.map(function(e){var t=g.find(function(t){return t.oldHash===e.hash});return t?(0,i._)((0,a._)({},e),{hash:t.newHash}):e}),[2,(0,i._)((0,a._)({},o),{state:(0,i._)((0,a._)({},o.state),{images:x,frames:_})})]}})});return function(t){return e.apply(this,arguments)}}()},19505:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(31418),a=n(95155);let i=(0,r.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},26795:(e,t,n)=>{Promise.resolve().then(n.bind(n,700)),Promise.resolve().then(n.bind(n,94508))},27299:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(693),a=function(e,t){return(0,r._)({flexGrow:0,flexShrink:1,wordBreak:"break-all",whiteSpace:"no-wrap",overflow:"hidden",width:"100%",borderRadius:"3px"},t)}},27803:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return e.DEFAULT_ASC="default_asc",e.DEFAULT_DESC="default_desc",e.USAGE_ASC="usage_asc",e.USAGE_DESC="usage_desc",e.NAME_ASC="name_asc",e.NAME_DESC="name_desc",e}({})},28890:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(31418),a=n(95155);let i=(0,r.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},31936:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(95155),a=n(700);n(12115);var i=n(52166),o=n(27299);let s=function(e){var t=e.text;return(0,i.A)().enableDebug?(0,r.jsx)(a.default,{title:t,variant:"caption",fontFamily:"monospace",component:"pre",sx:function(e){return(0,o.E)(e,{px:.5,py:0,mt:1,mb:0,backgroundColor:e.palette.warning[e.palette.mode]})},children:t}):null}},39893:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,f:()=>r});var r=function(e){return e.WIDER="wider",e.WIDE="wide",e.NORMAL="normal",e.NARROW="narrow",e.NARROWER="narrower",e.EMULATOR="emulator",e}({}),a=[{name:"Wider",baseValues:[0,68,187,255],value:"wider"},{name:"Wide",baseValues:[0,85,170,255],value:"wide"},{name:"Normal",baseValues:[51,102,153,204],value:"normal"},{name:"Narrow",baseValues:[69,115,162,208],value:"narrow"},{name:"Narrower",baseValues:[85,113,141,170],value:"narrower"},{name:"From Emulator",baseValues:[64,144,224,255],value:"emulator"}]},44116:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var r=n(577),a=function(e,t){return e.reduce(function(e,n){var a,i;return t===(null==(i=RegExp("^(?<group>[a-z]+)(?<id>[0-9]+)","g").exec(n.id))||null==(a=i.groups)?void 0:a.group)?(0,r._)(e).concat([n]):e},[])}},49432:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=function(e,t){if(!e.trim())return"";if("/"===e&&"ws"!==t)return e;var n=!!e.match(RegExp("^".concat(t,"(s)?:\\/\\/"),"gi"));return"".concat(n?"":"".concat(t,"://")).concat(e).concat(e.endsWith("/")?"":"/")}},49967:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r={weekday:void 0,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"};let a=function(e,t){return e.toDate().toLocaleString(t,r)}},52166:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(693),a=n(62570),i=n(30832),o=n.n(i),s=n(15905),l=n(65453),u=n(46786),c=n(39893),d=n(81445),p=n(80498),f=n(4862),h=n(27803),m=n(99999),v=n(49432),g=n(49967),x=n(10746),_=function(){if("undefined"!=typeof navigator){var e=(0,a._)(navigator.language.split("-"),2);return[e[0],e[1]].filter(Boolean).join("-")}return""};let A=(0,l.v)((0,u.Zr)(function(e){return{activePalette:"bw",bitmapQueueDither:!0,bitmapQueueSetting:c.f.WIDE,enableDebug:!1,exportFileTypes:["png"],exportScaleFactors:[4],fileNameStyle:d.B.FULL,forceMagicCheck:!0,galleryView:f.j.GALLERY_VIEW_1X,galleryClickAction:p.n.SELECT,handleExportFrame:s.H.FRAMEMODE_KEEP,hideDates:!1,importDeleted:!0,importLastSeen:!0,importPad:!1,lastBaudRate:115200,pageSize:30,preferredLocale:_(),printerParams:"",printerUrl:"/",savFrameTypes:"int",themeName:m.V.BRIGHT,enableImageGroups:!1,sortPalettes:h.V.DEFAULT_DESC,useSerials:!1,videoParams:{},setActivePalette:function(t){return e({activePalette:t})},setBitmapQueueDither:function(t){return e({bitmapQueueDither:t})},setBitmapQueueSetting:function(t){return e({bitmapQueueSetting:t})},setEnableDebug:function(t){return e({enableDebug:t})},setFileNameStyle:function(t){return e({fileNameStyle:t})},setForceMagicCheck:function(t){return e({forceMagicCheck:t})},setGalleryView:function(t){return e({galleryView:t})},setGalleryClickAction:function(t){return e({galleryClickAction:t})},setHandleExportFrame:function(t){return e({handleExportFrame:t})},setHideDates:function(t){return e({hideDates:t})},setImportDeleted:function(t){return e({importDeleted:t})},setImportLastSeen:function(t){return e({importLastSeen:t})},setImportPad:function(t){return e({importPad:t})},setLastBaudRate:function(t){return e({lastBaudRate:t})},setPageSize:function(t){return e({pageSize:t})},setPrinterParams:function(t){return e({printerParams:t})},setPrinterUrl:function(t){return e({printerUrl:(0,v.A)(t,"http")})},setSavFrameTypes:function(t){return e({savFrameTypes:t})},setThemeName:function(t){return e({themeName:t})},setEnableImageGroups:function(t){return e({enableImageGroups:t})},setSortPalettes:function(t){return e({sortPalettes:t})},setUseSerials:function(t){return e({useSerials:t})},setVideoParams:function(t){return e(function(e){return{videoParams:(0,r._)({},e.videoParams,t)}})},setExportScaleFactors:function(t){return e({exportScaleFactors:t})},setExportFileTypes:function(t){return e({exportFileTypes:t})},setPreferredLocale:function(t){try{(0,g.A)(o()(),t),e({preferredLocale:t})}catch(e){console.error(e)}}}},{name:"".concat(x.z,"-settings"),storage:(0,u.KU)(function(){return localStorage})}))},53664:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(95155),a=n(61046),i=n(87741),o=n(70340),s=n(84585),l=n(97644),u=n(3856);n(12115);var c=n(4862),d=n(98250),p=n(52166),f=function(e){switch(e){case c.j.GALLERY_VIEW_SMALL:return"Smallest";case c.j.GALLERY_VIEW_1X:return"Original Size";case c.j.GALLERY_VIEW_2X:return"Double Size";case c.j.GALLERY_VIEW_MAX:return"Maximum Size";default:return""}},h=function(e){switch(e){case c.j.GALLERY_VIEW_SMALL:return(0,r.jsx)(o.A,{});case c.j.GALLERY_VIEW_1X:return(0,r.jsx)(a.A,{});case c.j.GALLERY_VIEW_2X:return(0,r.jsx)(s.A,{});case c.j.GALLERY_VIEW_MAX:default:return(0,r.jsx)(i.A,{})}};let m=function(){var e=(0,p.A)(),t=e.galleryView,n=e.setGalleryView,a=(0,d.h)().ddpx>1?[c.j.GALLERY_VIEW_SMALL,c.j.GALLERY_VIEW_1X,c.j.GALLERY_VIEW_2X,c.j.GALLERY_VIEW_MAX]:[c.j.GALLERY_VIEW_1X,c.j.GALLERY_VIEW_2X,c.j.GALLERY_VIEW_MAX];return(0,r.jsx)(u.default,{value:t,exclusive:!0,onChange:function(e,t){t&&n(t)},sx:{"& .MuiToggleButton-root":{width:40,height:40}},children:a.map(function(e){return(0,r.jsx)(l.default,{value:e,title:f(e),children:h(e)},e)})})}},61046:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(31418),a=n(95155);let i=(0,r.A)((0,a.jsx)("path",{d:"M4 8h4V4H4zm6 12h4v-4h-4zm-6 0h4v-4H4zm0-6h4v-4H4zm6 0h4v-4h-4zm6-10v4h4V4zm-6 4h4V4h-4zm6 6h4v-4h-4zm0 6h4v-4h-4z"}),"Apps")},66564:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(95155),a=n(53267),i=n(14426);n(12115);let o=function(){return(0,r.jsx)(a.default,{sx:{width:"100%",paddingTop:"90%",height:0,display:"block",background:"transparent",position:"relative"},children:(0,r.jsx)(a.default,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,r.jsx)(i.default,{color:"primary",size:40})})})}},69008:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(31418),a=n(95155);let i=(0,r.A)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},70340:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(31418),a=n(95155);let i=(0,r.A)((0,a.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact")},74666:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(693),a=n(60376),i=n(62570),o=n(95155),s=n(69008),l=n(4420),u=n(53267),c=n(41218),d=n(59710),p=n(16632),f=n(65221),h=n(60785),m=n(3127),v=n(7068),g=n(16324),x=n(12115);let _=function(e){var t=e.selectionText,n=e.title,_=e.titleIcon,A=e.subheader,E=e.wrapperProps,b=e.media,L=e.content,w=e.contextMenuComponent,j=e.contextMenuProps,y=(0,g.default)(),S=(0,i._)((0,x.useState)(null),2),R=S[0],I=S[1],H=(0,x.useMemo)(function(){var e={"@media (any-hover: hover)":{"&:hover":{backgroundColor:(0,l.au)(y.palette.tertiary.main,y.palette.background.paper,.33)}},transition:"background-color 0.15s ease-in-out"};return t?(0,a._)((0,r._)({},e),{backgroundColor:(0,l.au)(y.palette.info.main,y.palette.background.paper,.75)}):e},[t,y]),z=[n,A].filter(Boolean).join("\n");return(0,o.jsxs)(v.default,{component:"li",direction:"column",justifyContent:"stretch",sx:{position:"relative","& > *":{flexGrow:1}},children:[t&&(0,o.jsx)(u.default,{sx:{position:"absolute",display:"block",width:"1.8em",height:"1.8em",top:"-0.53em",left:"-0.53em",zIndex:15,fontSize:"0.85rem",lineHeight:"1.8em",textAlign:"center",backgroundColor:y.palette.info.main,color:y.palette.info.contrastText,borderRadius:"50%",pointerEvents:"none"},children:t}),(0,o.jsxs)(c.default,{sx:H,children:[(0,o.jsxs)(d.default,(0,a._)((0,r._)({},E),{component:E.component||"span",tabIndex:E.component?void 0:-1,children:[(0,o.jsx)(f.default,{title:_?(0,o.jsxs)(v.default,{direction:"row",gap:.5,alignItems:"center",children:[_,n]}):n,subheader:A,action:(0,o.jsx)(m.default,{onClick:function(e){e.preventDefault(),e.stopPropagation(),I(e.target)},children:(0,o.jsx)(s.A,{})}),slotProps:{title:{title:z,variant:"body1",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},subheader:{title:z,variant:"caption",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}},sx:{gap:1,backgroundColor:(0,l.X4)(y.palette.fgtext.main,.1),p:1,".MuiCardHeader-content":{minWidth:0}}}),(0,o.jsx)(h.default,{children:b}),L&&(0,o.jsx)(p.default,{sx:{p:1,flexGrow:1,justifyContent:"space-between",display:"flex",flexDirection:"column",padding:1,"&:last-child":{padding:1}},children:L})]})),(0,o.jsx)(w,(0,r._)({menuAnchor:R,onClose:function(){return I(null)}},j))]})]})}},80498:(e,t,n)=>{"use strict";n.d(t,{n:()=>r,s:()=>a});var r=function(e){return e.SELECT="select",e.EDIT="edit",e.VIEW="view",e}({}),a=[{label:"Click selects the item",value:"select"},{label:"Click opens edit dialog",value:"edit"},{label:"Click opens the item in lightbox",value:"view"}]},84131:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(95155),a=n(53267),i=n(77262),o=n(12115),s=n(4862),l=n(98250),u=n(52166);let c=function(e){var t=e.fixedView,n=e.showLoader,c=e.children,d=(0,l.h)().ddpx,p=(0,u.A)().galleryView,f=t||p,h=(0,o.useMemo)(function(){var e="",t="";switch(f===s.j.GALLERY_VIEW_SMALL&&1===d?s.j.GALLERY_VIEW_1X:f){case s.j.GALLERY_VIEW_SMALL:e="".concat(160/d,"px"),t="".concat(8/d,"px");break;case s.j.PALETTE_VIEW:e="minmax(270px, 1fr)",t="32px";break;case s.j.GALLERY_VIEW_1X:e="160px",t="16px";break;case s.j.GALLERY_VIEW_2X:e="320px",t="32px";break;case s.j.GALLERY_VIEW_MAX:e="100%",t="32px"}return{gap:t,display:"grid",justifyContent:"center",gridTemplateColumns:"repeat(auto-fill, ".concat(e,")")}},[f,d]);return(0,r.jsxs)(a.default,{component:"ul",sx:h,position:"relative",children:[n&&(0,r.jsx)(i.default,{color:"secondary",variant:"indeterminate",sx:{position:"absolute",top:-4,left:0,right:0,zIndex:1}}),c]})}},84585:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(31418),a=n(95155);let i=(0,r.A)((0,a.jsx)("path",{d:"M3 3h8v8H3zm10 0h8v8h-8zM3 13h8v8H3zm10 0h8v8h-8z"}),"WindowSharp")},87741:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(31418),a=n(95155);let i=(0,r.A)((0,a.jsx)("path",{d:"M3 3h18v18H3z"}),"Square")},93370:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(97004),a=n(693),i=n(62570),o=n(39249),s=n(95155),l=n(53267),u=n(15905),c=n(12115),d=n(77683);let p=function(e){var t=e.palette,n=e.tiles,p=e.imageStartLine,f=e.lockFrame,h=e.invertPalette,m=e.framePalette,v=e.invertFramePalette,g=e.asThumb,x=void 0!==g&&g,_=e.rotation,A=void 0===_?u.pL.DEG_0:_,E=!(t instanceof Array),b=(0,i._)((0,c.useState)(null),2),L=b[0],w=b[1],j=(0,i._)((0,c.useState)(""),2),y=j[0],S=j[1];(0,c.useEffect)(function(){if(t&&n){var e=setTimeout((0,r._)(function(){var e;return(0,o.YH)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,5,,6]),!E)return[3,2];return[4,(0,u.uL)({tiles:n,palette:t,lockFrame:f||!1,rotation:A})];case 1:return w.apply(void 0,[r.sent()]),[3,4];case 2:if(!(null==n?void 0:n.length))return[3,4];return[4,(0,u.qO)((0,a._)({tiles:n,imageStartLine:p,rotation:A},(0,d.C)({imagePalette:t,framePalette:m,invertPalette:h,invertFramePalette:v})))];case 3:w.apply(void 0,[r.sent()]),r.label=4;case 4:return S(""),[3,6];case 5:return(e=r.sent())instanceof Error&&(console.error(e),S(e.message)),[3,6];case 6:return[2]}})}),1);return function(){clearTimeout(e)}}},[n,t,f,h,A,E,p,m,v]);var R=(0,c.useMemo)(function(){var e=A===u.pL.DEG_90||A===u.pL.DEG_270,t=(E?(0,u.EK)(n):n.length)<=360,r=e&&t;return{display:"block",imageRendering:x?"auto":"pixelated",margin:r?"0 5%":0,width:r?"90%":"100%",maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}},[x,E,A,n]);return(0,s.jsx)(l.default,{className:"gameboy-image",sx:{display:"flex",width:"100%",height:"100%"},children:!y&&L&&(0,s.jsx)(l.default,{component:"img",width:160,src:L,sx:R,alt:""})})}},94508:(e,t,n)=>{"use strict";n.d(t,{default:()=>X});var r=n(95155),a=n(7642),i=n(61487),o=n(76380),s=n(7068),l=n(78449),u=n(12115),c=n(31936),d=n(19505),p=n(28890),f=n(39489),h=n(85222),m=n(13313);let v=function(e){var t=e.deleteFrame,n=e.editFrame,a=e.menuAnchor,i=e.onClose;return a?(0,r.jsxs)(m.default,{open:!!a,anchorEl:a,onClose:i,onClick:function(e){e.stopPropagation(),i()},children:[(0,r.jsxs)(o.default,{onClick:n,title:"Edit",children:[(0,r.jsx)(f.default,{children:(0,r.jsx)(p.A,{})}),(0,r.jsx)(h.default,{children:"Edit"})]}),(0,r.jsxs)(o.default,{onClick:t,title:"Delete",children:[(0,r.jsx)(f.default,{children:(0,r.jsx)(d.A,{})}),(0,r.jsx)(h.default,{children:"Delete"})]})]}):null};var g=n(74666),x=n(93370),_=n(66564),A=n(97004),E=n(62570),b=n(39249),L=n(633),w=n(41186),j=n(3381),y=n(11760),S=n(47639),R=n(53982),I=n(6732),H=function(e){var t=e.frameId,n=e.frameHash,r=e.name,a="\n  frameId: ".concat(t,"\n\n  ").concat(r,"\n\n").concat(n);return(0,S.A)((0,I.A)(a),n)};let z=function(e){var t,n=e.frameId,r=e.name,a=(0,E._)((0,u.useState)([]),2),i=a[0],o=a[1],s=(0,E._)((0,u.useState)(2),2),l=s[0],c=s[1],d=(0,j.A)().setEditFrame,p=(0,w.A)(),f=p.dismissDialog,h=p.setDialog,m=(0,y.h)(),v=m.frames,g=m.deleteFrame,x=m.images,_=(0,L.g)().updateLastSyncLocalNow,S=(null==(t=v.find(function(e){return e.id===n}))?void 0:t.hash)||"",I=x.filter(function(e){return e.frame===n}).length;return(0,u.useEffect)(function(){var e;c(2),o([]),(e=(0,A._)(function(){var e,t;return(0,b.YH)(this,function(a){switch(a.label){case 0:if(!S)return[2];return[4,(0,R.mZ)(S)];case 1:return e=a.sent(),[4,H({frameId:n,frameHash:S,name:r})];case 2:return t=a.sent(),c(e?e.upper.length/20:2),o(t),[2]}})}),function(){return e.apply(this,arguments)})()},[n,S,r]),{frameHash:S,tiles:i,imageStartLine:l,usage:I,setTiles:o,deleteFrame:function(){h({message:'Delete frame "'.concat(r,'" (').concat(n,")?"),confirm:(0,A._)(function(){return(0,b.YH)(this,function(e){return f(0),_(),g(n),[2]})}),deny:(0,A._)(function(){return(0,b.YH)(this,function(e){return[2,f(0)]})})})},editFrame:function(){return d(n)}}};var F=n(52166);let C=function(e){var t=e.frameId,n=e.name,a=e.palette,i=(0,F.A)().enableDebug,o=z({frameId:t,name:n}),s=o.tiles,l=o.deleteFrame,u=o.editFrame,d=o.frameHash,p=o.imageStartLine,f=o.usage;return s?(0,r.jsx)(g.A,{selectionText:"",title:n,subheader:"(".concat(t,") ").concat(f?"Used ".concat(f," times"):"Not used"),wrapperProps:{onClick:u,disableRipple:!0,sx:{display:"block",width:"100%",textAlign:"left"}},contextMenuComponent:v,contextMenuProps:{deleteFrame:l,editFrame:u},media:s.length?(0,r.jsx)(x.A,{lockFrame:!1,invertPalette:!1,palette:a,imageStartLine:p,tiles:s}):(0,r.jsx)(_.A,{}),content:i&&(0,r.jsx)(c.A,{text:d})}):null};var V=n(84131),G=n(53664),M=n(69229),k=n(693),W=n(60376),P=n(56491),D=n(44116),Y=n(17419),N=n(83936),T=function(e,t){var n,r=e.find(function(e){return e.id===t});return r?r.id:(null==(n=e[0])?void 0:n.id)||""};let B=function(){var e,t=(0,F.A)(),n=t.enableDebug,r=t.savFrameTypes,a=t.activePalette,i=(0,y.h)(),o=i.frames,s=i.palettes,l=i.frameGroups,c=i.addFrames,d=i.updateFrameGroups,p=(0,L.g)().updateLastSyncLocalNow,f=(0,N.W)().downloadSettings,h=s.find(function(e){return e.shortName===a})||s[0],m=(0,P.A)(o,l),v=(0,E._)((0,u.useState)([]),2),g=v[0],x=v[1],_=(0,E._)((0,u.useState)(T(m,r)),2),w=_[0],j=_[1];(0,u.useEffect)(function(){w?x((0,D.d)(o,w)):x([])},[o,w]),(0,u.useEffect)(function(){if(""===w){var e=T(m,r);""!==e&&j(e)}},[m,o,r,w]);var S=m.find(function(e){return e.id===w})||m[0],I=(e=(0,A._)(function(){return(0,b.YH)(this,function(e){switch(e.label){case 0:var t;return[4,Promise.all(o.map((t=(0,A._)(function(e){var t,n,r,a,i;return(0,b.YH)(this,function(o){switch(o.label){case 0:return[4,(0,R.mZ)(e.hash)];case 1:if(!(t=o.sent()))return[2,e];return n=t.upper.length/20,r=(0,Y.L2)(t),[4,(0,R.Bf)(r,n)];case 2:if(a=o.sent().dataHash,e.hash===a)return[2,e];return[4,(0,R.R_)(r,n)];case 3:return i=o.sent(),[2,(0,W._)((0,k._)({},e),{hash:i})]}})}),function(e){return t.apply(this,arguments)})))];case 1:return c(e.sent()),[2]}})}),function(){return e.apply(this,arguments)});return{selectedFrameGroup:w,groupFrames:g,setSelectedFrameGroup:j,frameGroups:m,exportJson:function(e){return f(e,w)},palette:null==h?void 0:h.palette,setActiveFrameGroupName:function(e){d([(0,W._)((0,k._)({},S),{name:e})]),p()},activeFrameGroup:S,convertFormat:I,enableDebug:n}},X=function(){var e=B(),t=e.frameGroups,n=e.selectedFrameGroup,u=e.setSelectedFrameGroup,c=e.palette,d=e.groupFrames,p=e.exportJson,f=e.setActiveFrameGroupName,h=e.activeFrameGroup,m=e.convertFormat,v=e.enableDebug;return(0,r.jsxs)(s.default,{direction:"column",gap:4,children:[(0,r.jsx)(l.default,{label:"Edit Framegroup",size:"small",select:!0,value:n,onChange:function(e){u(e.target.value)},children:t.map(function(e){var t=e.id,n=e.name;return(0,r.jsx)(o.default,{value:t,children:n},t)})}),h&&(0,r.jsx)(l.default,{label:"Rename Framegroup",size:"small",type:"text",onChange:function(e){return f(e.target.value)},value:h.name||""}),(0,r.jsxs)(s.default,{direction:"column",gap:2,children:[(0,r.jsx)(G.A,{}),(0,r.jsx)(V.A,{children:null==d?void 0:d.map(function(e){return(0,r.jsx)(C,{frameId:e.id,name:e.name,palette:c},"frame-".concat(e.id))})})]}),(0,r.jsxs)(i.default,{variant:"contained",fullWidth:!0,children:[(0,r.jsx)(a.default,{onClick:function(){return p(M.m.FRAMES)},children:"Export frames"}),(0,r.jsx)(a.default,{onClick:function(){return p(M.m.CURRENT_FRAMEGROUP)},children:"Export current framegroup (".concat(n,")")}),v?(0,r.jsx)(a.default,{onClick:m,children:"Convert frames to new format"}):null]})]})}},98250:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(62570),a=n(12115),i=function(){var e;return{width:window.innerWidth,height:window.innerHeight,ddpx:window.devicePixelRatio<=2?window.devicePixelRatio:window.devicePixelRatio/2,layoutWidth:(e=window.innerWidth)>1220?1155:e>1025?960:e>830?765:e>635?570:e>440?375:e-40}},o=function(){var e=(0,r._)((0,a.useState)(i()),2),t=e[0],n=e[1];return(0,a.useEffect)(function(){var e=function(){n(i())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[n]),t}},99451:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(577),a=function(e,t){return t?(0,r._)(e).concat([t]):e}},99999:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r=function(e){return e.BRIGHT="theme-bright",e.DARK="theme-dark",e}({})}},e=>{var t=t=>e(e.s=t);e.O(0,[4453,700,7859,7271,4831,3313,5394,7642,8449,1487,9758,5123,3611,4766,1760,3936,8441,5955,1684,7358],()=>t(26795)),_N_E=e.O()}]);