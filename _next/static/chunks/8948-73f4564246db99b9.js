"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8948],{5432:(e,t,n)=>{n.d(t,{Fv:()=>F,R2:()=>s,YP:()=>o,Ys:()=>c,dm:()=>a,g0:()=>i});var r=n(15905),u=[0,85,170,255],a='{"command":"INIT"}',i='{"command":"DATA", "compressed":0, "more":1}',s='{"command":"DATA","compressed":0,"more":0}',c='{"command":"PRNT","sheets":1,"margin_upper":1,"margin_lower":3,"pallet":228,"density":64 }',o={r:u.slice(),g:u.slice(),b:u.slice(),n:u.slice(),blend:r.Nx.MULTIPLY},F={shortName:"-",name:"Missing Palette",palette:["#aaaaaa","#999999","#888888","#777777"],isPredefined:!0,origin:"technical"}},6732:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(87025),u={"":"006666666600FFFF"," ":"FFFFFFFFFFFFFFFF",0:"FFDDAAAAAADDFFFF",1:"FFDD99DDDDDDFFFF",2:"FF99EEDDBB88FFFF",3:"FF99EE99EE99FFFF",4:"FFDDBBBB88EEFFFF",5:"FF88BB99EE99FFFF",6:"FFCCBB99AADDFFFF",7:"FF88EEDDBBBBFFFF",8:"FFDDAADDAADDFFFF",9:"FFDDAACCEE99FFFF",a:"FFDDAAAA88AAFFFF",b:"FF99AA99AA99FFFF",c:"FFCCBBBBBBCCFFFF",d:"FF99AAAAAA99FFFF",e:"FF88BB99BB88FFFF",f:"FF88BB99BBBBFFFF",g:"FFCCBBAAAACCFFFF",h:"FFAAAA88AAAAFFFF",i:"FF88DDDDDD88FFFF",j:"FF99DDDDDDBBFFFF",k:"FFAAAA99AAAAFFFF",l:"FFBBBBBBBB88FFFF",m:"FFAA888AAAAAFFFF",n:"FFAA8A888AAAFFFF",o:"FFDDAAAAAADDFFFF",p:"FF99AA99BBBBFFFF",q:"FFDDAAAAAACCFFFF",r:"FF99AA99AAAAFFFF",s:"FFCCBBDDEE99FFFF",t:"FF88DDDDDDDDFFFF",u:"FFAAAAAAAACCFFFF",v:"FFAAAAAAAADDFFFF",w:"FFAAAA8A88AAFFFF",x:"FFAAAADDAAAAFFFF",y:"FFAAAADDDDDDFFFF",z:"FF88EEDDBB88FFFF",ä:"AADDAAAA88AAFFFF",ö:"AADDAAAAAADDFFFF",ü:"AAAFAAAAAACCFFFF",ß:"FF99AA99AA99BBFF",".":"FFFFFFFFFFDDFFFF","!":"DDDDDDDDFFDDFFFF","?":"DDAAEEDDFFDDFFFF","-":"FFFFFF88FFFFFFFF",_:"FFFFFFFFFF88FFFF",":":"FFFFDDFFDDFFFFFF"};let a=function(e){var t=(0,r._)(e.toString(10).toLowerCase().split("")).concat([" "," "]),n=t.shift()||"",a=t.shift()||"",i=u[n]||u[""],s=u[a]||u[""];return(0,r._)(Array(16)).map(function(e,t){return"".concat(i[t]).concat(s[t])}).join("")};var i="FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF\n";let s=function(e){var t=[],n=e.split("\n").map(function(e){return e.match(/.{1,32}/g)}).flat().map(function(e){return e||""}).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.padEnd(32," ")}).map(function(e){var t;return(null==(t=e.match(/.{1,2}/g))?void 0:t.map(function(e){return a(e)}))||[]}).map(function(e){return[i,i].concat((0,r._)(e),[i,i])}).flat();for(t.push.apply(t,(0,r._)((0,r._)(Array(40)).map(function(){return i}))),t.push.apply(t,(0,r._)(n));t.length<360;)t.push(i);return t}},10746:(e,t,n)=>{n.d(t,{z:()=>r});var r="gbp-z-web"},19864:(e,t,n)=>{n.d(t,{X3:()=>r,mI:()=>a,rx:()=>u});var r=function(e){return e.FILTER_UNTAGGED="__filter:untagged__",e.FILTER_NEW="__filter:new__",e.FILTER_MONOCHROME="__filter:mono__",e.FILTER_RGB="__filter:rgb__",e.FILTER_RECENT="__filter:recent__",e.FILTER_FAVOURITE="__filter:favourite__",e.FILTER_COMMENTS="__filter:comments__",e.FILTER_USERNAME="__filter:username__",e}({}),u=["__filter:untagged__","__filter:new__","__filter:mono__","__filter:rgb__","__filter:recent__","__filter:favourite__","__filter:comments__","__filter:username__"],a="__new:palette__"},27746:(e,t,n)=>{n.d(t,{Bf:()=>c,R_:()=>o,mZ:()=>F});var r=n(97004),u=n(39249),a=n(57457),i=n(75380),s=n(50263),c=function(){var e=(0,r._)(function(e,t){var r,i,c;return(0,u.YH)(this,function(u){switch(u.label){case 0:return[4,Promise.resolve().then(n.t.bind(n,52491,23))];case 1:return r=u.sent().default,i=JSON.stringify((0,a.I)(e,t)),[4,(0,s.K)(i)];case 2:return c=u.sent(),[2,{dataHash:r(c),compressed:c}]}})});return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=(0,r._)(function(e,t){var n,r,a;return(0,u.YH)(this,function(u){switch(u.label){case 0:return[4,c(e,t)];case 1:return r=(n=u.sent()).dataHash,a=n.compressed,[4,i.Uv.setItem(r,a)];case 2:return u.sent(),[2,r]}})});return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=(0,r._)(function(e){var t,n,r;return(0,u.YH)(this,function(u){switch(u.label){case 0:if(!e)return[2,null];return[4,i.Uv.getItem(e)];case 1:if(!(t=u.sent()))return[2,null];u.label=2;case 2:return u.trys.push([2,4,,5]),[4,(0,s.U)(t)];case 3:return n=u.sent(),[3,5];case 4:return u.sent(),[2,null];case 5:try{return[2,JSON.parse(n)]}catch(e){}try{return r=n.split("\n"),[2,{upper:r.slice(0,40),left:Array(14).fill(0).map(function(e,t){return r.slice(4*t+40,4*t+42)}),right:Array(14).fill(0).map(function(e,t){return r.slice(4*t+42,4*t+44)}),lower:r.slice(96,136)}]}catch(e){return[2,null]}}})});return function(t){return e.apply(this,arguments)}}()},46594:(e,t,n)=>{n.d(t,{J:()=>r});var r=function(e){var t=e?new Date(e):new Date,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")};return[t.getFullYear(),"-",n(t.getMonth()+1),"-",n(t.getDate())," ",n(t.getHours()),":",n(t.getMinutes()),":",n(t.getSeconds()),":",n(t.getMilliseconds(),3)].join("")}},47639:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(97004),u=n(87025),a=n(39249),i=n(15905),s=n(27746);let c=function(){var e=(0,r._)(function(e,t){var n,r,c,o,F,f;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(360!==e.length)return[2,e];return[4,(0,s.mZ)(t)];case 1:if(!(r=a.sent()))return[2,e];if(14!==r.left.length||14!==r.right.length)return console.error("Invalid frameData"),[2,e];for(F=0,c=e.reduce(function(e,t,n){return(0,i.o1)(n,2,i.H.FRAMEMODE_KEEP)?e:(0,u._)(e).concat([t])},[]),o=(0,u._)(r.upper);F<14;F+=1)(f=o).push.apply(f,(0,u._)(r.left[F]).concat((0,u._)(c.slice(16*F,(F+1)*16)),(0,u._)(r.right[F])));return(n=o).push.apply(n,(0,u._)(r.lower)),[2,o]}})});return function(t,n){return e.apply(this,arguments)}}()},50263:(e,t,n)=>{n.d(t,{K:()=>c,U:()=>s});var r=n(97004),u=n(39249),a=n(98933),i=n.n(a),s=function(){var e=(0,r._)(function(e){return(0,u.YH)(this,function(t){return[2,i().inflate(e,{to:"string"})]})});return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,r._)(function(e){return(0,u.YH)(this,function(t){return[2,i().deflate(e,{to:"string",strategy:1,level:8})]})});return function(t){return e.apply(this,arguments)}}()},52324:(e,t,n)=>{n.d(t,{g:()=>f,i:()=>l});var r=n(97004),u=n(693),a=n(60376),i=n(39249),s=n(52491),c=n.n(s),o=n(75380),F=function(e){return!!e.find(function(e){return!e.hash})},f=function(){var e=(0,r._)(function(e){return(0,i.YH)(this,function(t){var n;return F(e)?[2,Promise.all(e.map((n=(0,r._)(function(e){var t,n;return(0,i.YH)(this,function(r){switch(r.label){case 0:if(e.hash)return[2,e];return[4,o.Uv.getItem(e.id)];case 1:if(!(t=r.sent()))return console.warn("could not load frame data for hashing"),[2,e];return n=c()(t),[4,o.Uv.removeItem(e.id)];case 2:return r.sent(),[4,o.Uv.setItem(n,t)];case 3:return r.sent(),[2,(0,a._)((0,u._)({},e),{hash:n})]}})}),function(e){return n.apply(this,arguments)})))]:[2,e]})});return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r._)(function(e){var t,n;return(0,i.YH)(this,function(s){switch(s.label){case 0:var o;if(!(t=e).state.frames||!F(t.state.frames))return[2,e];return[4,Promise.all(t.state.frames.map((o=(0,r._)(function(e){var n,r,s;return(0,i.YH)(this,function(i){return e.hash?[2,e]:(r=t[n="frame-".concat(e.id)])?(s=c()(r),delete t[n],t["frame-".concat(s)]=r,[2,(0,a._)((0,u._)({},e),{hash:s})]):(console.warn("could not load ".concat(n," from json import")),[2,e])})}),function(e){return o.apply(this,arguments)})))];case 1:return n=s.sent(),[2,(0,a._)((0,u._)({},t),{state:(0,a._)((0,u._)({},t.state),{frames:n})})]}})});return function(t){return e.apply(this,arguments)}}()},55364:(e,t,n)=>{n.d(t,{iy:()=>a,pl:()=>u});var r=n(87025),u=function(e){return!!(e.hasOwnProperty("hashes")&&e.hashes)},a=function(e,t){return!t||u(t)?e:(0,r._)(e).concat([t])}},55685:(e,t,n)=>{n.d(t,{A:()=>r});let r=function(e){return Array.from(new Set(e))}},57457:(e,t,n)=>{n.d(t,{I:()=>u});var r=function(e){return e.toUpperCase()},u=function(e,t){var n=e.slice(0,20*t).map(r),u=e.slice((t+14)*20).map(r);return{upper:n,left:Array(14).fill(0).map(function(n,u){var a=(u+t)*20;return e.slice(a,a+2).map(r)}),right:Array(14).fill(0).map(function(n,u){var a=(u+t)*20;return e.slice(a+18,a+20).map(r)}),lower:u}}},72623:(e,t,n)=>{n.d(t,{cg:()=>F,yH:()=>p,t9:()=>m,Hh:()=>l,UN:()=>f});var r=n(97004),u=n(39249),a=n(47639),i=n(75380),s=n(50263),c=n(6732);let o=function(e){var t="\nThe following hash is missing in\nyour indexedDb:\n".concat(e,"\n\nEither you imported a debug dump\nor your browser decided to do a\ncleanup.\n\nThis image might be able to be\nrecovered if you have set up git\nor dropbox sync.\n").trim();return(0,c.A)(t)};var F=function(){var e=(0,r._)(function(e){var t,r,a;return(0,u.YH)(this,function(u){switch(u.label){case 0:return[4,Promise.resolve().then(n.t.bind(n,52491,23))];case 1:return t=u.sent().default,r=e.map(function(e){return e.replace(/ /gi,"").toUpperCase()}).join("\n"),[4,(0,s.K)(r)];case 2:return a=u.sent(),[2,{dataHash:t(a),compressed:a}]}})});return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r._)(function(e){var t,n,r;return(0,u.YH)(this,function(u){switch(u.label){case 0:return[4,F(e)];case 1:return n=(t=u.sent()).dataHash,r=t.compressed,[4,i.mU.setItem(n,r)];case 2:return u.sent(),[2,n]}})});return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r._)(function(e,t,n,r){var c,F;return(0,u.YH)(this,function(u){switch(u.label){case 0:if(!e)return[2,null];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,i.mU.getItem(e)];case 2:if(!(c=u.sent()))throw Error("missing imagedata");return[4,(0,s.U)(c)];case 3:if(F=u.sent().split("\n"),!t)return[2,F];return[2,(0,a.A)(F,t)];case 4:return u.sent(),"function"==typeof r&&r(e),[2,n?[]:o(e)];case 5:return[2]}})});return function(t,n,r,u){return e.apply(this,arguments)}}(),p=function(){var e=(0,r._)(function(e){return(0,u.YH)(this,function(t){return[2,i.mU.removeItem(e)]})});return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r._)(function(e){return(0,u.YH)(this,function(t){return[2,i.Uv.removeItem(e)]})});return function(t){return e.apply(this,arguments)}}()},75380:(e,t,n)=>{n.d(t,{Uv:()=>F,mU:()=>o,ZU:()=>f});var r=n(97004),u=n(39249),a=n(77271),i=n.n(a),s="dummy".concat(new Date().getTime());let c=function(e){var t,n,a,c,o=i().createInstance(e),F=(t=(0,r._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:return[4,o.setItem(s,s)];case 1:return e.sent(),[4,o.removeItem(s)];case 2:return e.sent(),[2]}})}),function(){return t.apply(this,arguments)});return{ready:(0,r._)(function(){var t;return(0,u.YH)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.ready()];case 1:return n.sent(),[2,F()];case 2:throw t=n.sent(),o=i().createInstance(e),t;case 3:return[2]}})}),keys:(0,r._)(function(){return(0,u.YH)(this,function(t){try{return[2,o.keys()]}catch(t){throw o=i().createInstance(e),t}})}),driver:(0,r._)(function(){var t;return(0,u.YH)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,o.driver()];case 1:return[2,n.sent()];case 2:throw t=n.sent(),o=i().createInstance(e),t;case 3:return[2]}})}),setItem:(n=(0,r._)(function(t,n){var r;return(0,u.YH)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,o.setItem(t,n)];case 1:return[2,u.sent()];case 2:throw r=u.sent(),o=i().createInstance(e),r;case 3:return[2]}})}),function(e,t){return n.apply(this,arguments)}),getItem:(a=(0,r._)(function(t){var n;return(0,u.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.getItem(t)];case 1:return[2,r.sent()];case 2:throw n=r.sent(),o=i().createInstance(e),n;case 3:return[2]}})}),function(e){return a.apply(this,arguments)}),removeItem:(c=(0,r._)(function(t){var n;return(0,u.YH)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,o.removeItem(t)];case 1:return[2,r.sent()];case 2:throw n=r.sent(),o=i().createInstance(e),n;case 3:return[2]}})}),function(e){return c.apply(this,arguments)})}};var o=c({name:"GB Printer Web",storeName:"gb-printer-web-images"}),F=c({name:"GB Printer Web",storeName:"gb-printer-web-frames"});window.lfi=o,window.lff=F;var f=function(){var e=(0,r._)(function(){return(0,u.YH)(this,function(e){switch(e.label){case 0:return[4,F.ready()];case 1:return e.sent(),[4,o.ready()];case 2:return e.sent(),[4,new Promise(function(e){window.setTimeout(e,5)})];case 3:return e.sent(),[2]}})});return function(){return e.apply(this,arguments)}}()},78948:(e,t,n)=>{n.d(t,{A:()=>E,h:()=>M});var r=n(97004),u=n(86447),a=n(693),i=n(60376),s=n(87025),c=n(39249),o=n(36952),F=n.n(o),f=n(65453),l=n(46786),p=n(19864),m=n(10746),_=n(27746),d=n(55364),h=n(72623),g=function(){var e=(0,r._)(function(e){var t,n,r,u,s,o,F,f,l,p,m,g,A,v,D,y,w,b,I,B,E,H;return(0,c.YH)(this,function(c){switch(c.label){case 0:t=e.images,n=e.updateImages,r=e.frames,u=e.updateFrames,s=[],o=t.reduce(d.iy,[]),F=!0,f=!1,l=void 0,c.label=1;case 1:c.trys.push([1,6,7,8]),p=o[Symbol.iterator](),c.label=2;case 2:if(F=(m=p.next()).done)return[3,5];if((g=m.value).lines)return[3,4];return[4,(0,h.Hh)(g.hash,"",!0)];case 3:(null==(A=c.sent())?void 0:A.length)&&s.push((0,i._)((0,a._)({},g),{lines:A.length})),c.label=4;case 4:return F=!0,[3,2];case 5:return[3,8];case 6:return v=c.sent(),f=!0,l=v,[3,8];case 7:try{F||null==p.return||p.return()}finally{if(f)throw l}return[7];case 8:n(s),D=[],y=!0,w=!1,b=void 0,c.label=9;case 9:c.trys.push([9,14,15,16]),I=r[Symbol.iterator](),c.label=10;case 10:if(y=(B=I.next()).done)return[3,13];if((E=B.value).lines)return[3,12];return[4,(0,_.mZ)(E.hash)];case 11:(H=c.sent())&&D.push((0,i._)((0,a._)({},E),{lines:H.upper.length+20*H.left.length+H.lower.length})),c.label=12;case 12:return y=!0,[3,10];case 13:return[3,16];case 14:return v=c.sent(),w=!0,b=v,[3,16];case 15:try{y||null==I.return||I.return()}finally{if(w)throw b}return[7];case 16:return u(D),[2]}})});return function(t){return e.apply(this,arguments)}}(),A=n(15905),v=n(5432),D=n(46594),y=n(52324),w=function(){var e=(0,r._)(function(e){var t,n,r,u,s,o,F,f;return(0,c.YH)(this,function(c){switch(c.label){case 0:if(f={},!(null==(t=(F=e).frames)?void 0:t.length))return[3,2];return[4,(0,y.g)(F.frames)];case 1:f.frames=c.sent(),c.label=2;case 2:return(null==(n=F.frameGroupNames)?void 0:n.length)&&(f.frameGroups=F.frameGroupNames),(null==(r=F.palettes)?void 0:r.length)&&(f.palettes=F.palettes),(null==(u=F.plugins)?void 0:u.length)&&(f.plugins=F.plugins),(null==(s=F.imageGroups)?void 0:s.length)&&(f.imageGroups=F.imageGroups),(null==(o=F.images)?void 0:o.length)&&(f.images=F.images.map(function(e){return(0,i._)((0,a._)({},e),{created:(0,D.J)(e.created)})}).map(function(e){return(0,i._)((0,a._)({},e),{tags:e.tags||[]})}).map(function(e){if((0,d.pl)(e)){var t=(0,a._)({},e);return t.palette||Object.assign(t,{palette:v.YP}),t.palette.blend||Object.assign(t.palette,{blend:A.Nx.MULTIPLY}),t.frame=e.frame||void 0,t}var n=(0,a._)({},e);return void 0===n.framePalette&&(n.lockFrame?n.framePalette="bw":n.framePalette=n.palette),void 0===n.lockFrame&&(n.lockFrame=!1),void 0===n.invertFramePalette&&(n.invertFramePalette=n.invertPalette),n.frame=e.frame||void 0,n})),[2,f]}})});return function(t){return e.apply(this,arguments)}}(),b=n(87031),I=n(55685),B=n(85546),E=1,H=(0,B.A)("id"),G=(0,B.A)("id"),C=(0,B.A)("id"),P=(0,B.A)("url"),Y=(0,b.A)("id"),U=(0,B.A)("shortName"),T=(0,b.A)("name"),N=(0,B.A)("hash"),R=function(e){return Y(H(e))},S=function(e){return T(P(e))},L=function(e){return U((0,s._)(F().map(function(e){return(0,i._)((0,a._)({},e),{isPredefined:!0})})).concat((0,s._)(e)))};let M=(0,f.v)()((0,l.Zr)(function(e,t){return{frames:[],palettes:[],frameGroups:[],plugins:[],imageGroups:[],images:[],addFrames:function(t){return e(function(e){return{frames:R((0,s._)(t).concat((0,s._)(e.frames)))}})},addPalettes:function(n){var r=t().palettes,u=n.reduce(function(e,t){return r.find(function(e){return e.shortName===t.shortName})?{update:(0,s._)(e.update).concat([t]),add:e.add}:{update:e.update,add:(0,s._)(e.add).concat([t])}},{add:[],update:[]}),a=u.update,i=u.add;e({palettes:U((0,s._)(i).concat((0,s._)(r.map(function(e){return a.find(function(t){return t.shortName===e.shortName})||e}))))})},deleteFrame:function(t){return e(function(e){return{frames:R(e.frames.filter(function(e){return t!==e.id}))}})},deletePalette:function(t){return e(function(e){return{palettes:e.palettes.filter(function(e){return t!==e.shortName})}})},deletePlugin:function(t){return e(function(e){return{plugins:S(e.plugins.filter(function(e){return t!==e.url}))}})},updateFrameGroups:function(t){return e(function(e){return{frameGroups:G((0,s._)(t).concat((0,s._)(e.frameGroups)))}})},updatePluginConfig:function(n,r,s){var c=t().plugins,o=c.find(function(e){return e.url===n});if(!o)throw Error('Plugin "'.concat(n,'" not found'));var F=o,f=(0,i._)((0,a._)({},F.config||{}),(0,u._)({},r,s));return F=(0,i._)((0,a._)({},F),{config:f}),e({plugins:c.map(function(e){return e.url!==n?e:F})}),f},addUpdatePluginProperties:function(n){var r=t().plugins,u=(0,s._)(r);r.find(function(e){var t=e.url;return n.url===t})||u.push(n),e({plugins:S(u.map(function(e){return e.url!==n.url?e:(0,a._)({},e,n)}))})},addImageGroup:function(n,r){var u=t().imageGroups.map(function(e){var t=e.images.filter(function(e){return!n.images.includes(e)}),u=e.id===r?(0,s._)(e.groups).concat([n.id]):e.groups;return(0,i._)((0,a._)({},e),{groups:u,images:t})});e({imageGroups:C((0,s._)(u).concat([n]))})},deleteImageGroup:function(n){var r=t().imageGroups,u=r.find(function(e){return e.id===n});u&&e({imageGroups:r.reduce(function(e,t){return t.id===n?e:t.groups.includes(n)?(0,s._)(e).concat([(0,i._)((0,a._)({},t),{images:(0,s._)(t.images).concat((0,s._)(u.images)),groups:(0,s._)(t.groups).concat((0,s._)(u.groups)).filter(function(e){return e!==u.id})})]):(0,s._)(e).concat([t])},[])})},updateImageGroup:function(n,r){e({imageGroups:t().imageGroups.map(function(e){var t=(0,a._)({},e);return t.groups=t.groups.filter(function(e){return e!==n.id}),r===t.id&&(t.groups=(0,s._)(t.groups).concat([n.id])),t.id===n.id?n:t})})},groupImagesAdd:function(t,n){return e(function(e){return{imageGroups:e.imageGroups.map(function(e){return e.id===t?(0,i._)((0,a._)({},e),{images:(0,s._)(e.images).concat((0,s._)(n))}):(0,i._)((0,a._)({},e),{images:e.images.filter(function(e){return!n.includes(e)})})})}})},ungroupImages:function(t){return e(function(e){return{imageGroups:e.imageGroups.map(function(e){return(0,i._)((0,a._)({},e),{images:e.images.filter(function(e){return!t.includes(e)})})})}})},setImageGroups:function(t){return e({imageGroups:t})},addImages:function(t){return e(function(e){return{images:N((0,s._)(e.images).concat((0,s._)(t)))}})},deleteImages:function(t){return e(function(e){return{images:(0,s._)(e.images.filter(function(e){var n=e.hash;return!t.includes(n)}))}})},updateImageHash:function(t,n){return e(function(e){return{images:e.images.map(function(e){return e.hash===t?n:e})}})},updateImageFavouriteTag:function(t,n){return e(function(e){return{images:e.images.map(function(e){return e.hash===n?(0,i._)((0,a._)({},e),{tags:(0,I.A)(t?[p.X3.FILTER_FAVOURITE].concat((0,s._)(e.tags)):e.tags.filter(function(e){return e!==p.X3.FILTER_FAVOURITE}))}):e})}})},updateImages:function(t){return e(function(e){var n=new Map(t.map(function(e){return[e.hash,e]}));return{images:e.images.map(function(e){return n.get(e.hash)||e})}})},updateFrames:function(t){return e(function(e){var n=new Map(t.map(function(e){return[e.hash,e]}));return{frames:e.frames.map(function(e){return n.get(e.hash)||e})}})},setFrames:function(t){return e({frames:H(t)})},setImages:function(t){return e({images:N(t)})},setPalettes:function(t){return e({palettes:L(t)})}}},{name:"".concat(m.z,"-items"),storage:(0,l.KU)(function(){return localStorage}),merge:function(e,t){var n=(0,a._)({},t,e);return(0,i._)((0,a._)({},n),{palettes:L(n.palettes),plugins:n.plugins.map(function(e){return(0,i._)((0,a._)({},e),{loading:!1})})})},partialize:function(e){return{frames:e.frames,frameGroups:e.frameGroups,imageGroups:e.imageGroups,images:e.images,plugins:e.plugins.map(function(e){return(0,i._)((0,a._)({},e),{loading:void 0,error:void 0})}),palettes:e.palettes.filter(function(e){return!e.isPredefined})}},onRehydrateStorage:function(){return function(e){e&&g(e)}},version:E,migrate:function(){var e=(0,r._)(function(e,t){var n;return(0,c.YH)(this,function(r){switch(r.label){case 0:if(0!==t)return[3,2];return[4,w(e)];case 1:n=r.sent(),r.label=2;case 2:return[2,n]}})});return function(t,n){return e.apply(this,arguments)}}()}))},85546:(e,t,n)=>{n.d(t,{A:()=>r});let r=function(e){return function(t){var n=new Set;return t.filter(function(t){var r=t[e];return!n.has(r)&&(n.add(r),!0)})}}},87031:(e,t,n)=>{n.d(t,{A:()=>a,U:()=>u});var r=n(87025),u=function(e){return e.ASC="asc",e.DESC="desc",e}({});let a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(n){var u="desc"===t?-1:1;return(0,r._)(n).sort(function(t,n){return"string"==typeof t[e]?t[e].localeCompare(n[e]):t[e]>n[e]?u:t[e]<n[e]?-u:0})}}}}]);